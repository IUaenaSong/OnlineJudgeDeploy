(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-b39005e8"],{"0a5a":function(t,s,e){"use strict";var i=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"markdown-body submission-detail"},[e("pre",{directives:[{name:"highlight",rawName:"v-highlight",value:t.code,expression:"code"}],style:t.styleObject},[e("code",{class:t.language})])])},o=[],a={name:"highlight",data:function(){return{styleObject:{"border-left":"3px solid "+this.borderColor}}},props:{language:{type:String},code:{required:!0,type:String},borderColor:{type:String,default:"#19be6b"}},watch:{borderColor:function(t,s){t!=s&&(this.styleObject["border-left"]="3px solid "+t)}}},n=a,r=(e("a40f"),e("2877")),u=Object(r["a"])(n,i,o,!1,null,"0b95fd76",null);s["a"]=u.exports},a40f:function(t,s,e){"use strict";e("d662")},b8a1:function(t,s,e){"use strict";e("e248")},d662:function(t,s,e){},e248:function(t,s,e){},eb14:function(t,s,e){"use strict";e.r(s);var i=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("el-row",{attrs:{type:"flex",justify:"space-around"}},[e("el-col",{staticStyle:{"margin-top":"10px","margin-bottom":"10px"},attrs:{span:24,id:"status"}},[e("el-alert",{class:t.getbackgroudColor(t.submission.status),staticStyle:{padding:"18px"},attrs:{type:t.status.type,"show-icon":"",closable:!1,effect:"dark"}},[e("template",{slot:"title"},[e("span",{staticClass:"title"},[t._v(t._s(t.status.statusName))])]),e("template",{slot:"default"},[t.isCE||t.isSE||t.isSF?e("div",{staticClass:"content"},[e("pre",[t._v(t._s(t.submission.errorMessage))])]):e("div",{staticClass:"content"},[e("span",{staticClass:"span-row"},[t._v(t._s(t.$t("m.Time"))+": "+t._s(t.submissionTimeFormat(t.submission.time)))]),e("span",{staticClass:"span-row"},[t._v(t._s(t.$t("m.Memory"))+": "+t._s(t.submissionMemoryFormat(t.submission.memory)))]),e("span",{staticClass:"span-row"},[t._v(t._s(t.$t("m.Length"))+": "+t._s(t.submissionLengthFormat(t.submission.length)))]),e("span",{staticClass:"span-row"},[t._v(t._s(t.$t("m.Language"))+": "+t._s(t.submission.language?t.submission.language:"--"))]),e("span",{staticClass:"span-row"},[t._v(t._s(t.$t("m.Author"))+": "+t._s(t.submission.username?t.submission.username:"--"))])])])],2)],1),t.tableData&&!t.isCE?e("el-col",{staticStyle:{"margin-top":"10px","margin-bottom":"10px"},attrs:{span:24}},[e("vxe-table",{attrs:{align:"center",data:t.tableData,stripe:"","auto-resize":"",loading:t.loadingTable}},[e("vxe-table-column",{attrs:{field:"submitId",title:t.$t("m.Run_ID"),width:"100"}}),e("vxe-table-column",{attrs:{title:t.$t("m.Submit_Time"),"min-width":"160"},scopedSlots:t._u([{key:"default",fn:function(s){var i=s.row;return[e("span",[t._v(t._s(t._f("localtime")(i.submitTime)))])]}}],null,!1,1043994308)}),e("vxe-table-column",{attrs:{field:"pid",title:t.$t("m.Problem_ID"),"min-width":"100"},scopedSlots:t._u([{key:"default",fn:function(s){var i=s.row;return[e("a",{staticStyle:{color:"rgb(87, 163, 243)"},on:{click:function(s){return t.getProblemUri(i)}}},[t._v(t._s(i.displayPid))])]}}],null,!1,1169308018)}),e("vxe-table-column",{attrs:{field:"status",title:t.$t("m.Status"),"min-width":"160"},scopedSlots:t._u([{key:"default",fn:function(s){var i=s.row;return[e("span",{class:t.getStatusColor(i.status)},[t._v(t._s(t.JUDGE_STATUS[i.status].name))])]}}],null,!1,3298978685)}),e("vxe-table-column",{attrs:{title:t.$t("m.Time"),"min-width":"96"},scopedSlots:t._u([{key:"default",fn:function(s){var i=s.row;return[e("span",[t._v(t._s(t.submissionTimeFormat(i.time)))])]}}],null,!1,3772463182)}),e("vxe-table-column",{attrs:{title:t.$t("m.Memory"),"min-width":"96"},scopedSlots:t._u([{key:"default",fn:function(s){var i=s.row;return[e("span",[t._v(t._s(t.submissionMemoryFormat(i.memory)))])]}}],null,!1,640197390)}),t.isIOProblem?e("vxe-table-column",{attrs:{title:t.$t("m.Score"),"min-width":"64"},scopedSlots:t._u([{key:"default",fn:function(s){var i=s.row;return[null!=i.score?[e("el-tooltip",{attrs:{placement:"top"}},[e("div",{attrs:{slot:"content"},slot:"content"},[t._v(" "+t._s(t.$t("m.Problem_Score"))+"："+t._s(null!=i.score?i.score:t.$t("m.Nothing"))),e("br"),t._v(t._s(t.$t("m.OI_Rank_Score"))+"："+t._s(null!=i.oiRankScore?i.oiRankScore:t.$t("m.Nothing"))),e("br"),t._v(" "+t._s(t.$t("m.OI_Rank_Calculation_Rule"))+":(score*0.1+diffculty*2)*(ac_testcase/sum_testcase) ")]),e("span",[t._v(t._s(i.score))])])]:[e("span",[t._v("--")])]]}}],null,!1,88289696)}):t._e(),e("vxe-table-column",{attrs:{title:t.$t("m.Length"),"min-width":"80"},scopedSlots:t._u([{key:"default",fn:function(s){var i=s.row;return[e("span",[t._v(t._s(t.submissionLengthFormat(i.length)))])]}}],null,!1,1071386094)})],1)],1):t._e(),null!=t.testCaseResult&&t.testCaseResult.length>0?e("el-col",{staticStyle:{"margin-top":"10px","margin-bottom":"10px"},attrs:{span:24}},[e("el-card",{attrs:{shadow:"hover"}},[e("div",{attrs:{slot:"header"},slot:"header"},[e("span",{staticClass:"panel-title home-title"},[t._v(t._s(t.$t("m.Test_point_details")))])]),e("el-row",{attrs:{gutter:10}},t._l(t.testCaseResult,(function(s,i){return e("el-col",{key:i,staticStyle:{"margin-top":"5px","margin-bottom":"5px"},attrs:{xs:24,sm:8,md:6,lg:4,xl:3}},[e("el-tooltip",{attrs:{placement:"top"}},[e("div",{attrs:{slot:"content"},slot:"content"},[s.inputData?[t._v(" "+t._s(t.$t("m.Input_File"))+"："+t._s(s.inputData)),e("br")]:t._e(),s.outputData?[t._v(" "+t._s(t.$t("m.Output_File"))+"："+t._s(s.outputData)),e("br")]:t._e(),t._v(" "+t._s(t.$t("m.Case_tips"))+"："+t._s(s.userOutput?s.userOutput:t.$t("m.Nothing"))+" ")],2),s.status==t.JUDGE_STATUS_RESERVE.ac?e("div",{staticClass:"test-detail-item",style:t.getTestCaseResultColor(s.status)},[e("span",[t._v("Test #"+t._s(i+1)+":")]),e("h2",[t._v(t._s(t.JUDGE_STATUS[s.status]["short"]))]),e("div",{staticStyle:{"text-align":"center"}},[t._v(" "+t._s(s.time+" ms / "+s.memory+" KB")+" ")]),e("div",{staticClass:"test-run-static"},[null!=s.score?e("span",[t._v(" "+t._s(s.score)+" "),e("i",{staticClass:"el-icon-success"})]):e("span",[e("i",{staticClass:"el-icon-success"})])])]):e("div",{staticClass:"test-detail-item",style:t.getTestCaseResultColor(s.status)},[e("span",[t._v("Test #"+t._s(i+1)+": ")]),e("h2",[t._v(t._s(t.JUDGE_STATUS[s.status]["short"]))]),e("div",{staticStyle:{"text-align":"center"}},[t._v(" "+t._s(s.time)+"ms/"+t._s(s.memory)+"KB ")]),e("div",{staticClass:"test-run-static"},[null!=s.score?e("span",[t._v(" "+t._s(s.score)+" "),e("i",{staticClass:"el-icon-error"})]):e("span",[e("i",{staticClass:"el-icon-error"})])])])])],1)})),1)],1)],1):t._e(),t.submission.code&&t.submission.share&&t.codeShare||t.isMeSubmisson||t.isAdminRole||t.isGroupRoot?[t.submission.code?e("el-col",{staticStyle:{"margin-top":"10px","margin-bottom":"10px"},attrs:{span:24}},[e("Highlight",{attrs:{code:t.submission.code,language:t.submission.language,"border-color":t.status.color},on:{"update:borderColor":function(s){return t.$set(t.status,"color",s)},"update:border-color":function(s){return t.$set(t.status,"color",s)}}})],1):t._e(),e("el-col",{staticStyle:{"margin-bottom":"10px"},attrs:{span:24}},[e("div",{attrs:{id:"share-btn"}},[t.submission.code?e("el-button",{attrs:{type:"primary",icon:"el-icon-document-copy",size:"large"},on:{click:t.doCopy}},[t._v(t._s(t.$t("m.Copy")))]):t._e(),t.codeShare&&t.isMeSubmisson?[t.submission.share?e("el-button",{attrs:{type:"warning",size:"large",icon:"el-icon-circle-close"},on:{click:function(s){return t.shareSubmission(!1)}}},[t._v(" "+t._s(t.$t("m.Unshared"))+" ")]):t.submission.share?t._e():e("el-button",{attrs:{type:"primary",size:"large",icon:"el-icon-share"},on:{click:function(s){return t.shareSubmission(!0)}}},[t._v(" "+t._s(t.$t("m.Shared"))+" ")])]:t._e()],2)])]:t._e()],2)},o=[],a=(e("b0c0"),e("3228")),n=e("9a36"),r=e("90b9"),u=e("b355"),l=e("0a5a"),c={name:"SubmissionDetails",components:{Highlight:l["a"]},data:function(){return{submission:{code:"",submitId:"",submitTime:"",pid:"",cid:"",eid:"",displayPid:"",status:0,time:"",memory:"",language:"",author:"",errorMessage:"",share:!0},tableData:[],testCaseResult:[],codeShare:!0,isIOProblem:!1,loadingTable:!1,JUDGE_STATUS:"",JUDGE_STATUS_RESERVE:"",auth:0}},mounted:function(){this.getSubmission(),this.getAllCaseResult(),this.JUDGE_STATUS=Object.assign({},n["k"]),this.JUDGE_STATUS_RESERVE=Object.assign({},n["l"])},methods:{doCopy:function(){var t=this;this.$copyText(this.submission.code).then((function(){t.$msg.success(t.$i18n.t("m.Copied_successfully"))}),(function(){t.$msg.success(t.$i18n.t("m.Copied_failed"))}))},submissionTimeFormat:function(t){return r["a"].submissionTimeFormat(t)},submissionMemoryFormat:function(t){return r["a"].submissionMemoryFormat(t)},submissionLengthFormat:function(t){return r["a"].submissionLengthFormat(t)},getProblemUri:function(t){0!=t.cid?this.$router.push({name:"ContestProblemDetails",params:{contestID:t.cid,problemID:t.displayPid}}):0!=t.eid?this.$router.push({name:"ExamProblemDetails",params:{examID:t.eid,problemID:t.displayPid}}):this.$router.push({name:"ProblemDetails",params:{problemID:t.displayPid}})},getStatusColor:function(t){return"el-tag el-tag--medium status-"+n["k"][t].color},getTestCaseResultColor:function(t){return"background-color:"+n["k"][t].rgb+"!important;border-color:"+n["k"][t].rgb+"!important"},getbackgroudColor:function(t){return"status-"+n["k"][t].color},getSubmission:function(){var t=this;this.loadingTable=!0,a["a"].getSubmission(this.$route.params.submitID).then((function(s){var e=s.data.data;e.gid&&a["a"].getGroupAuth(e.gid).then((function(s){t.auth=s.data.data})).catch(),t.gid=e.gid,e.submission.memory&&e.submission.score&&!t.isIOProblem&&null!==e.submission.score&&(t.isIOProblem=!0),!t.$route.params.problemID||0==e.submission.cid&&0==e.submission.eid||(e.submission.displayPid=t.$route.params.problemID),t.submission=e.submission,t.tableData=[e.submission],0!=e.submission.cid||0!=e.submission.eid?t.codeShare=!1:t.codeShare=e.codeShare,t.$nextTick((function(t){Object(u["a"])()})),t.loadingTable=!1}),(function(){t.loadingTable=!1}))},getAllCaseResult:function(){var t=this;a["a"].getAllCaseResult(this.$route.params.submitID).then((function(s){t.testCaseResult=s.data.data}))},shareSubmission:function(t){var s=this,e={submitId:this.submission.submitId,share:t,uid:this.submission.uid};a["a"].updateSubmission(e).then((function(e){s.getSubmission(),t?s.$msg.success(s.$i18n.t("m.Shared_successfully")):s.$msg.success(s.$i18n.t("m.Cancel_Sharing_Successfully"))}),(function(){}))}},watch:{submission:function(t,s){t.code&&this.$nextTick((function(t){Object(u["a"])()}))}},computed:{status:function(){return{type:n["k"][this.submission.status].type,statusName:n["k"][this.submission.status].name,color:n["k"][this.submission.status].rgb}},isCE:function(){return this.submission.status===n["l"].ce},isSE:function(){return this.submission.status===n["l"].se},isSF:function(){return this.submission.status===n["l"].sf},isAdminRole:function(){return this.$store.getters.isAdminRole},isAuthenticated:function(){return this.$store.getters.isAuthenticated},isMeSubmisson:function(){return this.$store.getters.userInfo.uid===this.submission.uid},isGroupRoot:function(){return 5==this.auth}}},m=c,d=(e("b8a1"),e("2877")),b=Object(d["a"])(m,i,o,!1,null,"7ec6c708",null);s["default"]=b.exports}}]);