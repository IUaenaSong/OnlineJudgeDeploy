(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4b05a716"],{"41da":function(e,t,i){"use strict";var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[e.editPage?e._e():i("vxe-table",{attrs:{stripe:"","auto-resize":"",data:e.problemList,loading:e.loading,align:"center"}},[i("vxe-table-column",{attrs:{"min-width":"64",field:"id",title:"ID"}}),e.contestID||e.examID?i("vxe-table-column",{attrs:{"min-width":"150",title:e.$t("m.Original_Display"),align:"left"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[e.contestID||e.examID?i("p",[e._v(" "+e._s(e.$t("m.Display_ID"))+"："+e._s(a.problemId)+" ")]):e._e(),e.contestID||e.examID?i("p",[e._v(e._s(e.$t("m.Title"))+"："+e._s(a.title))]):i("span",[e._v(e._s(a.problemId))])]}}],null,!1,2980621275)}):i("vxe-table-column",{attrs:{"min-width":"100",field:"problemId",title:e.$t("m.Display_ID")}}),e.contestID||e.examID?e.contestID?i("vxe-table-column",{attrs:{"min-width":"150",title:e.$t("m.Contest_Display"),align:"left"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[e.contestProblemMap[a.id]?i("p",[e._v(" "+e._s(e.$t("m.Display_ID"))+"："+e._s(e.contestProblemMap[a.id]["displayId"])+" ")]):e._e(),e.contestProblemMap[a.id]?i("p",[e._v(" "+e._s(e.$t("m.Title"))+"："+e._s(e.contestProblemMap[a.id]["displayTitle"])+" ")]):e._e(),e.contestProblemMap[a.id]?i("span",[e._v(" "+e._s(e.$t("m.Balloon_Color"))+"："),i("el-color-picker",{staticStyle:{"vertical-align":"middle"},attrs:{"show-alpha":"",predefine:e.predefineColors,size:"small"},on:{change:function(t){return e.changeContestProblemColor(e.contestProblemMap[a.id])}},model:{value:e.contestProblemMap[a.id].color,callback:function(t){e.$set(e.contestProblemMap[a.id],"color",t)},expression:"contestProblemMap[row.id].color"}})],1):i("span",[e._v(e._s(a.title))])]}}],null,!1,1373693970)}):e.examID?i("vxe-table-column",{attrs:{"min-width":"150",title:e.$t("m.Exam_Display"),align:"left"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[e.examProblemMap[a.id]?i("p",[e._v(" "+e._s(e.$t("m.Display_ID"))+"："+e._s(e.examProblemMap[a.id]["displayId"])+" ")]):e._e(),e.examProblemMap[a.id]?i("p",[e._v(" "+e._s(e.$t("m.Title"))+"："+e._s(e.examProblemMap[a.id]["displayTitle"])+" ")]):e._e(),e.examProblemMap[a.id]?i("span",[e._v(" "+e._s(e.$t("m.Score"))+"： "),i("el-input",{staticStyle:{width:"60%"},attrs:{size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.changeExamProblemScore(e.examProblemMap[a.id])}},model:{value:e.examProblemMap[a.id].score,callback:function(t){e.$set(e.examProblemMap[a.id],"score",t)},expression:"examProblemMap[row.id].score"}})],1):i("span",[e._v(e._s(a.title))])]}}],null,!1,3257991616)}):e._e():i("vxe-table-column",{attrs:{field:"title","min-width":"150",title:e.$t("m.Title"),"show-overflow":""}}),i("vxe-table-column",{attrs:{field:"author","min-width":"96",title:e.$t("m.Author"),"show-overflow":""}}),i("vxe-table-column",{attrs:{"min-width":"120",title:e.$t("m.Created_Time")},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.row;return[e._v(" "+e._s(e._f("localtime")(i.gmtCreate))+" ")]}}],null,!1,4036319876)}),i("vxe-table-column",{attrs:{"min-width":"96",field:"modifiedUser",title:e.$t("m.Modified_User"),"show-overflow":""}}),i("vxe-table-column",{attrs:{"min-width":"120",title:e.$t("m.Auth")},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[i("el-select",{attrs:{size:"small",disabled:a.gid!=e.gid||!e.isGroupRoot&&e.userInfo.username!=a.author},on:{change:function(t){return e.changeProblemAuth(a.id,a.auth)}},model:{value:a.auth,callback:function(t){e.$set(a,"auth",t)},expression:"row.auth"}},[i("el-option",{attrs:{label:e.$t("m.Public_Problem"),value:1}}),i("el-option",{attrs:{label:e.$t("m.Private_Problem"),value:2}}),i("el-option",{attrs:{label:e.$t("m.Contest_Exam_Problem"),value:3,disabled:!e.contestID&&!e.examID}})],1)]}}],null,!1,1890993070)}),i("vxe-table-column",{attrs:{title:e.$t("m.Option"),"min-width":"200"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[a.gid!=e.gid||!e.isGroupRoot&&e.userInfo.username!=a.author?e._e():i("el-tooltip",{attrs:{effect:"dark",content:e.$t("m.Edit"),placement:"top"}},[i("el-button",{attrs:{icon:"el-icon-edit-outline",size:"mini",type:"primary"},nativeOn:{click:function(t){return e.goEditProblem(a.id)}}})],1),a.gid!=e.gid||!e.isGroupRoot&&e.userInfo.username!=a.author?e._e():i("el-tooltip",{attrs:{effect:"dark",content:e.$t("m.Download_Testcase"),placement:"top"}},[i("el-button",{attrs:{icon:"el-icon-download",size:"mini",type:"success"},nativeOn:{click:function(t){return e.downloadTestCase(a.id)}}})],1),e.contestID||e.examID?i("p"):e._e(),e.contestID?i("el-tooltip",{attrs:{effect:"dark",content:e.$t("m.Remove"),placement:"top"}},[i("el-button",{attrs:{icon:"el-icon-close",size:"mini",type:"warning"},nativeOn:{click:function(t){return e.removeContestProblem(a.id)}}})],1):e._e(),e.examID?i("el-tooltip",{attrs:{effect:"dark",content:e.$t("m.Remove"),placement:"top"}},[i("el-button",{attrs:{icon:"el-icon-close",size:"mini",type:"warning"},nativeOn:{click:function(t){return e.removeExamProblem(a.id)}}})],1):e._e(),a.gid!=e.gid||!e.isGroupRoot&&e.userInfo.username!=a.author?e._e():i("el-tooltip",{attrs:{effect:"dark",content:e.$t("m.Delete"),placement:"top"}},[i("el-button",{attrs:{icon:"el-icon-delete-solid",size:"mini",type:"danger"},nativeOn:{click:function(t){return e.deleteProblem(a.id)}}})],1)]}}],null,!1,1467142687)})],1),e.editPage?e._e():i("Pagination",{attrs:{total:e.total,"page-size":e.limit,current:e.currentPage,layout:"prev, pager, next, sizes"},on:{"on-change":e.currentChange,"update:current":function(t){e.currentPage=t},"on-page-size-change":e.onPageSizeChange}}),e.editPage?i("Problem",{attrs:{mode:"edit",title:e.$t("m.Edit_Problem"),apiMethod:"updateGroupProblem",pid:e.pid,contestID:e.contestID,examID:e.examID},on:{handleEditPage:e.handleEditPage,currentChange:e.currentChange}}):e._e()],1)},n=[],o=i("5530"),s=(i("d3b7"),i("3ca3"),i("ddb0"),i("a9e3"),i("90b9")),r=i("2f62"),l=i("3228"),u=i("7850"),c=function(){return i.e("chunk-48bf8d0f").then(i.bind(null,"5072"))},m={name:"GroupProblemList",components:{Pagination:c,Problem:u["a"]},props:{contestID:{type:Number,default:null},examID:{type:Number,default:null}},data:function(){return{total:0,currentPage:1,limit:10,problemList:[],contestProblemMap:{},examProblemMap:{},loading:!1,pid:null,editPage:!1,predefineColors:null,gid:null}},mounted:function(){this.gid=this.$route.params.groupID,this.init()},methods:{init:function(){this.getAdminProblemList()},onPageSizeChange:function(e){this.limit=e,this.init()},currentChange:function(e){this.currentPage=e,this.init()},getAdminProblemList:function(){var e=this;if(this.loading=!0,this.contestID){var t={cid:this.contestID};l["a"].getGroupContestProblemList(this.currentPage,this.limit,t).then((function(t){e.total=t.data.data.problemList.total,e.problemList=t.data.data.problemList.records,e.contestProblemMap=t.data.data.contestProblemMap,e.loading=!1}),(function(t){e.loading=!1}))}else if(this.examID){var i={eid:this.examID};l["a"].getGroupExamProblemList(this.currentPage,this.limit,i).then((function(t){e.total=t.data.data.problemList.total,e.problemList=t.data.data.problemList.records,e.examProblemMap=t.data.data.examProblemMap,e.loading=!1}),(function(t){e.loading=!1}))}else l["a"].getGroupAdminProblemList(this.currentPage,this.limit,this.$route.params.groupID).then((function(t){e.problemList=t.data.data.records,e.total=t.data.data.total,e.loading=!1}),(function(t){e.loading=!1}))},handleEditPage:function(){this.editPage=!1,this.$emit("currentChange",1),this.contestID||this.examID?this.$emit("handleEditProblemPage"):this.$emit("handleEditPage")},goEditProblem:function(e){this.pid=e,this.editPage=!this.editPage,this.contestID||this.examID?this.$emit("handleEditProblemPage"):this.$emit("handleEditPage")},changeContestProblemColor:function(e){var t=this;l["a"].updateGroupContestProblem(e).then((function(e){t.$msg.success(t.$i18n.t("m.Update_Successfully"))}))},changeExamProblemScore:function(e){var t=this;l["a"].updateGroupExamProblem(e).then((function(e){t.$msg.success(t.$i18n.t("m.Update_Successfully"))}))},changeProblemAuth:function(e,t){var i=this;l["a"].changeGroupProblemAuth(e,t).then((function(e){i.$msg.success(i.$i18n.t("m.Update_Successfully")),i.$emit("currentChange",1)}))},removeContestProblem:function(e){var t=this;this.$confirm(this.$i18n.t("m.Remove_Contest_Problem_Tips"),this.$i18n.t("m.Warning"),{type:"warning"}).then((function(){l["a"].deleteGroupContestProblem(e,t.contestID).then((function(e){t.$msg.success(t.$t("m.Delete_successfully")),t.$emit("currentChangeProblem")})).catch((function(){}))}),(function(){}))},removeExamProblem:function(e){var t=this;this.$confirm(this.$i18n.t("m.Remove_Exam_Problem_Tips"),this.$i18n.t("m.Warning"),{type:"warning"}).then((function(){l["a"].deleteGroupExamProblem(e,t.examID).then((function(e){t.$msg.success(t.$t("m.Delete_successfully")),t.$emit("currentChangeProblem")})).catch((function(){}))}),(function(){}))},downloadTestCase:function(e){var t=this,i="/api/file/download-testcase?pid="+e;s["a"].downloadFile(i).then((function(){t.$alert(t.$i18n.t("m.Download_Testcase_Success"),t.$i18n.t("m.Tips"))}))},deleteProblem:function(e){var t=this;this.$confirm(this.$i18n.t("m.Delete_Problem_Tips"),this.$i18n.t("m.Warning"),{type:"warning"}).then((function(){l["a"].deleteGroupProblem(e,t.$route.params.groupID).then((function(e){t.$msg.success(t.$i18n.t("m.Delete_successfully")),t.$emit("currentChange",1),t.currentChange(1)})).catch((function(){}))}),(function(){}))}},computed:Object(o["a"])({},Object(r["c"])(["userInfo","isGroupRoot"]))},d=m,p=i("2877"),h=Object(p["a"])(d,a,n,!1,null,null,null);t["a"]=h.exports},"452b":function(e,t,i){"use strict";i("fc3f")},4615:function(e,t,i){"use strict";i("562d")},4662:function(e,t,i){},"55f6":function(e,t,i){"use strict";var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticStyle:{"text-align":"center"}},[i("vxe-input",{staticStyle:{"margin-bottom":"10px"},attrs:{placeholder:e.$t("m.Enter_keyword"),type:"search",size:"medium"},on:{"search-click":e.filterByKeyword},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.filterByKeyword.apply(null,arguments)}},model:{value:e.keyword,callback:function(t){e.keyword=t},expression:"keyword"}}),i("vxe-table",{attrs:{data:e.problemList,loading:e.loading,"auto-resize":"",stripe:"",align:"center"}},[i("vxe-table-column",{attrs:{title:"ID","min-width":"100",field:"problemId"}}),i("vxe-table-column",{attrs:{"min-width":"150",title:e.$t("m.Title"),field:"title"}}),i("vxe-table-column",{attrs:{title:e.$t("m.Option"),align:"center","min-width":"100"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[i("el-tooltip",{attrs:{effect:"dark",content:e.$t("m.Add"),placement:"top"}},[i("el-button",{attrs:{icon:"el-icon-plus",size:"mini",type:"primary"},nativeOn:{click:function(t){return e.addPublicProblem(a.id,a.problemId)}}})],1)]}}])})],1),e.total?i("el-pagination",{staticClass:"page",attrs:{layout:"prev, pager, next, sizes","page-size":e.limit,"current-page":e.currentPage,total:e.total,"page-sizes":[10,30,50,100]},on:{"current-change":e.currentChange,"update:currentPage":function(t){e.currentPage=t},"update:current-page":function(t){e.currentPage=t},"size-change":e.onPageSizeChange}}):e._e()],1)},n=[],o=(i("d3b7"),i("3ca3"),i("ddb0"),i("a9e3"),i("3228")),s=function(){return i.e("chunk-48bf8d0f").then(i.bind(null,"5072"))},r={name:"AddProblemFromPublic",components:{Pagination:s},props:{apiMethod:{type:String,default:"getGroupTrainingProblemList"},trainingID:{type:Number,default:null},contestID:{type:Number,default:null},examID:{type:Number,default:null}},data:function(){return{currentPage:1,limit:10,total:0,loading:!1,problemList:[],contest:{},exam:{},keyword:""}},mounted:function(){var e=this;this.contestID?o["a"].getGroupContest(this.contestID).then((function(t){e.contest=t.data.data,e.init()})).catch((function(){})):this.examID?o["a"].getGroupExam(this.examID).then((function(t){e.exam=t.data.data,e.init()})).catch((function(){})):this.trainingID&&this.init()},methods:{init:function(){this.getPublicProblem()},onPageSizeChange:function(e){this.limit=e,this.init()},currentChange:function(e){this.currentPage=e,this.init()},getPublicProblem:function(){var e=this;this.loading=!0;var t={keyword:this.keyword,problemType:this.contest.type,cid:this.contest.id,eid:this.exam.id,tid:this.trainingID,queryExisted:!1};this.examID&&(t.problemType=1),o["a"][this.apiMethod](this.currentPage,this.limit,t).then((function(t){e.loading=!1,e.total=t.data.data.problemList.total,e.problemList=t.data.data.problemList.records})).catch((function(){e.loading=!1}))},addPublicProblem:function(e,t){var i=this;if(this.contestID)this.$prompt(this.$i18n.t("m.Enter_The_Problem_Display_ID_in_the_Contest"),"Tips").then((function(t){var a=t.value,n={pid:e,cid:i.contestID,displayId:a};null!=a&&""!=a?o["a"].addGroupContestProblemFromPublic(n).then((function(e){i.$msg.success(i.$i18n.t("m.Add_Successfully")),i.$emit("currentChangeProblem"),i.currentChange(1)}),(function(){})):i.$msg.error(i.$t("m.The_Problem_Display_ID_in_the_Contest_is_required"))}),(function(){}));else if(this.examID)this.$prompt(this.$i18n.t("m.Enter_The_Problem_Display_ID_in_the_Exam"),"Tips").then((function(t){var a=t.value,n={pid:e,eid:i.examID,displayId:a};null!=a&&""!=a?o["a"].addGroupExamProblemFromPublic(n).then((function(e){i.$msg.success(i.$i18n.t("m.Add_Successfully")),i.$emit("currentChangeProblem"),i.currentChange(1)}),(function(){})):i.$msg.error(i.$t("m.The_Problem_Display_ID_in_the_Exam_is_required"))}),(function(){}));else{var a={pid:e,tid:this.trainingID,displayId:t};o["a"].addGroupTrainingProblemFromPublic(a).then((function(e){i.$msg.success(i.$i18n.t("m.Add_Successfully")),i.$emit("currentChangeProblem"),i.currentChange(1)}),(function(){}))}},filterByKeyword:function(){this.getPublicProblem(this.page)}}},l=r,u=(i("b495"),i("2877")),c=Object(u["a"])(l,a,n,!1,null,"44bfaa31",null);t["a"]=c.exports},"562d":function(e,t,i){},6384:function(e,t,i){},"6b7a":function(e,t,i){"use strict";i.r(t);var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("el-card",[i("div",{staticClass:"filter-row"},[i("el-row",[i("el-col",{attrs:{span:3}},[i("span",{staticClass:"title"},[e._v(e._s(e.$t("m.Group_Exam")))])]),!e.isSuperAdmin&&!e.isGroupAdmin||e.problemPage||e.editProblemPage||e.questionPage||e.editQuestionPage?!e.isSuperAdmin&&!e.isGroupAdmin||!e.problemPage||e.editProblemPage||e.createProblemPage?!e.isSuperAdmin&&!e.isGroupAdmin||!e.questionPage||e.editQuestionPage||e.createQuestionPage?e._e():i("el-col",{attrs:{span:18}},[i("el-button",{attrs:{type:"primary",size:"small",icon:"el-icon-plus"},on:{click:e.handleCreateQuestionPage}},[e._v(e._s(e.$t("m.Create")))]),i("el-button",{attrs:{type:"success",size:"small",icon:"el-icon-plus"},on:{click:function(t){e.groupQuestionPage=!0}}},[e._v(e._s(e.$t("m.Add_From_Group_Question")))]),i("el-button",{attrs:{type:"warning",size:"small",icon:"el-icon-back"},on:{click:function(t){return e.handleQuestionPage(null)}}},[e._v(e._s(e.$t("m.Back")))])],1):i("el-col",{attrs:{span:18}},[i("el-button",{attrs:{type:"primary",size:"small",icon:"el-icon-plus"},on:{click:e.handleCreateProblemPage}},[e._v(e._s(e.$t("m.Create")))]),i("el-button",{attrs:{type:"primary",size:"small",icon:"el-icon-plus"},on:{click:function(t){e.publicPage=!0}}},[e._v(e._s(e.$t("m.Add_From_Public_Problem")))]),i("el-button",{attrs:{type:"success",size:"small",icon:"el-icon-plus"},on:{click:e.handleGroupProblemPage}},[e._v(e._s(e.$t("m.Add_From_Group_Problem")))]),i("el-button",{attrs:{type:"warning",size:"small",icon:"el-icon-back"},on:{click:function(t){return e.handleProblemPage(null)}}},[e._v(e._s(e.$t("m.Back")))])],1):i("el-col",{attrs:{span:18}},[e.editPage?e._e():i("el-button",{attrs:{type:e.createPage?"danger":"primary",size:"small",icon:e.createPage?"el-icon-back":"el-icon-plus"},on:{click:e.handleCreatePage}},[e._v(e._s(e.createPage?e.$t("m.Back"):e.$t("m.Create")))]),e.editPage&&e.adminPage?i("el-button",{attrs:{type:"danger",size:"small",icon:"el-icon-back"},on:{click:e.handleEditPage}},[e._v(e._s(e.$t("m.Back")))]):e._e(),e._v("` "),i("el-button",{attrs:{type:e.adminPage?"warning":"success",size:"small",icon:e.adminPage?"el-icon-back":"el-icon-s-opportunity"},on:{click:e.handleAdminPage}},[e._v(e._s(e.adminPage?e.$t("m.Back"):e.$t("m.Exam_Admin")))])],1),!e.isSuperAdmin&&!e.isGroupAdmin||!e.questionPage||e.editQuestionPage||e.createQuestionPage?(e.isSuperAdmin||e.isGroupAdmin)&&(e.editProblemPage||e.createProblemPage)?i("el-col",{attrs:{span:18}},[e.editProblemPage?i("el-button",{attrs:{type:"danger",size:"small",icon:"el-icon-back"},on:{click:e.handleEditProblemPage}},[e._v(e._s(e.$t("m.Back")))]):e._e(),e._v("` "),e.createProblemPage?i("el-button",{attrs:{type:"danger",size:"small",icon:"el-icon-back"},on:{click:e.handleCreateProblemPage}},[e._v(e._s(e.$t("m.Back")))]):e._e(),e._v("` ")],1):(e.isSuperAdmin||e.isGroupAdmin)&&(e.editQuestionPage||e.createQuestionPage)?i("el-col",{attrs:{span:18}},[e.editQuestionPage?i("el-button",{attrs:{type:"danger",size:"small",icon:"el-icon-back"},on:{click:e.handleEditQuestionPage}},[e._v(e._s(e.$t("m.Back")))]):e._e(),e._v("` "),e.createQuestionPage?i("el-button",{attrs:{type:"danger",size:"small",icon:"el-icon-back"},on:{click:e.handleCreateQuestionPage}},[e._v(e._s(e.$t("m.Back")))]):e._e(),e._v("` ")],1):e._e():i("el-col",{attrs:{span:24}},[e.editQuestionPage||e.editQuestionPage?e._e():i("section",[i("b",{staticClass:"question-filter"},[e._v(e._s(e.$t("m.Question_Type")))]),i("div",[i("el-tag",{staticClass:"filter-item",attrs:{size:"medium",type:"primary",effect:0==e.type?"dark":"plain"},on:{click:function(t){return e.filterByType(0)}}},[e._v(" "+e._s(e.$t("m.All"))+" ")]),e._l(e.QUESTION_TYPE_REVERSE,(function(t,a){return i("el-tag",{key:a,staticClass:"filter-item",attrs:{size:"medium",type:t.color,effect:e.type==a?"dark":"plain"},on:{click:function(t){return e.filterByType(a)}}},[e._v(" "+e._s(e.$t("m."+t.name+"_Question"))+" ")])}))],2)])])],1)],1),e.adminPage||e.createPage||e.problemPage||e.questionPage?e._e():i("div",[i("p",{directives:[{name:"show",rawName:"v-show",value:0==e.examList.length,expression:"examList.length == 0"}],attrs:{id:"no-exam"}},[i("el-empty",{attrs:{description:e.$t("m.No_Exam")}})],1),i("ol",{attrs:{id:"exam-list"}},e._l(e.examList,(function(t){return i("li",{key:t.title,style:e.getborderColor(t)},[i("el-row",{attrs:{type:"flex",justify:"space-between",align:"middle"}},[i("el-col",{attrs:{xs:10,sm:4,md:3,lg:2}},[i("img",{staticClass:"trophy",attrs:{src:e.examSrc,width:"95px"}})]),i("el-col",{staticClass:"exam-main",attrs:{xs:10,sm:16,md:19,lg:20}},[i("p",{staticClass:"exam-title"},[i("a",{staticClass:"entry",on:{click:function(i){return i.stopPropagation(),e.goGroupExam(t.id)}}},[e._v(" "+e._s(t.title)+" ")]),1==t.auth?[i("i",{staticClass:"el-icon-lock",staticStyle:{color:"#d9534f"},attrs:{size:"20"}})]:e._e(),2==t.auth?[i("i",{staticClass:"el-icon-lock",staticStyle:{color:"#f0ad4e"},attrs:{size:"20"}})]:e._e()],2),i("ul",{staticClass:"detail"},[i("li",[i("i",{staticClass:"fa fa-calendar",staticStyle:{color:"#3091f2"},attrs:{"aria-hidden":"true"}}),e._v(" "+e._s(e._f("localtime")(t.startTime))+" ")]),i("li",[i("i",{staticClass:"fa fa-clock-o",staticStyle:{color:"#3091f2"},attrs:{"aria-hidden":"true"}}),e._v(" "+e._s(e.getDuration(t.startTime,t.endTime))+" ")]),i("li",[i("el-tooltip",{attrs:{content:e.$t("m."+e.EXAM_TYPE_REVERSE[t.auth].tips),placement:"top",effect:"light"}},[i("el-tag",{attrs:{type:e.EXAM_TYPE_REVERSE[t.auth]["color"],effect:"plain"}},[e._v(" "+e._s(e.$t("m."+e.EXAM_TYPE_REVERSE[t.auth]["name"]))+" ")])],1)],1),t.auth!=e.EXAM_TYPE.PUBLIC?i("li",[i("i",{staticClass:"el-icon-user-solid",staticStyle:{color:"rgb(48, 145, 242)"}}),e._v("x"+e._s(null!=t.count?t.count:0)+" ")]):e._e(),t.openRank?i("li",[i("el-tooltip",{attrs:{content:e.$t("m.Exam_Outside_ScoreBoard"),placement:"top",effect:"dark"}},[i("el-button",{attrs:{circle:"",size:"small",type:"primary",disabled:t.status==e.EXAM_STATUS.SCHEDULED,icon:"el-icon-data-analysis"},on:{click:function(i){return e.goExamOutsideScoreBoard(t.id,t.type)}}})],1)],1):e._e()])]),i("el-col",{staticStyle:{"text-align":"center"},attrs:{xs:4,sm:4,md:2,lg:2}},[i("el-tag",{attrs:{effect:"dark",color:e.EXAM_STATUS_REVERSE[t.status]["color"],size:"medium"}},[i("i",{staticClass:"fa fa-circle",attrs:{"aria-hidden":"true"}}),e._v(" "+e._s(e.$t("m."+e.EXAM_STATUS_REVERSE[t.status]["name"]))+" ")])],1)],1)],1)})),0),i("Pagination",{attrs:{total:e.total,"page-size":e.limit,current:e.currentPage,layout:"prev, pager, next, sizes"},on:{"on-change":e.currentChange,"update:current":function(t){e.currentPage=t},"on-page-size-change":e.onPageSizeChange}})],1),!e.adminPage||e.createPage||e.problemPage||e.questionPage?e._e():i("ExamList",{ref:"examList",on:{handleEditPage:e.handleEditPage,currentChange:e.currentChange,handleProblemPage:e.handleProblemPage,handleQuestionPage:e.handleQuestionPage}}),e.problemPage&&!e.createProblemPage?i("ProblemList",{ref:"examProblemList",attrs:{examID:e.examID},on:{currentChangeProblem:e.currentChangeProblem,handleEditProblemPage:e.handleEditProblemPage}}):e._e(),e.questionPage&&!e.createQuestionPage?i("QuestionList",{ref:"examQuestionList",attrs:{examID:e.examID,type:e.type},on:{currentChangeQuestion:e.currentChangeQuestion,handleEditQuestionPage:e.handleEditQuestionPage}}):e._e(),!e.createPage||e.editPage||e.problemPage?e._e():i("Exam",{attrs:{mode:"add",title:e.$t("m.Create_Exam"),apiMethod:"addGroupExam"},on:{handleCreatePage:e.handleCreatePage,currentChange:e.currentChange}}),e.createProblemPage?i("Problem",{attrs:{mode:"add",examID:e.examID,title:e.$t("m.Create_Problem"),apiMethod:"addGroupExamProblem"},on:{handleCreateProblemPage:e.handleCreateProblemPage,currentChange:e.currentChange}}):e._e(),e.createQuestionPage?i("Question",{attrs:{mode:"add",examID:e.examID,title:e.$t("m.Create_Question"),apiMethod:"addGroupExamQuestion"},on:{handleCreateQuestionPage:e.handleCreateQuestionPage,currentChange:e.currentChange}}):e._e(),i("el-dialog",{attrs:{title:e.$t("m.Add_Exam_Problem"),width:"90%",visible:e.publicPage,"close-on-click-modal":!1},on:{"update:visible":function(t){e.publicPage=t}}},[e.publicPage?i("AddPublicProblem",{ref:"addPublicProblem",attrs:{examID:e.examID,apiMethod:"getGroupExamProblemList"},on:{currentChangeProblem:e.currentChangeProblem}}):e._e()],1),i("el-dialog",{attrs:{title:e.$t("m.Add_Exam_Question"),width:"90%",visible:e.groupQuestionPage,"close-on-click-modal":!1},on:{"update:visible":function(t){e.groupQuestionPage=t}}},[e.groupQuestionPage?i("AddGroupQuestion",{ref:"addGroupQuestion",attrs:{examID:e.examID},on:{currentChangeQuestion:e.currentChangeQuestion}}):e._e()],1),i("el-dialog",{attrs:{title:e.$t("m.Add_Exam_Problem"),width:"350px",visible:e.groupProblemPage,"close-on-click-modal":!1},on:{"update:visible":function(t){e.groupProblemPage=t}}},[i("AddGroupProblem",{attrs:{examID:e.examID},on:{currentChangeProblem:e.currentChangeProblem,handleGroupProblemPage:e.handleGroupProblemPage}})],1)],1)},n=[],o=i("5530"),s=(i("d3b7"),i("3ca3"),i("ddb0"),i("2f62")),r=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[e.editPage?e._e():i("vxe-table",{attrs:{stripe:"","auto-resize":"",data:e.examList,loading:e.loading,align:"center"}},[i("vxe-table-column",{attrs:{field:"id",width:"80",title:"ID"}}),i("vxe-table-column",{attrs:{field:"title","min-width":"150",title:e.$t("m.Title"),"show-overflow":""}}),i("vxe-table-column",{attrs:{title:e.$t("m.Auth"),width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[i("el-tooltip",{attrs:{content:e.$t("m."+e.EXAM_TYPE_REVERSE[a.auth].tips),placement:"top",effect:"light"}},[i("el-tag",{attrs:{type:e.EXAM_TYPE_REVERSE[a.auth].color,effect:"plain"}},[e._v(" "+e._s(e.$t("m."+e.EXAM_TYPE_REVERSE[a.auth].name))+" ")])],1)]}}],null,!1,2784985545)}),i("vxe-table-column",{attrs:{title:e.$t("m.Status"),width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[i("el-tag",{attrs:{effect:"dark",color:e.EXAM_STATUS_REVERSE[a.status].color,size:"medium"}},[e._v(" "+e._s(e.$t("m."+e.EXAM_STATUS_REVERSE[a.status]["name"]))+" ")])]}}],null,!1,648301395)}),i("vxe-table-column",{attrs:{title:e.$t("m.Visible"),"min-width":"80"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[i("el-switch",{attrs:{disabled:!e.isGroupRoot&&e.userInfo.uid!=a.uid},on:{change:function(t){return e.changeExamVisible(a.id,a.visible)}},model:{value:a.visible,callback:function(t){e.$set(a,"visible",t)},expression:"row.visible"}})]}}],null,!1,2385302925)}),i("vxe-table-column",{attrs:{"min-width":"210",title:e.$t("m.Info")},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[i("p",[e._v(e._s(e.$t("m.Start_Time"))+": "+e._s(e._f("localtime")(a.startTime)))]),i("p",[e._v(e._s(e.$t("m.End_Time"))+": "+e._s(e._f("localtime")(a.endTime)))]),i("p",[e._v(e._s(e.$t("m.Created_Time"))+": "+e._s(e._f("localtime")(a.gmtCreate)))]),i("p",[e._v(e._s(e.$t("m.Creator"))+": "+e._s(a.author))])]}}],null,!1,1449312010)}),i("vxe-table-column",{attrs:{"min-width":"150",title:e.$t("m.Option")},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[e.isGroupRoot||e.userInfo.uid==a.uid?i("el-tooltip",{attrs:{effect:"dark",content:e.$t("m.Edit"),placement:"top"}},[i("el-button",{attrs:{icon:"el-icon-edit",size:"mini",type:"primary"},nativeOn:{click:function(t){return e.goEditExam(a.id)}}})],1):e._e(),e.isGroupRoot||e.userInfo.uid==a.uid?i("el-tooltip",{attrs:{effect:"dark",content:e.$t("m.View_Exam_Question_List"),placement:"top"}},[i("el-button",{attrs:{icon:"el-icon-tickets",size:"mini",type:"success"},nativeOn:{click:function(t){return e.goExamQuestionList(a.id)}}})],1):e._e(),i("p"),e.isGroupRoot||e.userInfo.uid==a.uid?i("el-tooltip",{attrs:{effect:"dark",content:e.$t("m.View_Exam_Problem_List"),placement:"top"}},[i("el-button",{attrs:{icon:"fa fa-list",size:"mini",type:"warning"},nativeOn:{click:function(t){return e.goExamProblemList(a.id)}}})],1):e._e(),e.isGroupRoot||e.userInfo.uid==a.uid?i("el-tooltip",{attrs:{effect:"dark",content:e.$t("m.Delete"),placement:"top"}},[i("el-button",{attrs:{icon:"el-icon-delete",size:"mini",type:"danger"},nativeOn:{click:function(t){return e.deleteExam(a.id)}}})],1):e._e()]}}],null,!1,1305168858)})],1),e.editPage?e._e():i("Pagination",{attrs:{total:e.total,"page-size":e.limit,current:e.currentPage,layout:"prev, pager, next, sizes"},on:{"on-change":e.currentChange,"update:current":function(t){e.currentPage=t},"on-page-size-change":e.onPageSizeChange}}),e.editPage?i("Exam",{attrs:{mode:"edit",title:e.$t("m.Edit_Exam"),apiMethod:"updateGroupExam",cid:e.cid},on:{handleEditPage:e.handleEditPage,currentChange:e.currentChange}}):e._e()],1)},l=[],u=i("3228"),c=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("el-row",[i("el-col",{attrs:{span:24}},[i("el-card",{attrs:{shadow:"never"}},[i("div",{attrs:{slot:"header"},slot:"header"},[i("span",{staticClass:"panel-title home-title"},[e._v(" "+e._s(e.title)+" ")])]),i("el-form",{attrs:{"label-position":"top"}},[i("el-row",{attrs:{gutter:20}},[i("el-col",{attrs:{span:24}},[i("el-form-item",{attrs:{label:e.$t("m.Exam_Title"),required:""}},[i("el-input",{attrs:{placeholder:e.$t("m.Exam_Title")},model:{value:e.exam.title,callback:function(t){e.$set(e.exam,"title",t)},expression:"exam.title"}})],1)],1),i("el-col",{attrs:{span:24}},[i("el-form-item",{attrs:{label:e.$t("m.Exam_Description"),required:""}},[i("Editor",{attrs:{value:e.exam.description},on:{"update:value":function(t){return e.$set(e.exam,"description",t)}}})],1)],1),i("el-col",{attrs:{md:8,xs:24}},[i("el-form-item",{attrs:{label:e.$t("m.Exam_Start_Time"),required:""}},[i("el-date-picker",{attrs:{type:"datetime",placeholder:e.$t("m.Exam_Start_Time")},on:{change:e.changeDuration},model:{value:e.exam.startTime,callback:function(t){e.$set(e.exam,"startTime",t)},expression:"exam.startTime"}})],1)],1),i("el-col",{attrs:{md:8,xs:24}},[i("el-form-item",{attrs:{label:e.$t("m.Exam_End_Time"),required:""}},[i("el-date-picker",{attrs:{type:"datetime",placeholder:e.$t("m.Exam_End_Time")},on:{change:e.changeDuration},model:{value:e.exam.endTime,callback:function(t){e.$set(e.exam,"endTime",t)},expression:"exam.endTime"}})],1)],1),i("el-col",{attrs:{md:8,xs:24}},[i("el-form-item",{attrs:{label:e.$t("m.Exam_Duration"),required:""}},[i("el-input",{attrs:{disabled:""},model:{value:e.durationText,callback:function(t){e.durationText=t},expression:"durationText"}})],1)],1)],1),i("el-row",[i("el-col",{attrs:{span:24}},[i("el-form-item",{attrs:{label:e.$t("m.Rank_Score_Type")}},[i("el-radio",{staticClass:"radio",attrs:{label:"Recent"},model:{value:e.exam.rankScoreType,callback:function(t){e.$set(e.exam,"rankScoreType",t)},expression:"exam.rankScoreType"}},[e._v(e._s(e.$t("m.Rank_Score_Type_Recent")))]),i("el-radio",{staticClass:"radio",attrs:{label:"Highest"},model:{value:e.exam.rankScoreType,callback:function(t){e.$set(e.exam,"rankScoreType",t)},expression:"exam.rankScoreType"}},[e._v(e._s(e.$t("m.Rank_Score_Type_Highest")))])],1)],1)],1),i("el-row",{attrs:{gutter:20}},[i("el-col",{attrs:{md:12,xs:24}},[i("el-form-item",{attrs:{label:e.$t("m.Real_Score"),required:""}},[i("el-switch",{attrs:{"active-color":"#13ce66","inactive-color":""},model:{value:e.exam.realScore,callback:function(t){e.$set(e.exam,"realScore",t)},expression:"exam.realScore"}})],1)],1),i("el-col",{attrs:{md:12,xs:24}},[i("el-form-item",{attrs:{label:e.$t("m.Auto_Real_Score"),required:""}},[i("el-switch",{attrs:{"active-text":e.$t("m.Real_Score_After_Exam"),"inactive-text":e.$t("m.Seal_Score_After_Exam")},model:{value:e.exam.autoRealScore,callback:function(t){e.$set(e.exam,"autoRealScore",t)},expression:"exam.autoRealScore"}})],1)],1)],1),i("el-row",{attrs:{gutter:20}},[i("el-col",{attrs:{span:24}},[i("el-form-item",{attrs:{label:e.$t("m.Rank_Show_Name"),required:""}},[i("el-radio-group",{model:{value:e.exam.rankShowName,callback:function(t){e.$set(e.exam,"rankShowName",t)},expression:"exam.rankShowName"}},[i("el-radio",{attrs:{label:"username"}},[e._v(e._s(e.$t("m.Show_Username")))]),i("el-radio",{attrs:{label:"nickname"}},[e._v(e._s(e.$t("m.Show_Nickname")))]),i("el-radio",{attrs:{label:"realname"}},[e._v(e._s(e.$t("m.Show_Realname")))])],1)],1)],1),i("el-col",{attrs:{md:8,xs:24}},[i("el-form-item",{attrs:{label:e.$t("m.Exam_Auth"),required:""}},[i("el-select",{model:{value:e.exam.auth,callback:function(t){e.$set(e.exam,"auth",t)},expression:"exam.auth"}},[i("el-option",{attrs:{label:e.$t("m.Exam_Public"),value:0}}),i("el-option",{attrs:{label:e.$t("m.Exam_Private"),value:1}}),i("el-option",{attrs:{label:e.$t("m.Exam_Protected"),value:2}})],1)],1)],1),i("el-col",{attrs:{md:8,xs:24}},[i("el-form-item",{directives:[{name:"show",rawName:"v-show",value:0!=e.exam.auth,expression:"exam.auth != 0"}],attrs:{label:e.$t("m.Exam_Password"),required:0!=e.exam.auth}},[i("el-input",{attrs:{placeholder:e.$t("m.Exam_Password")},model:{value:e.exam.pwd,callback:function(t){e.$set(e.exam,"pwd",t)},expression:"exam.pwd"}})],1)],1),i("el-col",{attrs:{md:8,xs:24}},[i("el-form-item",{directives:[{name:"show",rawName:"v-show",value:0!=e.exam.auth,expression:"exam.auth != 0"}],attrs:{label:e.$t("m.Account_Limit"),required:0!=e.exam.auth}},[i("el-switch",{model:{value:e.exam.openAccountLimit,callback:function(t){e.$set(e.exam,"openAccountLimit",t)},expression:"exam.openAccountLimit"}})],1)],1),e.exam.openAccountLimit?[i("el-form",{attrs:{model:e.formRule}},[i("el-col",{attrs:{md:6,xs:24}},[i("el-form-item",{attrs:{label:e.$t("m.Prefix"),prop:"prefix"}},[i("el-input",{attrs:{placeholder:"Prefix"},model:{value:e.formRule.prefix,callback:function(t){e.$set(e.formRule,"prefix",t)},expression:"formRule.prefix"}})],1)],1),i("el-col",{attrs:{md:6,xs:24}},[i("el-form-item",{attrs:{label:e.$t("m.Suffix"),prop:"suffix"}},[i("el-input",{attrs:{placeholder:"Suffix"},model:{value:e.formRule.suffix,callback:function(t){e.$set(e.formRule,"suffix",t)},expression:"formRule.suffix"}})],1)],1),i("el-col",{attrs:{md:6,xs:24}},[i("el-form-item",{attrs:{label:e.$t("m.Start_Number"),prop:"number_from"}},[i("el-input-number",{staticStyle:{width:"100%"},model:{value:e.formRule.number_from,callback:function(t){e.$set(e.formRule,"number_from",t)},expression:"formRule.number_from"}})],1)],1),i("el-col",{attrs:{md:6,xs:24}},[i("el-form-item",{attrs:{label:e.$t("m.End_Number"),prop:"number_to"}},[i("el-input-number",{staticStyle:{width:"100%"},model:{value:e.formRule.number_to,callback:function(t){e.$set(e.formRule,"number_to",t)},expression:"formRule.number_to"}})],1)],1),e.formRule.number_from<=e.formRule.number_to?i("div",{staticClass:"userPreview"},[e._v(" "+e._s(e.$t("m.The_allowed_account_will_be"))+" "+e._s(e.formRule.prefix+e.formRule.number_from+e.formRule.suffix)+", "),e.formRule.number_from+1<e.formRule.number_to?i("span",[e._v(" "+e._s(e.formRule.prefix+(e.formRule.number_from+1)+e.formRule.suffix+"...")+" ")]):e._e(),e.formRule.number_from+1<=e.formRule.number_to?i("span",[e._v(" "+e._s(e.formRule.prefix+e.formRule.number_to+e.formRule.suffix)+" ")]):e._e()]):e._e(),i("el-col",{attrs:{md:24,xs:24}},[i("el-form-item",{attrs:{label:e.$t("m.Extra_Account"),prop:"prefix"}},[i("el-input",{attrs:{type:"textarea",placeholder:e.$t("m.Extra_Account_Tips"),rows:8},model:{value:e.formRule.extra_account,callback:function(t){e.$set(e.formRule,"extra_account",t)},expression:"formRule.extra_account"}})],1)],1)],1)]:e._e()],2)],1),i("el-button",{attrs:{type:"primary"},nativeOn:{click:function(t){return e.submit.apply(null,arguments)}}},[e._v(e._s(e.$t("m.Save")))])],1)],1)],1)},m=[],d=(i("a9e3"),i("a4d3"),i("e01a"),i("4d63"),i("c607"),i("ac1f"),i("2c3e"),i("25f0"),i("ffb0")),p=(i("c1df"),i("a956")),h={name:"GroupExam",components:{Editor:p["default"]},props:{mode:{type:String,default:"edit"},title:{type:String,default:"Edit Exam"},apiMethod:{type:String,default:"addGroupExam"},cid:{type:Number,default:null}},data:function(){return{disableRuleType:!1,durationText:"",seal_rank_time:2,exam:{title:"",description:"",startTime:"",endTime:"",duration:0,pwd:"",realScore:!1,autoRealScore:!0,auth:0,rankShowName:"username",openAccountLimit:!1,accountLimitRule:"",rankScoreType:"Recent"},formRule:{prefix:"",suffix:"",number_from:0,number_to:10,extra_account:""}}},mounted:function(){this.init()},watch:{$route:function(){this.exam={title:"",description:"",startTime:"",endTime:"",duration:0,pwd:"",realScore:!1,autoRealScore:!0,auth:0,rankShowName:"username",openAccountLimit:!1,accountLimitRule:"",rankScoreType:"Recent"},this.init()}},methods:{init:function(){var e=this;"edit"===this.mode&&u["a"].getGroupExam(this.cid).then((function(t){var i=t.data.data;e.exam=i,e.changeDuration(),e.exam.accountLimitRule&&(e.formRule=e.changeStrToAccountRule(e.exam.accountLimitRule))})).catch((function(){}))},submit:function(){var e=this;if(this.exam.title)if(this.exam.description)if(this.exam.startTime)if(this.exam.endTime)if(!this.exam.duration||this.exam.duration<=0)this.$msg.error(this.$i18n.t("m.Exam_Duration_Check"));else if(0==this.exam.auth||this.exam.pwd){this.exam.openAccountLimit&&(this.exam.accountLimitRule=this.changeAccountRuleToStr(this.formRule));var t=Object.assign({},this.exam);"add"===this.mode&&(t["uid"]=this.userInfo.uid,t["author"]=this.userInfo.username,t["gid"]=this.$route.params.groupID),u["a"][this.apiMethod](t).then((function(t){e.$router.push({name:"GroupExamList"}),"edit"===e.mode?(e.$emit("handleEditPage"),e.$msg.success(e.$t("m.Update_Successfully"))):(e.$emit("handleCreatePage"),e.$msg.success(e.$t("m.Create_Successfully"))),e.$emit("currentChange",1)})).catch((function(){}))}else this.$msg.error(this.$i18n.t("m.Exam_Password")+" "+this.$i18n.t("m.is_required"));else this.$msg.error(this.$i18n.t("m.Exam_End_Time")+" "+this.$i18n.t("m.is_required"));else this.$msg.error(this.$i18n.t("m.Exam_Start_Time")+" "+this.$i18n.t("m.is_required"));else this.$msg.error(this.$i18n.t("m.Exam_Description")+" "+this.$i18n.t("m.is_required"));else this.$msg.error(this.$i18n.t("m.Exam_Title")+" "+this.$i18n.t("m.is_required"))},changeDuration:function(){var e=this.exam.startTime,t=this.exam.endTime,i=d["a"].durationMs(e,t);if(i<0)return this.durationText=this.$i18n.t("m.Contets_Time_Check"),void(this.exam.duration=0);""!=e&&""!=t&&(this.durationText=d["a"].formatSpecificDuration(e,t),this.exam.duration=i)},changeAccountRuleToStr:function(e){var t="<prefix>"+e.prefix+"</prefix><suffix>"+e.suffix+"</suffix><start>"+e.number_from+"</start><end>"+e.number_to+"</end><extra>"+e.extra_account+"</extra>";return t},changeStrToAccountRule:function(e){var t="<prefix>([\\s\\S]*?)</prefix><suffix>([\\s\\S]*?)</suffix><start>([\\s\\S]*?)</start><end>([\\s\\S]*?)</end><extra>([\\s\\S]*?)</extra>",i=RegExp(t,"g"),a=i.exec(e);return{prefix:a[1],suffix:a[2],number_from:a[3],number_to:a[4],extra_account:a[5]}}},computed:Object(o["a"])({},Object(s["c"])(["userInfo"]))},f=h,g=(i("ed33"),i("2877")),_=Object(g["a"])(f,c,m,!1,null,"d682eed8",null),b=_.exports,x=i("9a36"),P=function(){return i.e("chunk-48bf8d0f").then(i.bind(null,"5072"))},$={name:"GroupExamList",components:{Pagination:P,Exam:b},data:function(){return{total:0,currentPage:1,limit:10,examList:[],loading:!1,routeName:"",cid:null,editPage:!1,downloadDialogVisible:!1,excludeAdmin:!0,splitType:"user"}},mounted:function(){this.EXAM_STATUS_REVERSE=Object.assign({},x["f"]),this.EXAM_TYPE=Object.assign({},x["g"]),this.EXAM_TYPE_REVERSE=Object.assign({},x["h"]),this.EXAM_STATUS=Object.assign({},x["e"]),this.init()},methods:{init:function(){this.getAdminExamList()},onPageSizeChange:function(e){this.limit=e,this.init()},currentChange:function(e){this.currentPage=e,this.init()},handleEditPage:function(){this.editPage=!1,this.$emit("currentChange",1),this.$emit("handleEditPage")},getAdminExamList:function(){var e=this;this.loading=!0,u["a"].getGroupAdminExamList(this.currentPage,this.limit,this.$route.params.groupID).then((function(t){e.examList=t.data.data.records,e.total=t.data.data.total,e.loading=!1}),(function(t){e.loading=!1}))},goEditExam:function(e){this.editPage=!0,this.cid=e,this.$emit("handleEditPage")},goExamProblemList:function(e){this.$emit("handleProblemPage",e)},goExamQuestionList:function(e){this.$emit("handleQuestionPage",e)},changeExamVisible:function(e,t){var i=this;u["a"].changeGroupExamVisible(e,t).then((function(e){i.$msg.success(i.$i18n.t("m.Update_Successfully")),i.$emit("currentChange",1),i.currentChange(1)}))},deleteExam:function(e){var t=this;this.$confirm(this.$i18n.t("m.Delete_Exam_Tips"),this.$i18n.t("m.Warning"),{type:"warning"}).then((function(){u["a"].deleteGroupExam(e,t.$route.params.groupID).then((function(e){t.$msg.success(t.$i18n.t("m.Delete_successfully")),t.$emit("currentChange",1),t.currentChange(1)})).catch((function(){}))}),(function(){}))}},computed:Object(o["a"])({},Object(s["c"])(["isGroupRoot","userInfo"]))},v=$,y=Object(g["a"])(v,r,l,!1,null,null,null),E=y.exports,k=i("7850"),C=i("a18b"),I=i("41da"),w=i("a9c4"),D=i("55f6"),S=i("bf68"),Q=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticStyle:{"text-align":"center"}},[i("vxe-input",{staticStyle:{"margin-bottom":"10px"},attrs:{placeholder:e.$t("m.Enter_keyword"),type:"search",size:"medium"},on:{"search-click":e.filterByKeyword},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.filterByKeyword.apply(null,arguments)}},model:{value:e.keyword,callback:function(t){e.keyword=t},expression:"keyword"}}),i("section",[i("b",{staticClass:"question-filter"},[e._v(e._s(e.$t("m.Question_Type")))]),i("div",[i("el-tag",{staticClass:"filter-item",attrs:{size:"medium",type:"primary",effect:0==e.type?"dark":"plain"},on:{click:function(t){return e.filterByType(0)}}},[e._v(" "+e._s(e.$t("m.All"))+" ")]),e._l(e.QUESTION_TYPE_REVERSE,(function(t,a){return i("el-tag",{key:a,staticClass:"filter-item",attrs:{size:"medium",type:t.color,effect:e.type==a?"dark":"plain"},on:{click:function(t){return e.filterByType(a)}}},[e._v(" "+e._s(e.$t("m."+t.name+"_Question"))+" ")])}))],2)]),i("vxe-table",{attrs:{data:e.questionList,loading:e.loading,"auto-resize":"",stripe:"",align:"center"}},[i("vxe-table-column",{attrs:{title:"ID","min-width":"100",field:"questionId"}}),i("vxe-table-column",{attrs:{"min-width":"150",title:e.$t("m.Description"),field:"description"}}),i("vxe-table-column",{attrs:{field:"type",title:e.$t("m.Question_Type"),"min-width":"150","show-overflow":""},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[1!=a.type?i("el-tag",{staticClass:"filter-item",attrs:{size:"medium",type:e.QUESTION_TYPE_REVERSE[a.type].color,effect:"dark"}},[e._v(" "+e._s(e.$t("m."+e.QUESTION_TYPE_REVERSE[a.type].name+"_Question"))+" ")]):e._e(),1==a.type?i("el-tag",{attrs:{size:"medium",type:"primary",effect:"plain"}},[e._v(" "+e._s(e.$t("m."+(a.single?"Single_Choice":"Indefinite_Multiple_Choice")+"_Question"))+" ")]):e._e()]}}])}),i("vxe-table-column",{attrs:{title:e.$t("m.Option"),align:"center","min-width":"50"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[i("el-tooltip",{attrs:{effect:"dark",content:e.$t("m.Add"),placement:"top"}},[i("el-button",{attrs:{icon:"el-icon-plus",size:"mini",type:"primary"},nativeOn:{click:function(t){return e.addGroupQuestion(a.id,a.questionId)}}})],1)]}}])})],1),e.total?i("el-pagination",{staticClass:"page",attrs:{layout:"prev, pager, next, sizes","page-size":e.limit,"current-page":e.currentPage,total:e.total,"page-sizes":[10,30,50,100]},on:{"current-change":e.currentChange,"update:currentPage":function(t){e.currentPage=t},"update:current-page":function(t){e.currentPage=t},"size-change":e.onPageSizeChange}}):e._e()],1)},T=[],q=function(){return i.e("chunk-48bf8d0f").then(i.bind(null,"5072"))},R={name:"AddQuestionFromGroup",components:{Pagination:q},props:{examID:{type:Number,default:null}},data:function(){return{currentPage:1,limit:10,total:0,loading:!1,questionList:[],contest:{},exam:{},keyword:"",type:0}},created:function(){this.QUESTION_TYPE_REVERSE=Object.assign({},x["n"])},mounted:function(){var e=this;u["a"].getGroupExam(this.examID).then((function(t){e.exam=t.data.data,e.init()})).catch((function(){}))},methods:{init:function(){this.getGroupQuestion()},onPageSizeChange:function(e){this.limit=e,this.init()},currentChange:function(e){this.currentPage=e,this.init()},getGroupQuestion:function(){var e=this;this.loading=!0;var t={keyword:this.keyword,questionType:this.type,eid:this.exam.id,queryExisted:!1};u["a"].getGroupExamQuestionList(this.currentPage,this.limit,t).then((function(t){e.loading=!1,e.total=t.data.data.questionList.total,e.questionList=t.data.data.questionList.records})).catch((function(){e.loading=!1}))},addGroupQuestion:function(e,t){var i=this;this.$prompt(this.$i18n.t("m.Enter_The_Question_Display_ID_in_the_Exam"),"Tips").then((function(t){var a=t.value,n={qid:e,eid:i.examID,displayId:a};null!=a&&""!=a?u["a"].addGroupExamQuestionFromGroup(n).then((function(e){i.$msg.success(i.$i18n.t("m.Add_Successfully")),i.$emit("currentChangeQuestion"),i.currentChange(1)}),(function(){})):i.$msg.error(i.$t("m.The_Question_Display_ID_in_the_Exam_is_required"))}),(function(){}))},filterByKeyword:function(){this.getGroupQuestion(this.page)},filterByType:function(e){this.type=parseInt(e),this.currentChange(1)}}},A=R,G=(i("4615"),Object(g["a"])(A,Q,T,!1,null,"4805c4d8",null)),L=G.exports,z=function(){return i.e("chunk-48bf8d0f").then(i.bind(null,"5072"))},O={name:"GroupExamList",components:{Pagination:z,ExamList:E,Exam:b,Problem:k["a"],ProblemList:I["a"],Question:C["a"],QuestionList:w["a"],AddPublicProblem:D["a"],AddGroupProblem:S["a"],AddGroupQuestion:L},data:function(){return{total:0,currentPage:1,limit:10,examList:[],loading:!1,adminPage:!1,createPage:!1,editPage:!1,problemPage:!1,questionPage:!1,publicPage:!1,groupProblemPage:!1,groupQuestionPage:!1,editProblemPage:!1,createProblemPage:!1,editQuestionPage:!1,createQuestionPage:!1,examID:null,type:0,examSrc:i("ddaf")}},mounted:function(){this.EXAM_STATUS_REVERSE=Object.assign({},x["f"]),this.EXAM_TYPE=Object.assign({},x["g"]),this.EXAM_TYPE_REVERSE=Object.assign({},x["h"]),this.EXAM_STATUS=Object.assign({},x["e"]),this.QUESTION_TYPE_REVERSE=Object.assign({},x["n"]),this.init()},methods:{init:function(){this.getGroupExamList()},onPageSizeChange:function(e){this.limit=e,this.init()},currentChange:function(e){this.currentPage=e,this.init()},currentChangeProblem:function(){this.$refs.examProblemList.currentChange(1)},currentChangeQuestion:function(){this.$refs.examQuestionList.currentChange(1)},getGroupExamList:function(){var e=this;this.loading=!0,u["a"].getGroupExamList(this.currentPage,this.limit,this.$route.params.groupID).then((function(t){e.examList=t.data.data.records,e.total=t.data.data.total,e.loading=!1}),(function(t){e.loading=!1}))},goGroupExam:function(e){this.$router.push({name:"ExamDetails",params:{examID:e}})},getDuration:function(e,t){return d["a"].formatSpecificDuration(e,t)},getborderColor:function(e){return"border-left: 4px solid "+x["f"][e.status]["color"]},handleCreatePage:function(){this.createPage=!this.createPage},handleEditPage:function(){this.editPage=!this.editPage,this.$refs.examList.editPage=this.editPage},handleAdminPage:function(){this.adminPage=!this.adminPage,this.createPage=!1,this.editPage=!1},handleProblemPage:function(e){this.examID=e,this.problemPage=!this.problemPage},handleQuestionPage:function(e){this.examID=e,this.questionPage=!this.questionPage},handleGroupProblemPage:function(){this.groupProblemPage=!this.groupProblemPage},handleEditProblemPage:function(){this.editProblemPage=!this.editProblemPage,this.$refs.examProblemList.editPage=this.editProblemPage},handleCreateProblemPage:function(){this.createProblemPage=!this.createProblemPage,this.$refs.examProblemList.currentChange(1)},handleEditQuestionPage:function(){this.editQuestionPage=!this.editQuestionPage,this.$refs.examQuestionList.editPage=this.editQuestionPage},handleCreateQuestionPage:function(){this.createQuestionPage=!this.createQuestionPage,this.$refs.examQuestionList.currentChange(1)},filterByType:function(e){this.type=parseInt(e)}},computed:Object(o["a"])({},Object(s["c"])(["isAuthenticated","isSuperAdmin","isGroupAdmin"]))},M=O,j=(i("452b"),Object(g["a"])(M,a,n,!1,null,"78071ecb",null));t["default"]=j.exports},a18b:function(e,t,i){"use strict";var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("el-row",[i("el-col",{attrs:{span:24}},[i("el-card",{attrs:{shadow:"never"}},[i("div",{attrs:{slot:"header"},slot:"header"},[i("span",{staticClass:"panel-title home-title"},[e._v(e._s(e.title))])]),i("el-form",{ref:"form",attrs:{model:e.question,rules:e.rules,"label-position":"top"}},[i("el-row",[i("el-col",{attrs:{span:24}},[i("el-form-item",{attrs:{prop:"questionId",label:e.$t("m.Question_Display_ID"),required:""}},[i("el-input",{attrs:{placeholder:e.$t("m.Question_Display_ID")},model:{value:e.question.questionId,callback:function(t){e.$set(e.question,"questionId",t)},expression:"question.questionId"}},[i("template",{slot:"prepend"},[e._v(" "+e._s(e.group.shortName.toUpperCase())+" ")])],2)],1)],1),i("el-col",{attrs:{span:24}},[e.examID?i("el-row",{attrs:{gutter:20}},[i("el-col",{attrs:{md:12,xs:24}},[i("el-form-item",{attrs:{label:e.$t("m.Exam_Display_ID"),required:""}},[i("el-input",{attrs:{placeholder:e.$t("m.Exam_Display_ID")},model:{value:e.examQuestion.displayId,callback:function(t){e.$set(e.examQuestion,"displayId",t)},expression:"examQuestion.displayId"}})],1)],1),i("el-col",{attrs:{md:12,xs:24}},[i("el-form-item",{attrs:{label:e.$t("m.Score"),required:""}},[i("el-input",{attrs:{placeholder:e.$t("m.Score")},model:{value:e.examQuestion.score,callback:function(t){e.$set(e.examQuestion,"score",t)},expression:"examQuestion.score"}})],1)],1)],1):e._e()],1),i("el-col",{attrs:{span:24}},[i("el-row",{attrs:{gutter:10}},[i("el-col",{attrs:{sm:12,xs:24}},[i("el-form-item",{attrs:{prop:"type",label:e.$t("m.Question_Type"),required:""}},[i("el-radio-group",{on:{change:e.switchType},model:{value:e.question.type,callback:function(t){e.$set(e.question,"type",t)},expression:"question.type"}},[i("el-radio",{attrs:{label:1}},[e._v(e._s(e.$t("m.Choice_Question")))]),i("el-radio",{attrs:{label:2}},[e._v(e._s(e.$t("m.Judge_Question")))]),i("el-radio",{attrs:{label:3}},[e._v(e._s(e.$t("m.Blank_Question")))]),i("el-radio",{attrs:{label:4}},[e._v(e._s(e.$t("m.Answer_Question")))])],1)],1)],1),1==e.question.type?i("el-col",{attrs:{sm:12,xs:24}},[i("el-form-item",{attrs:{prop:"single",label:e.$t("m.Question_Type"),required:""}},[i("el-switch",{attrs:{"active-text":e.$t("m.Single_Choice_Question"),"inactive-text":e.$t("m.Indefinite_Multiple_Choice_Question")},model:{value:e.question.single,callback:function(t){e.$set(e.question,"single",t)},expression:"question.single"}})],1)],1):e._e()],1)],1),i("el-col",{attrs:{span:24}},[i("el-row",{attrs:{gutter:10}},[i("el-col",{attrs:{sm:12,xs:24}},[i("el-form-item",{attrs:{label:e.$t("m.Auth"),required:""}},[i("el-select",{attrs:{size:"small"},model:{value:e.question.auth,callback:function(t){e.$set(e.question,"auth",t)},expression:"question.auth"}},[i("el-option",{attrs:{label:e.$t("m.Public_Question"),value:1}}),i("el-option",{attrs:{label:e.$t("m.Private_Question"),value:2}}),i("el-option",{attrs:{label:e.$t("m.Exam_Question"),value:3,disabled:!e.examID}})],1)],1)],1),i("el-col",{attrs:{sm:12,xs:24}},[i("el-form-item",{attrs:{label:e.$t("m.Answer_Share"),required:""}},[i("el-switch",{model:{value:e.question.share,callback:function(t){e.$set(e.question,"share",t)},expression:"question.share"}})],1)],1)],1)],1),i("el-col",{attrs:{span:24}},[i("el-form-item",{attrs:{prop:"description",label:e.$t("m.Question_Description"),required:""}},[i("Editor",{attrs:{value:e.question.description},on:{"update:value":function(t){return e.$set(e.question,"description",t)}}})],1)],1),i("el-col",{attrs:{span:24}},[i("el-form-item",{attrs:{prop:"answer",label:e.$t("m.Question_Answer"),required:""}},[i("Editor",{attrs:{value:e.question.answer},on:{"update:value":function(t){return e.$set(e.question,"answer",t)}}})],1)],1),1==e.question.type?i("el-col",{attrs:{span:24}},[i("el-form-item",{attrs:{label:e.$t("m.Question_Choices"),required:""}},[i("el-button",{attrs:{icon:"el-icon-plus",type:"success",size:"small"},on:{click:e.addChoice}},[e._v(e._s(e.$t("m.Add_Choice"))+" ")]),i("el-button",{attrs:{icon:"el-icon-minus",type:"danger",size:"small"},on:{click:e.deleteAllChoices}},[e._v(e._s(e.$t("m.Delete_All"))+" ")]),e._l(e.question.choices,(function(t,a){return i("div",{key:a,staticClass:"choices"},[i("el-row",{attrs:{gutter:10}},[e.question.single?i("el-col",{attrs:{sm:2,xs:24}},[i("el-radio-group",{model:{value:e.question.radio,callback:function(t){e.$set(e.question,"radio",t)},expression:"question.radio"}},[i("el-radio",{attrs:{label:a}},[e._v(" "+e._s(String.fromCharCode(a+65))+" ")])],1)],1):i("el-col",{attrs:{sm:2,xs:24}},[i("el-checkbox",{model:{value:t.status,callback:function(i){e.$set(t,"status",i)},expression:"choice.status"}},[e._v(" "+e._s(String.fromCharCode(a+65))+" ")])],1),null!=t.content&&void 0!=t.content?i("el-col",{attrs:{sm:19,xs:24}},[i("Editor",{attrs:{value:t.content,toolbarsFlag:!1,height:50},on:{"update:value":function(i){return e.$set(t,"content",i)}}})],1):e._e(),i("el-col",{attrs:{sm:3,xs:24}},[i("el-button",{attrs:{type:"danger",size:"small",icon:"el-icon-delete"},on:{click:function(t){return e.deleteChoice(a)}}},[e._v(" "+e._s(e.$t("m.Delete"))+" ")])],1)],1)],1)}))],2)],1):e._e(),1==e.question.type&&e.question.single?i("el-col",{staticClass:"right-answer",attrs:{span:24}},[e._v(" "+e._s(e.$t("m.Right_Answer")+": ")+" "),null!=e.question.radio?i("span",[e._v(" "+e._s(String.fromCharCode(e.question.radio+65))+" ")]):e._e()]):e._e(),1!=e.question.type||e.question.single?e._e():i("el-col",{staticClass:"right-answer",attrs:{span:24}},[e._v(" "+e._s(e.$t("m.Right_Answer")+": ")+" "),e._l(e.question.choices,(function(t,a){return i("span",{key:a},[e._v(" "+e._s(t.status?String.fromCharCode(a+65)+",":"")+" ")])}))],2),2==e.question.type?i("el-col",{attrs:{span:24}},[i("el-form-item",{attrs:{prop:"judge",label:e.$t("m.Question_Choices"),required:""}},[i("el-switch",{attrs:{"active-text":e.$t("m.True"),"inactive-text":e.$t("m.False")},model:{value:e.question.judge,callback:function(t){e.$set(e.question,"judge",t)},expression:"question.judge"}})],1)],1):e._e(),i("el-col",{attrs:{span:24}},[i("el-button",{attrs:{type:"primary",size:"small"},nativeOn:{click:function(t){return e.submit.apply(null,arguments)}}},[e._v(e._s(e.$t("m.Save")))])],1)],1)],1)],1)],1)],1)},n=[],o=i("5530"),s=i("b85c"),r=(i("a9e3"),i("fb6a"),i("a434"),i("90b9")),l=i("3228"),u=i("2f62"),c=i("a956"),m={name:"GroupQuestion",components:{Editor:c["default"]},props:{mode:{type:String,default:"add"},title:{type:String,default:"Create Question"},examID:{type:Number,default:null},qid:{type:Number,default:null},apiMethod:{type:String,default:"addGroupQuestion"}},data:function(){return{rules:{description:{required:!0,message:"Description is required",trigger:"blur"}},question:{questionId:"",type:1,auth:1,single:!0,judge:null,description:"",answer:"",radio:null,share:!1,choices:[]},reQuestion:{},examQuestion:{displayId:null,score:null,eid:null,qid:null}}},mounted:function(){this.problem=this.reProblem={questionId:"",type:1,auth:1,single:!0,judge:null,description:"",answer:"",radio:null,share:!1,choices:[]},this.examID&&(this.question.auth=this.reQuestion.auth=3),this.init()},watch:{$route:function(){this.$refs.form.resetFields(),this.question=this.reQuestion,this.init()}},methods:{init:function(){var e=this;"edit"===this.mode?l["a"].getGroupQuestion(this.qid).then((function(t){var i=t.data.data;i.choices=r["a"].stringToChoices(i.choices),i.questionId=i.questionId.slice(e.group.shortName.length),e.question=i,e.examID&&l["a"].getGroupExamQuestion(e.qid,e.examID).then((function(t){e.examQuestion=t.data.data}))})):this.addChoice()},switchType:function(e){this.question.type=e},addChoice:function(){this.question.choices.push({content:"",status:!1})},deleteChoice:function(e){this.question.choices.splice(e,1),this.question.radio==e&&(this.question.radio=null)},deleteAllChoices:function(){var e=this;this.$confirm(this.$i18n.t("m.Delete_Choice_Tips"),this.$i18n.t("m.Warning"),{type:"warning"}).then((function(){e.question.choices=[],e.question.radio=null}),(function(){}))},submit:function(){var e=this;if(this.question.questionId){if("add"===this.mode&&(this.question.gid=this.$route.params.groupID,this.question.author=this.userInfo.username),1==this.question.type){if(0==this.question.choices.length)return void this.$msg.error(this.$i18n.t("m.Question_No_Choice"));var t,i=0,a=Object(s["a"])(this.question.choices);try{for(a.s();!(t=a.n()).done;){var n=t.value;n.status&&(i+=1)}}catch(u){a.e(u)}finally{a.f()}if(this.question.single&&(null==this.question.radio||this.question.radio<0||this.question.radio>=this.question.choices.length)||!this.question.single&&0==i)return void this.$msg.error(this.$i18n.t("m.Question_No_Right_Answer"))}var o=this.question.choices;this.question.choices=r["a"].choicesToString(this.question.choices),this.question.score=0,l["a"][this.apiMethod](this.question).then((function(t){e.examID?(t.data.data&&(e.examQuestion["qid"]=t.data.data.qid,e.examQuestion["eid"]=e.examID),l["a"].updateGroupExamQuestion(e.examQuestion).then((function(t){"edit"===e.mode?(e.$msg.success(e.$t("m.Update_Successfully")),e.$emit("handleEditPage")):(e.$msg.success(e.$t("m.Create_Successfully")),e.examID?e.$emit("handleCreateQuestionPage"):e.$emit("handleCreatePage")),e.$emit("currentChange",1)}))):("edit"===e.mode?(e.$msg.success(e.$t("m.Update_Successfully")),e.$emit("handleEditPage")):(e.$msg.success(e.$t("m.Create_Successfully")),e.examID?e.$emit("handleCreateQuestionPage"):e.$emit("handleCreatePage")),e.$emit("currentChange",1))})).catch((function(){})),this.question.choices=o}else this.$msg.error(this.$i18n.t("m.Question_Display_ID")+" "+this.$i18n.t("m.is_required"))}},computed:Object(o["a"])({},Object(u["c"])(["userInfo","group"]))},d=m,p=(i("c985"),i("2877")),h=Object(p["a"])(d,a,n,!1,null,"081779e5",null);t["a"]=h.exports},a9c4:function(e,t,i){"use strict";var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[e.editPage?e._e():i("vxe-table",{attrs:{stripe:"","auto-resize":"",data:e.questionList,loading:e.loading,align:"center"}},[i("vxe-table-column",{attrs:{"min-width":"64",field:"id",title:"ID"}}),e.examID?i("vxe-table-column",{attrs:{"min-width":"150",title:e.$t("m.Display_ID"),align:"left"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[i("p",[e._v(e._s(e.$t("m.Original_Display_ID"))+"："+e._s(a.questionId))]),e.examQuestionMap[a.id]?i("p",[e._v(" "+e._s(e.$t("m.Exam_Display_ID"))+"："+e._s(e.examQuestionMap[a.id]["displayId"])+" ")]):e._e(),e.examQuestionMap[a.id]?i("p",[e._v(" "+e._s(e.$t("m.Score"))+"： "),i("el-input",{staticStyle:{width:"60%"},attrs:{size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.changeExamQuestionScore(e.examQuestionMap[a.id])}},model:{value:e.examQuestionMap[a.id].score,callback:function(t){e.$set(e.examQuestionMap[a.id],"score",t)},expression:"examQuestionMap[row.id].score"}})],1):e._e()]}}],null,!1,307601113)}):i("vxe-table-column",{attrs:{"min-width":"100",field:"questionId",title:e.$t("m.Display_ID")}}),e.examID?e._e():i("vxe-table-column",{attrs:{field:"description","min-width":"150",title:e.$t("m.Question_Description"),"show-overflow":""}}),i("vxe-table-column",{attrs:{field:"author","min-width":"130",title:e.$t("m.Author"),"show-overflow":""}}),i("vxe-table-column",{attrs:{"min-width":"120",title:e.$t("m.Created_Time")},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.row;return[e._v(" "+e._s(e._f("localtime")(i.gmtCreate))+" ")]}}],null,!1,4036319876)}),i("vxe-table-column",{attrs:{"min-width":"96",field:"modifiedUser",title:e.$t("m.Modified_User"),"show-overflow":""}}),i("vxe-table-column",{attrs:{"min-width":"120",title:e.$t("m.Auth")},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[i("el-select",{attrs:{size:"small",disabled:a.gid!=e.gid||!e.isGroupRoot&&e.userInfo.username!=a.author},on:{change:function(t){return e.changeQuestionAuth(a.id,a.auth)}},model:{value:a.auth,callback:function(t){e.$set(a,"auth",t)},expression:"row.auth"}},[i("el-option",{attrs:{label:e.$t("m.Public_Question"),value:1}}),i("el-option",{attrs:{label:e.$t("m.Private_Question"),value:2}}),i("el-option",{attrs:{label:e.$t("m.Exam_Question"),value:3,disabled:!e.examID}})],1)]}}],null,!1,3388632285)}),i("vxe-table-column",{attrs:{title:e.$t("m.Option"),"min-width":"200"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[a.gid!=e.gid||!e.isGroupRoot&&e.userInfo.username!=a.author?e._e():i("el-tooltip",{attrs:{effect:"dark",content:e.$t("m.Edit"),placement:"top"}},[i("el-button",{attrs:{icon:"el-icon-edit-outline",size:"mini",type:"primary"},nativeOn:{click:function(t){return e.goEditQuestion(a.id)}}})],1),e.examID?i("el-tooltip",{attrs:{effect:"dark",content:e.$t("m.Remove"),placement:"top"}},[i("el-button",{attrs:{icon:"el-icon-close",size:"mini",type:"warning"},nativeOn:{click:function(t){return e.removeQuestion(a.id)}}})],1):e._e(),e.examID?i("p"):e._e(),a.gid!=e.gid||!e.isGroupRoot&&e.userInfo.username!=a.author?e._e():i("el-tooltip",{attrs:{effect:"dark",content:e.$t("m.Delete"),placement:"top"}},[i("el-button",{attrs:{icon:"el-icon-delete-solid",size:"mini",type:"danger"},nativeOn:{click:function(t){return e.deleteQuestion(a.id)}}})],1)]}}],null,!1,1643218480)})],1),e.editPage?e._e():i("Pagination",{attrs:{total:e.total,"page-size":e.limit,current:e.currentPage,layout:"prev, pager, next, sizes"},on:{"on-change":e.currentChange,"update:current":function(t){e.currentPage=t},"on-page-size-change":e.onPageSizeChange}}),e.editPage?i("Question",{attrs:{mode:"edit",title:e.$t("m.Edit_Question"),apiMethod:"updateGroupQuestion",qid:e.qid,examID:e.examID},on:{handleEditPage:e.handleEditPage,currentChange:e.currentChange}}):e._e()],1)},n=[],o=i("5530"),s=(i("d3b7"),i("3ca3"),i("ddb0"),i("a9e3"),i("2f62")),r=i("3228"),l=i("a18b"),u=function(){return i.e("chunk-48bf8d0f").then(i.bind(null,"5072"))},c={name:"GroupQuestionList",components:{Pagination:u,Question:l["a"]},props:{examID:{type:Number,default:null},type:{type:Number,default:0}},data:function(){return{total:0,currentPage:1,limit:10,questionList:[],examQuestionMap:{},loading:!1,qid:null,editPage:!1,predefineColors:null,gid:null}},mounted:function(){this.gid=this.$route.params.groupID,this.init()},watch:{type:function(e){this.currentChange(1)}},methods:{init:function(){this.getAdminQuestionList()},onPageSizeChange:function(e){this.limit=e,this.init()},currentChange:function(e){this.currentPage=e,this.init()},getAdminQuestionList:function(){var e=this;if(this.loading=!0,this.examID){var t={eid:this.examID,questionType:this.type,queryExisted:!0};r["a"].getGroupExamQuestionList(this.currentPage,this.limit,t).then((function(t){e.total=t.data.data.questionList.total,e.questionList=t.data.data.questionList.records,e.examQuestionMap=t.data.data.examQuestionMap,e.loading=!1}),(function(t){e.loading=!1}))}else r["a"].getGroupAdminQuestionList(this.currentPage,this.limit,this.type,this.$route.params.groupID).then((function(t){e.questionList=t.data.data.records,e.total=t.data.data.total,e.loading=!1}),(function(t){e.loading=!1}))},handleEditPage:function(){this.editPage=!1,this.$emit("currentChange",1),this.examID?this.$emit("handleEditQuestionPage"):this.$emit("handleEditPage")},goEditQuestion:function(e){this.qid=e,this.editPage=!this.editPage,this.examID?this.$emit("handleEditQuestionPage"):this.$emit("handleEditPage")},changeQuestionAuth:function(e,t){var i=this;r["a"].changeGroupQuestionAuth(e,t).then((function(e){i.$msg.success(i.$i18n.t("m.Update_Successfully")),i.$emit("currentChange",1)}))},changeExamQuestionScore:function(e){var t=this;r["a"].updateGroupExamQuestion(e).then((function(e){t.$msg.success(t.$i18n.t("m.Update_Successfully"))}))},removeQuestion:function(e){var t=this;this.$confirm(this.$i18n.t("m.Remove_Exam_Question_Tips"),this.$i18n.t("m.Warning"),{type:"warning"}).then((function(){r["a"].deleteGroupExamQuestion(e,t.examID).then((function(e){t.$msg.success(t.$t("m.Remove_Successfully")),t.$emit("currentChangeQuestion")})).catch((function(){}))}),(function(){}))},deleteQuestion:function(e){var t=this;this.$confirm(this.$i18n.t("m.Delete_Question_Tips"),this.$i18n.t("m.Warning"),{type:"warning"}).then((function(){r["a"].deleteGroupQuestion(e,t.$route.params.groupID).then((function(e){t.$msg.success(t.$i18n.t("m.Delete_successfully")),t.$emit("currentChange",1),t.currentChange(1)})).catch((function(){}))}),(function(){}))}},computed:Object(o["a"])({},Object(s["c"])(["userInfo","isGroupRoot"]))},m=c,d=i("2877"),p=Object(d["a"])(m,a,n,!1,null,null,null);t["a"]=p.exports},b495:function(e,t,i){"use strict";i("fd9a")},bf68:function(e,t,i){"use strict";var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("el-form",{attrs:{model:e.problemId},nativeOn:{submit:function(e){e.preventDefault()}}},[i("el-form-item",{attrs:{label:e.$t("m.Problem_ID"),required:""}},[i("el-input",{attrs:{size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.addGroupProblem.apply(null,arguments)}},model:{value:e.problemId,callback:function(t){e.problemId=t},expression:"problemId"}})],1),i("el-form-item",{staticStyle:{"text-align":"center"}},[i("el-button",{attrs:{type:"primary",icon:"el-icon-plus",loading:e.loading,size:"small"},on:{click:e.addGroupProblem}},[e._v(e._s(e.$t("m.Add"))+" ")])],1)],1)],1)},n=[],o=(i("a9e3"),i("3228")),s={name:"AddProblemFromGroup",props:{trainingID:{type:Number,default:null},contestID:{type:Number,default:null},examID:{type:Number,default:null}},data:function(){return{loading:!1,problemId:""}},methods:{addGroupProblem:function(){var e=this;this.contestID?this.$prompt(this.$i18n.t("m.Enter_The_Problem_Display_ID_in_the_Contest"),"Tips").then((function(t){var i=t.value;null!=i&&""!=i?o["a"].addGroupContestProblemFromGroup(e.problemId,e.contestID,i).then((function(t){e.$msg.success(e.$i18n.t("m.Add_Successfully")),e.loading=!1,e.$emit("currentChangeProblem"),e.$emit("handleGroupPage")}),(function(){})):e.$msg.error(e.$t("m.The_Problem_Display_ID_in_the_Contest_is_required"))}),(function(){})):this.examID?this.$prompt(this.$i18n.t("m.Enter_The_Problem_Display_ID_in_the_Exam"),"Tips").then((function(t){var i=t.value;null!=i&&""!=i?o["a"].addGroupExamProblemFromGroup(e.problemId,e.examID,i).then((function(t){e.$msg.success(e.$i18n.t("m.Add_Successfully")),e.loading=!1,e.$emit("currentChangeProblem"),e.$emit("handleGroupPage")}),(function(){})):e.$msg.error(e.$t("m.The_Problem_Display_ID_in_the_Exam_is_required"))}),(function(){})):o["a"].addGroupTrainingProblemFromGroup(this.problemId,this.trainingID).then((function(t){e.$msg.success(e.$i18n.t("m.Add_Successfully")),e.loading=!1,e.$emit("currentChangeProblem"),e.$emit("handleGroupPage")}),(function(){}))}}},r=s,l=i("2877"),u=Object(l["a"])(r,a,n,!1,null,null,null);t["a"]=u.exports},c985:function(e,t,i){"use strict";i("4662")},ddaf:function(e,t,i){e.exports=i.p+"assets/img/exam.7ad6cc76.png"},ed33:function(e,t,i){"use strict";i("6384")},fc3f:function(e,t,i){},fd9a:function(e,t,i){}}]);