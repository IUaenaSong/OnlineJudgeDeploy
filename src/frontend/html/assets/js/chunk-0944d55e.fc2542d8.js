(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0944d55e"],{1978:function(t,e,n){},"41da":function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[t.editPage?t._e():n("vxe-table",{attrs:{stripe:"","auto-resize":"",data:t.problemList,loading:t.loading,align:"center"}},[n("vxe-table-column",{attrs:{"min-width":"64",field:"id",title:"ID"}}),t.contestID||t.examID?n("vxe-table-column",{attrs:{"min-width":"150",title:t.$t("m.Original_Display"),align:"left"},scopedSlots:t._u([{key:"default",fn:function(e){var i=e.row;return[t.contestID||t.examID?n("p",[t._v(" "+t._s(t.$t("m.Display_ID"))+"："+t._s(i.problemId)+" ")]):t._e(),t.contestID||t.examID?n("p",[t._v(t._s(t.$t("m.Title"))+"："+t._s(i.title))]):n("span",[t._v(t._s(i.problemId))])]}}],null,!1,2980621275)}):n("vxe-table-column",{attrs:{"min-width":"100",field:"problemId",title:t.$t("m.Display_ID")}}),t.contestID||t.examID?t.contestID?n("vxe-table-column",{attrs:{"min-width":"150",title:t.$t("m.Contest_Display"),align:"left"},scopedSlots:t._u([{key:"default",fn:function(e){var i=e.row;return[t.contestProblemMap[i.id]?n("p",[t._v(" "+t._s(t.$t("m.Display_ID"))+"："+t._s(t.contestProblemMap[i.id]["displayId"])+" ")]):t._e(),t.contestProblemMap[i.id]?n("p",[t._v(" "+t._s(t.$t("m.Title"))+"："+t._s(t.contestProblemMap[i.id]["displayTitle"])+" ")]):t._e(),t.contestProblemMap[i.id]?n("span",[t._v(" "+t._s(t.$t("m.Balloon_Color"))+"："),n("el-color-picker",{staticStyle:{"vertical-align":"middle"},attrs:{"show-alpha":"",predefine:t.predefineColors,size:"small"},on:{change:function(e){return t.changeContestProblemColor(t.contestProblemMap[i.id])}},model:{value:t.contestProblemMap[i.id].color,callback:function(e){t.$set(t.contestProblemMap[i.id],"color",e)},expression:"contestProblemMap[row.id].color"}})],1):n("span",[t._v(t._s(i.title))])]}}],null,!1,1373693970)}):t.examID?n("vxe-table-column",{attrs:{"min-width":"150",title:t.$t("m.Exam_Display"),align:"left"},scopedSlots:t._u([{key:"default",fn:function(e){var i=e.row;return[t.examProblemMap[i.id]?n("p",[t._v(" "+t._s(t.$t("m.Display_ID"))+"："+t._s(t.examProblemMap[i.id]["displayId"])+" ")]):t._e(),t.examProblemMap[i.id]?n("p",[t._v(" "+t._s(t.$t("m.Title"))+"："+t._s(t.examProblemMap[i.id]["displayTitle"])+" ")]):t._e(),t.examProblemMap[i.id]?n("span",[t._v(" "+t._s(t.$t("m.Score"))+"： "),n("el-input",{staticStyle:{width:"60%"},attrs:{size:"small"},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.changeExamProblemScore(t.examProblemMap[i.id])}},model:{value:t.examProblemMap[i.id].score,callback:function(e){t.$set(t.examProblemMap[i.id],"score",e)},expression:"examProblemMap[row.id].score"}})],1):n("span",[t._v(t._s(i.title))])]}}],null,!1,3257991616)}):t._e():n("vxe-table-column",{attrs:{field:"title","min-width":"150",title:t.$t("m.Title"),"show-overflow":""}}),n("vxe-table-column",{attrs:{field:"author","min-width":"96",title:t.$t("m.Author"),"show-overflow":""}}),n("vxe-table-column",{attrs:{"min-width":"120",title:t.$t("m.Created_Time")},scopedSlots:t._u([{key:"default",fn:function(e){var n=e.row;return[t._v(" "+t._s(t._f("localtime")(n.gmtCreate))+" ")]}}],null,!1,4036319876)}),n("vxe-table-column",{attrs:{"min-width":"96",field:"modifiedUser",title:t.$t("m.Modified_User"),"show-overflow":""}}),n("vxe-table-column",{attrs:{"min-width":"120",title:t.$t("m.Auth")},scopedSlots:t._u([{key:"default",fn:function(e){var i=e.row;return[n("el-select",{attrs:{size:"small",disabled:i.gid!=t.gid||!t.isGroupRoot&&t.userInfo.username!=i.author},on:{change:function(e){return t.changeProblemAuth(i.id,i.auth)}},model:{value:i.auth,callback:function(e){t.$set(i,"auth",e)},expression:"row.auth"}},[n("el-option",{attrs:{label:t.$t("m.Public_Problem"),value:1}}),n("el-option",{attrs:{label:t.$t("m.Private_Problem"),value:2}}),n("el-option",{attrs:{label:t.$t("m.Contest_Exam_Problem"),value:3,disabled:!t.contestID&&!t.examID}})],1)]}}],null,!1,1890993070)}),n("vxe-table-column",{attrs:{title:t.$t("m.Option"),"min-width":"200"},scopedSlots:t._u([{key:"default",fn:function(e){var i=e.row;return[i.gid!=t.gid||!t.isGroupRoot&&t.userInfo.username!=i.author?t._e():n("el-tooltip",{attrs:{effect:"dark",content:t.$t("m.Edit"),placement:"top"}},[n("el-button",{attrs:{icon:"el-icon-edit-outline",size:"mini",type:"primary"},nativeOn:{click:function(e){return t.goEditProblem(i.id)}}})],1),i.gid!=t.gid||!t.isGroupRoot&&t.userInfo.username!=i.author?t._e():n("el-tooltip",{attrs:{effect:"dark",content:t.$t("m.Download_Testcase"),placement:"top"}},[n("el-button",{attrs:{icon:"el-icon-download",size:"mini",type:"success"},nativeOn:{click:function(e){return t.downloadTestCase(i.id)}}})],1),t.contestID||t.examID?n("p"):t._e(),t.contestID?n("el-tooltip",{attrs:{effect:"dark",content:t.$t("m.Remove"),placement:"top"}},[n("el-button",{attrs:{icon:"el-icon-close",size:"mini",type:"warning"},nativeOn:{click:function(e){return t.removeContestProblem(i.id)}}})],1):t._e(),t.examID?n("el-tooltip",{attrs:{effect:"dark",content:t.$t("m.Remove"),placement:"top"}},[n("el-button",{attrs:{icon:"el-icon-close",size:"mini",type:"warning"},nativeOn:{click:function(e){return t.removeExamProblem(i.id)}}})],1):t._e(),i.gid!=t.gid||!t.isGroupRoot&&t.userInfo.username!=i.author?t._e():n("el-tooltip",{attrs:{effect:"dark",content:t.$t("m.Delete"),placement:"top"}},[n("el-button",{attrs:{icon:"el-icon-delete-solid",size:"mini",type:"danger"},nativeOn:{click:function(e){return t.deleteProblem(i.id)}}})],1)]}}],null,!1,1467142687)})],1),t.editPage?t._e():n("Pagination",{attrs:{total:t.total,"page-size":t.limit,current:t.currentPage,layout:"prev, pager, next, sizes"},on:{"on-change":t.currentChange,"update:current":function(e){t.currentPage=e},"on-page-size-change":t.onPageSizeChange}}),t.editPage?n("Problem",{attrs:{mode:"edit",title:t.$t("m.Edit_Problem"),apiMethod:"updateGroupProblem",pid:t.pid,contestID:t.contestID,examID:t.examID},on:{handleEditPage:t.handleEditPage,currentChange:t.currentChange}}):t._e()],1)},a=[],o=n("5530"),l=(n("d3b7"),n("3ca3"),n("ddb0"),n("a9e3"),n("90b9")),r=n("2f62"),s=n("3228"),c=n("7850"),u=function(){return n.e("chunk-48bf8d0f").then(n.bind(null,"5072"))},m={name:"GroupProblemList",components:{Pagination:u,Problem:c["a"]},props:{contestID:{type:Number,default:null},examID:{type:Number,default:null}},data:function(){return{total:0,currentPage:1,limit:10,problemList:[],contestProblemMap:{},examProblemMap:{},loading:!1,pid:null,editPage:!1,predefineColors:null,gid:null}},mounted:function(){this.gid=this.$route.params.groupID,this.init()},methods:{init:function(){this.getAdminProblemList()},onPageSizeChange:function(t){this.limit=t,this.init()},currentChange:function(t){this.currentPage=t,this.init()},getAdminProblemList:function(){var t=this;if(this.loading=!0,this.contestID){var e={cid:this.contestID};s["a"].getGroupContestProblemList(this.currentPage,this.limit,e).then((function(e){t.total=e.data.data.problemList.total,t.problemList=e.data.data.problemList.records,t.contestProblemMap=e.data.data.contestProblemMap,t.loading=!1}),(function(e){t.loading=!1}))}else if(this.examID){var n={eid:this.examID};s["a"].getGroupExamProblemList(this.currentPage,this.limit,n).then((function(e){t.total=e.data.data.problemList.total,t.problemList=e.data.data.problemList.records,t.examProblemMap=e.data.data.examProblemMap,t.loading=!1}),(function(e){t.loading=!1}))}else s["a"].getGroupAdminProblemList(this.currentPage,this.limit,this.$route.params.groupID).then((function(e){t.problemList=e.data.data.records,t.total=e.data.data.total,t.loading=!1}),(function(e){t.loading=!1}))},handleEditPage:function(){this.editPage=!1,this.$emit("currentChange",1),this.contestID||this.examID?this.$emit("handleEditProblemPage"):this.$emit("handleEditPage")},goEditProblem:function(t){this.pid=t,this.editPage=!this.editPage,this.contestID||this.examID?this.$emit("handleEditProblemPage"):this.$emit("handleEditPage")},changeContestProblemColor:function(t){var e=this;s["a"].updateGroupContestProblem(t).then((function(t){e.$msg.success(e.$i18n.t("m.Update_Successfully"))}))},changeExamProblemScore:function(t){var e=this;s["a"].updateGroupExamProblem(t).then((function(t){e.$msg.success(e.$i18n.t("m.Update_Successfully"))}))},changeProblemAuth:function(t,e){var n=this;s["a"].changeGroupProblemAuth(t,e).then((function(t){n.$msg.success(n.$i18n.t("m.Update_Successfully")),n.$emit("currentChange",1)}))},removeContestProblem:function(t){var e=this;this.$confirm(this.$i18n.t("m.Remove_Contest_Problem_Tips"),this.$i18n.t("m.Warning"),{type:"warning"}).then((function(){s["a"].deleteGroupContestProblem(t,e.contestID).then((function(t){e.$msg.success(e.$t("m.Delete_successfully")),e.$emit("currentChangeProblem")})).catch((function(){}))}),(function(){}))},removeExamProblem:function(t){var e=this;this.$confirm(this.$i18n.t("m.Remove_Exam_Problem_Tips"),this.$i18n.t("m.Warning"),{type:"warning"}).then((function(){s["a"].deleteGroupExamProblem(t,e.examID).then((function(t){e.$msg.success(e.$t("m.Delete_successfully")),e.$emit("currentChangeProblem")})).catch((function(){}))}),(function(){}))},downloadTestCase:function(t){var e=this,n="/api/file/download-testcase?pid="+t;l["a"].downloadFile(n).then((function(){e.$alert(e.$i18n.t("m.Download_Testcase_Success"),e.$i18n.t("m.Tips"))}))},deleteProblem:function(t){var e=this;this.$confirm(this.$i18n.t("m.Delete_Problem_Tips"),this.$i18n.t("m.Warning"),{type:"warning"}).then((function(){s["a"].deleteGroupProblem(t,e.$route.params.groupID).then((function(t){e.$msg.success(e.$i18n.t("m.Delete_successfully")),e.$emit("currentChange",1),e.currentChange(1)})).catch((function(){}))}),(function(){}))}},computed:Object(o["a"])({},Object(r["c"])(["userInfo","isGroupRoot"]))},d=m,p=n("2877"),h=Object(p["a"])(d,i,a,!1,null,null,null);e["a"]=h.exports},a0ea:function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("el-card",[n("div",{staticClass:"filter-row"},[n("el-row",[n("el-col",{attrs:{span:3}},[n("span",{staticClass:"title"},[t._v(t._s(t.$t("m.Group_Problem")))])]),t.isSuperAdmin||t.isGroupAdmin?n("el-col",{attrs:{span:18}},[t.editPage?t._e():n("el-button",{attrs:{type:t.createPage?"danger":"primary",size:"small",icon:t.createPage?"el-icon-back":"el-icon-plus"},on:{click:t.handleCreatePage}},[t._v(t._s(t.createPage?t.$t("m.Back"):t.$t("m.Create")))]),t.editPage&&t.adminPage?n("el-button",{attrs:{type:"danger",size:"small",icon:"el-icon-back"},on:{click:t.handleEditPage}},[t._v(t._s(t.$t("m.Back")))]):t._e(),t._v("` "),n("el-button",{attrs:{type:t.adminPage?"warning":"success",size:"small",icon:t.adminPage?"el-icon-back":"el-icon-s-opportunity"},on:{click:t.handleAdminPage}},[t._v(t._s(t.adminPage?t.$t("m.Back"):t.$t("m.Problem_Admin")))])],1):t._e()],1)],1),t.adminPage||t.createPage?t._e():n("div",[n("vxe-table",{attrs:{border:"inner",stripe:"","auto-resize":"","highlight-hover-row":"",data:t.problemList,loading:t.loading,align:"center"},on:{"cell-click":t.goGroupProblem}},[t.isAuthenticated?n("vxe-table-column",{attrs:{field:"status",title:"",width:"50"},scopedSlots:t._u([{key:"default",fn:function(e){var i=e.row;return[t.isGetStatusOk?[n("el-tooltip",{attrs:{content:t.JUDGE_STATUS[i.myStatus]["name"],placement:"top"}},[0==i.myStatus?[n("i",{staticClass:"el-icon-check",style:t.getIconColor(i.myStatus)})]:-10!=i.myStatus?[n("i",{staticClass:"el-icon-minus",style:t.getIconColor(i.myStatus)})]:t._e()],2)]:t._e()]}}],null,!1,893541202)}):t._e(),n("vxe-table-column",{attrs:{field:"problemId",title:t.$t("m.Problem_ID"),width:"150","show-overflow":""}}),n("vxe-table-column",{attrs:{field:"title",title:t.$t("m.Title"),"min-width":"150","show-overflow":""}}),n("vxe-table-column",{attrs:{field:"difficulty",title:t.$t("m.Level"),"min-width":"100"},scopedSlots:t._u([{key:"default",fn:function(e){var i=e.row;return[n("span",{staticClass:"el-tag el-tag--small",style:t.getLevelColor(i.difficulty)},[t._v(t._s(t.getLevelName(i.difficulty)))])]}}],null,!1,714022723)}),n("vxe-table-column",{attrs:{field:"tag","min-width":"100"},scopedSlots:t._u([{key:"header",fn:function(){return[t.showTags?n("el-link",{attrs:{type:"danger",underline:!1},on:{click:function(e){t.showTags=!t.showTags}}},[t._v(t._s(t.$t("m.Hide_Tags")))]):n("el-link",{attrs:{type:"primary",underline:!1},on:{click:function(e){t.showTags=!t.showTags}}},[t._v(t._s(t.$t("m.Show_Tags")))])]},proxy:!0},{key:"default",fn:function(e){var i=e.row;return[t.showTags?n("div",t._l(i.tags,(function(e){return n("span",{key:e.id,staticClass:"el-tag el-tag--small",style:"margin-right:7px;color:#FFF;background-color:"+(e.color?e.color:"#409eff")},[t._v(t._s(e.name))])})),0):t._e()]}}],null,!1,4290128672)}),n("vxe-table-column",{attrs:{field:"ac",title:t.$t("m.AC_Rate"),"min-width":"120"},scopedSlots:t._u([{key:"default",fn:function(e){var i=e.row;return[n("span",[n("el-tooltip",{attrs:{effect:"dark",content:i.ac+"/"+i.total,placement:"top"}},[n("el-progress",{attrs:{"text-inside":!0,"stroke-width":20,percentage:t.getPassingRate(i.ac,i.total)}})],1)],1)]}}],null,!1,1855699231)})],1),n("Pagination",{attrs:{total:t.total,"page-size":t.limit,current:t.currentPage,layout:"prev, pager, next, sizes"},on:{"on-change":t.currentChange,"update:current":function(e){t.currentPage=e},"on-page-size-change":t.onPageSizeChange}})],1),t.adminPage&&!t.createPage?n("ProblemList",{ref:"problemList",on:{handleEditPage:t.handleEditPage,currentChange:t.currentChange}}):t._e(),t.createPage&&!t.editPage?n("Problem",{attrs:{mode:"add",title:t.title,apiMethod:t.apiMethod},on:{handleCreatePage:t.handleCreatePage,currentChange:t.currentChange}}):t._e()],1)},a=[],o=n("5530"),l=(n("d3b7"),n("3ca3"),n("ddb0"),n("b0c0"),n("b680"),n("2f62")),r=n("90b9"),s=n("9a36"),c=n("41da"),u=n("7850"),m=n("3228"),d=function(){return n.e("chunk-48bf8d0f").then(n.bind(null,"5072"))},p={name:"GroupProblemList",components:{Pagination:d,ProblemList:c["a"],Problem:u["a"]},data:function(){return{total:0,currentPage:1,limit:10,problemList:[],title:"",apiMethod:"",JUDGE_STATUS:{},isGetStatusOk:!1,testcolor:"rgba(0, 206, 209, 1)",showTags:!1,loading:!1,routeName:"",adminPage:!1,createPage:!1,editPage:!1}},mounted:function(){this.routeName=this.$route.name,"GroupProblemList"===this.routeName?(this.title=this.$t("m.Create_Problem"),this.apiMethod="addGroupProblem"):"GroupContestProblemList"===this.routeName&&(this.title=this.$t("m.Create_Contest_Problem"),this.apiMethod="addGroupContestProblem"),this.init()},created:function(){this.JUDGE_STATUS=Object.assign({},s["k"])},methods:{init:function(){this.getGroupProblemList()},onPageSizeChange:function(t){this.limit=t,this.init()},currentChange:function(t){this.currentPage=t,this.init()},getGroupProblemList:function(){var t=this;this.loading=!0,m["a"].getGroupProblemList(this.currentPage,this.limit,this.$route.params.groupID).then((function(e){if(t.problemList=e.data.data.records,t.total=e.data.data.total,t.loading=!1,t.isAuthenticated){var n=[];if(t.problemList&&t.problemList.length>0){for(var i=0;i<t.problemList.length;i++)n.push(t.problemList[i].pid);t.isGetStatusOk=!1,m["a"].getUserProblemStatus(n,!1,!1).then((function(e){for(var n=e.data.data,i=0;i<t.problemList.length;i++)t.problemList[i]["myStatus"]=n[t.problemList[i].pid]["status"];t.isGetStatusOk=!0}))}}}),(function(e){t.loading=!1}))},goGroupProblem:function(t){this.$router.push({name:"ProblemDetails",params:{problemID:t.row.problemId}})},handleCreatePage:function(){this.createPage=!this.createPage},handleEditPage:function(){this.editPage=!this.editPage,this.$refs.problemList.editPage=this.editPage},handleAdminPage:function(){this.adminPage=!this.adminPage,this.createPage=!1,this.editPage=!1},getACRate:function(t,e){return r["a"].getACRate(t,e)},getIconColor:function(t){return"font-weight: 600;font-size: 16px;color:"+s["k"][t].rgb},getLevelColor:function(t){return r["a"].getLevelColor(t)},getLevelName:function(t){return r["a"].getLevelName(t)},getPassingRate:function(t,e){return e?(t/e*100).toFixed(2):0}},computed:Object(o["a"])({},Object(l["c"])(["isAuthenticated","isSuperAdmin","isGroupAdmin"]))},h=p,g=(n("cc1a"),n("2877")),f=Object(g["a"])(h,i,a,!1,null,"01a2df1e",null);e["default"]=f.exports},cc1a:function(t,e,n){"use strict";n("1978")}}]);