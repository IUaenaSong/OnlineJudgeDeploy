(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1cf0acf1"],{"92be":function(t,e,n){},a8fd:function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("el-row",[n("el-col",{staticStyle:{"margin-top":"10px","margin-bottom":"10px"},attrs:{span:24}},[n("el-card",{attrs:{shadow:"always"}},[n("div",{attrs:{slot:"header"},slot:"header"},[n("span",{staticClass:"panel-title"},[t._v(t._s(t.$t("m.Admin_Print")))]),n("div",{staticClass:"filter-row"},[n("span",[t._v(" "+t._s(t.$t("m.Auto_Refresh"))+"(10s) "),n("el-switch",{on:{change:t.handleAutoRefresh},model:{value:t.autoRefresh,callback:function(e){t.autoRefresh=e},expression:"autoRefresh"}})],1),n("span",[n("el-button",{attrs:{type:"primary",size:"small",icon:"el-icon-refresh",loading:t.btnLoading},on:{click:function(e){return t.getContestPrint(1)}}},[t._v(t._s(t.$t("m.Refresh")))])],1)])]),n("vxe-table",{attrs:{border:"inner",stripe:"","auto-resize":"",align:"center",data:t.printList}},[n("vxe-table-column",{attrs:{field:"username",title:t.$t("m.Username"),"min-width":"150"},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.row;return[n("span",[n("a",{staticStyle:{color:"rgb(87, 163, 243)"},on:{click:function(e){return t.getUserTotalSubmit(a.username)}}},[t._v(t._s(a.username))])])]}}])}),n("vxe-table-column",{attrs:{field:"realname",title:t.$t("m.RealName"),"min-width":"150"}}),n("vxe-table-column",{attrs:{field:"gmtCreate","min-width":"150",title:t.$t("m.Submit_Time")},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.row;return[n("span",[t._v(t._s(t._f("localtime")(a.gmtCreate)))])]}}])}),n("vxe-table-column",{attrs:{field:"status",title:t.$t("m.Status"),"min-width":"150"},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.row;return[1==a.status?n("el-tag",{attrs:{effect:"dark",color:"#19be6b"}},[t._v(t._s(t.$t("m.Printed")))]):t._e(),0==a.status?n("el-tag",{attrs:{effect:"dark",color:"#f90"}},[t._v(t._s(t.$t("m.Not_Printed")))]):t._e()]}}])}),n("vxe-table-column",{attrs:{field:"option",title:t.$t("m.Option"),"min-width":"150"},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.row;return[n("el-button",{attrs:{type:"primary",size:"small",icon:"el-icon-download",round:""},on:{click:function(e){return t.downloadSubmissions(a.id)}}},[t._v(t._s(t.$t("m.Download")))]),n("el-button",{attrs:{type:"success",size:"small",icon:"el-icon-circle-check",round:""},on:{click:function(e){return t.updateStatus(a.id)}}},[t._v(t._s(t.$t("m.OK")))])]}}])})],1),n("Pagination",{attrs:{total:t.total,"page-size":t.limit,current:t.page},on:{"update:pageSize":function(e){t.limit=e},"update:page-size":function(e){t.limit=e},"update:current":function(e){t.page=e},"on-change":t.getContestPrint}})],1)],1)],1)},i=[],s=(n("d3b7"),n("3ca3"),n("ddb0"),n("3228")),o=n("90b9"),r=function(){return n.e("chunk-48bf8d0f").then(n.bind(null,"5072"))},l={name:"Contest-Print-Admin",components:{Pagination:r},data:function(){return{page:1,limit:15,total:0,btnLoading:!1,autoRefresh:!1,contestID:null,printList:[]}},mounted:function(){this.contestID=this.$route.params.contestID,this.getContestPrint(1)},methods:{updateStatus:function(t){var e=this,n={id:t,cid:this.contestID};s["a"].updateContestPrintStatus(n).then((function(t){e.$msg.success(e.$i18n.t("m.Update_Successfully")),e.getContestPrint(1)}))},getContestPrint:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,n={cid:this.contestID,currentPage:e,limit:this.limit};this.btnLoading=!0,s["a"].getContestPrintList(n).then((function(e){t.btnLoading=!1,t.printList=e.data.data.records,t.total=e.data.data.total})).catch((function(){t.btnLoading=!1}))},downloadSubmissions:function(t){var e="/api/file/download-contest-print-text?id=".concat(t);o["a"].downloadFile(e)},handleAutoRefresh:function(){var t=this;this.autoRefresh?this.refreshFunc=setInterval((function(){t.page=1,t.getContestPrint(1)}),1e4):clearInterval(this.refreshFunc)}},beforeDestroy:function(){clearInterval(this.refreshFunc)}},c=l,u=(n("f88e"),n("2877")),d=Object(u["a"])(c,a,i,!1,null,"6905c63c",null);e["default"]=d.exports},f88e:function(t,e,n){"use strict";n("92be")}}]);