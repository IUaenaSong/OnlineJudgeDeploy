(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-9b57d26e","chunk-13f2b59d"],{1005:function(t,e,i){"use strict";i("77ff")},"24b4":function(t,e,i){t.exports=i.p+"assets/img/default.fd8c1f48.jpg"},"6f6a":function(t,e,i){},"77ff":function(t,e,i){},"7e81":function(t,e,i){},"857a":function(t,e,i){var r=i("e330"),a=i("1d80"),o=i("577e"),n=/"/g,s=r("".replace);t.exports=function(t,e,i,r){var l=o(a(t)),u="<"+e;return""!==i&&(u+=" "+i+'="'+s(o(r),n,"&quot;")+'"'),u+">"+l+"</"+e+">"}},"92bc":function(t,e,i){"use strict";i("7e81")},9911:function(t,e,i){"use strict";var r=i("23e7"),a=i("857a"),o=i("af03");r({target:"String",proto:!0,forced:o("link")},{link:function(t){return a(this,"a","href",t)}})},a956:function(t,e,i){"use strict";i.r(e);var r=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("mavon-editor",{ref:"md",style:0!=t.height?"min-height:"+t.height+"px":"",attrs:{ishljs:!0,html:t.openHtml,autofocus:!1,toolbars:t.toolbars,codeStyle:"arduino-light",toolbarsFlag:t.toolbarsFlag},on:{imgAdd:t.$imgAdd,imgDel:t.$imgDel},scopedSlots:t._u([t.isAdminRole?{key:"left-toolbar-after",fn:function(){return[i("button",{staticClass:"op-icon fa markdown-upload",attrs:{type:"button",title:t.$t("m.Upload_file"),"aria-hidden":"true"},on:{click:t.uploadFile}},[i("i",{staticClass:"el-icon-upload"})])]},proxy:!0}:null],null,!0),model:{value:t.currentValue,callback:function(e){t.currentValue=e},expression:"currentValue"}}),i("input",{ref:"uploadInput",staticStyle:{display:"none"},attrs:{type:"file"},on:{change:t.uploadFileChange}})],1)},a=[],o=i("5530"),n=(i("a9e3"),i("9911"),i("99af"),i("b0c0"),i("2f62")),s=i("b355"),l={name:"Editor",props:{value:{type:String,default:""},openHtml:{type:Boolean,default:!0},toolbarsFlag:{type:Boolean,default:!0},height:{type:Number,default:0}},data:function(){return{currentValue:this.value,img_file:{},toolbars:{bold:!0,italic:!0,header:!0,underline:!0,strikethrough:!0,mark:!0,superscript:!0,subscript:!0,quote:!0,ol:!0,ul:!0,link:!0,imagelink:!1,code:!0,table:!0,fullscreen:!0,readmodel:!0,htmlcode:!0,help:!0,undo:!0,redo:!0,trash:!0,save:!0,navigation:!0,alignleft:!0,aligncenter:!0,alignright:!0,subfield:!0,preview:!0}}},created:function(){(this.isAdminRole||this.isGroupAdmin||this.$route.params.examID)&&(this.toolbars.imagelink=!0)},methods:{$imgAdd:function(t,e){var i=this;if(this.isAdminRole||this.isGroupAdmin||this.$route.params.examID){var r=new FormData;r.append("image",e),this.$route.params.groupID&&r.append("gid",this.$route.params.groupID),this.$route.params.examID&&r.append("eid",this.$route.params.examID),this.$http({url:"/api/file/upload-md-img",method:"post",data:r,headers:{"Content-Type":"multipart/form-data"}}).then((function(e){i.$refs.md.$img2Url(t,e.data.data.link),i.img_file[e.data.data.link]=e.data.data.fileId}))}},$imgDel:function(t){this.$http({url:"/api/file/delete-md-img",method:"get",params:{fileId:this.img_file[t[0]]}})},uploadFile:function(){this.$refs.uploadInput.click()},uploadFileChange:function(t){var e=this,i=t.target.files[0],r=new FormData;r.append("file",i),this.$route.params.groupID&&r.append("gid",this.$route.params.groupID),this.$route.params.examID&&r.append("eid",this.$route.params.examID),this.$http({url:"/api/file/upload-md-file",method:"post",data:r,headers:{"Content-Type":"multipart/form-data"}}).then((function(t){var r=e.$refs.md;r.insertText(r.getTextareaDom(),{prefix:"[".concat(i.name,"](").concat(t.data.data.link,")"),subfix:"",str:""})}))}},computed:Object(o["a"])({},Object(n["c"])(["isAdminRole","isGroupAdmin"])),watch:{value:function(t){this.currentValue!==t&&(this.currentValue=t)},currentValue:function(t,e){t!==e&&(this.$emit("update:value",t),this.$nextTick((function(t){Object(s["a"])()})))},isAdminRole:function(t){this.toolbars.imagelink=!!t}}},u=l,c=(i("92bc"),i("2877")),p=Object(c["a"])(u,r,a,!1,null,null,null);e["default"]=p.exports},af03:function(t,e,i){var r=i("d039");t.exports=function(t){return r((function(){var e=""[t]('"');return e!==e.toLowerCase()||e.split('"').length>3}))}},b793:function(t,e,i){"use strict";i.r(e);var r=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("el-row",{attrs:{gutter:20}},[i("el-col",{staticStyle:{"margin-top":"10px","margin-bottom":"10px"},attrs:{span:24}},[i("el-card",[i("section",[i("span",{staticClass:"find-group"},[t._v(t._s(t.$t("m.Search_Group")))]),i("vxe-input",{staticStyle:{width:"230px","margin-right":"1.7em"},attrs:{placeholder:t.$t("m.Enter_keyword"),type:"search",size:"medium"},on:{"search-click":t.filterByKeyword},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.filterByKeyword.apply(null,arguments)}},model:{value:t.query.keyword,callback:function(e){t.$set(t.query,"keyword",e)},expression:"query.keyword"}}),i("el-button",{staticClass:"hidden-xs-only",attrs:{type:"warning",icon:"el-icon-search",size:"small",disabled:!t.isAuthenticated},on:{click:function(e){return t.handleOnlyMine(!t.query.onlyMine)}}},[t._v(" "+t._s(t.query.onlyMine?t.$t("m.All_Group"):t.$t("m.My_Group"))+" ")]),i("el-button",{staticClass:"hidden-sm-and-up",attrs:{type:"warning",icon:"el-icon-search",size:"small",disabled:!t.isAuthenticated},on:{click:function(e){return t.handleOnlyMine(!t.query.onlyMine)}}}),i("el-button",{staticClass:"hidden-xs-only",attrs:{type:"primary",icon:"el-icon-plus",size:"small"},on:{click:t.toCreateGroup}},[t._v(" "+t._s(t.$t("m.Create_Group"))+" ")]),i("el-button",{staticClass:"hidden-sm-and-up",attrs:{type:"primary",icon:"el-icon-plus",size:"small"},on:{click:t.toCreateGroup}})],1),i("section",[i("b",{staticClass:"group-category"},[t._v(t._s(t.$t("m.Group_Auth")))]),i("div",[i("el-tag",{staticClass:"category-item",attrs:{size:"medium",effect:t.query.auth?"plain":"dark"},on:{click:function(e){return t.filterByAuth(null)}}},[t._v(" "+t._s(t.$t("m.All"))+" ")]),t._l(t.GROUP_TYPE_REVERSE,(function(e,r){return i("el-tag",{key:r,staticClass:"category-item",attrs:{size:"medium",type:e.color,effect:t.query.auth==r?"dark":"plain"},on:{click:function(e){return t.filterByAuth(r)}}},[t._v(" "+t._s(t.$t("m.Group_"+e.name))+" ")])}))],2)])])],1),i("el-col",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],attrs:{span:24}},[i("el-row",{attrs:{gutter:20}},[t.groupList.length?t._e():i("el-col",{staticStyle:{"margin-top":"10px","margin-bottom":"10px"},attrs:{xxl:4,xl:6,lg:8,md:8,sm:12,xs:24}},[i("el-card",{staticStyle:{"border-radius":"10px"},attrs:{"body-style":{padding:"0px"}}},[i("el-empty",{attrs:{description:t.$t("m.No_Groups")}})],1)],1),t._l(t.groupList,(function(e){return i("el-col",{key:e.id,staticStyle:{"margin-top":"10px","margin-bottom":"10px"},attrs:{xxl:4,xl:6,lg:8,md:8,sm:12,xs:24}},[i("el-row",{attrs:{gutter:1}},[i("el-col",{staticStyle:{"text-align":"center"},attrs:{span:7}},[i("el-card",{staticStyle:{"border-radius":"10px",height:"170px"},attrs:{"body-style":{padding:"0px"}}},[i("el-image",{staticStyle:{height:"135px",width:"100%"},attrs:{src:e.avatar?e.avatar:t.defaultAvatar,fit:"cover"},on:{click:function(i){return t.toGroup(e.id)}}}),i("el-link",{staticStyle:{"font-size":"16px"},attrs:{type:"primary",underline:!1},on:{click:function(i){return t.toUserHome(e.owner)}}},[i("i",{staticClass:"el-icon-user-solid"}),t._v(" "+t._s(e.owner)+" ")])],1)],1),i("el-col",{class:t.GROUP_TYPE_REVERSE[e.auth].name,attrs:{span:17}},[i("el-card",{staticStyle:{"border-radius":"10px",height:"170px"},attrs:{"body-style":{padding:"0px"}}},[i("div",{staticStyle:{height:"24px"},attrs:{slot:"header"},slot:"header"},[i("a",{staticClass:"group-name",on:{click:function(i){return t.toGroup(e.id)}}},[i("Marquee",{attrs:{val:e.name,id:e.id}})],1)]),i("div",{staticClass:"group-brief"},[i("span",[t._v(t._s(e.brief))])]),i("el-divider"),i("div",{staticStyle:{"font-size":"16px",padding:"3.5px"}},[i("span",[i("i",{staticClass:"fa fa-users"}),i("i",{staticClass:"el-icon-close"},[t._v(t._s(e.memberCount))]),i("el-tooltip",{attrs:{content:t.$t("m."+t.GROUP_TYPE_REVERSE[e.auth].tips)}},[i("el-tag",{staticClass:"group-auth",attrs:{size:"medium",type:t.GROUP_TYPE_REVERSE[e.auth].color,effect:"plain"},on:{click:function(i){return t.filterByAuth(e.auth)}}},[t._v(" "+t._s(t.$t("m.Group_"+t.GROUP_TYPE_REVERSE[e.auth].name))+" ")])],1),i("el-tooltip",{attrs:{content:t.$t("m.Group_Hidden_Tips")}},[e.visible?t._e():i("el-tag",{staticClass:"group-auth",attrs:{size:"medium",type:"primary",effect:"plain"}},[t._v(" "+t._s(t.$t("m.Group_Hidden"))+" ")])],1)],1),i("span",{staticStyle:{float:"right"}},[i("i",{staticClass:"el-icon-time"},[t._v(" "+t._s(t._f("localtime")(e.gmtCreate,t.format="YYYY-MM-DD"))+" ")])])])],1)],1)],1)],1)}))],2)],1),i("Pagination",{staticStyle:{"margin-top":"10px","margin-bottom":"30px"},attrs:{total:t.total,"page-size":t.query.limit,current:t.query.currentPage,layout:"prev, pager, next, sizes",pageSizes:[9,15,30,60,120]},on:{"on-change":t.currentChange,"update:current":function(e){return t.$set(t.query,"currentPage",e)},"on-page-size-change":t.onPageSizeChange}}),i("el-dialog",{attrs:{title:t.$t("m.Create_Group"),visible:t.showEditGroupDialog,fullscreen:!0},on:{"update:visible":function(e){t.showEditGroupDialog=e},open:t.onOpenEditDialog}},[i("el-form",{ref:"group",attrs:{"label-position":"top",model:t.group,rules:t.rules}},[i("el-row",{attrs:{gutter:20}},[i("el-col",{attrs:{md:12,xs:24}},[i("el-form-item",{attrs:{label:t.$t("m.Group_Name"),required:"",prop:"name"}},[i("el-input",{staticClass:"title-input",attrs:{placeholder:t.$t("m.Group_Name"),minlength:"5",maxlength:"25","show-word-limit":""},model:{value:t.group.name,callback:function(e){t.$set(t.group,"name",e)},expression:"group.name"}})],1)],1),i("el-col",{attrs:{md:12,xs:24}},[i("el-form-item",{attrs:{label:t.$t("m.Group_Short_Name"),required:"",prop:"shortName"}},[i("el-input",{staticClass:"title-input",attrs:{placeholder:t.$t("m.Group_Short_Name"),minlength:"5",maxlength:"10","show-word-limit":""},model:{value:t.group.shortName,callback:function(e){t.$set(t.group,"shortName",e)},expression:"group.shortName"}})],1)],1),i("el-col",{attrs:{span:24}},[i("el-form-item",{attrs:{label:t.$t("m.Group_Brief"),required:"",prop:"brief"}},[i("el-input",{staticClass:"title-input",attrs:{placeholder:t.$t("m.Group_Brief"),minlength:"5",maxlength:"50","show-word-limit":""},model:{value:t.group.brief,callback:function(e){t.$set(t.group,"brief",e)},expression:"group.brief"}})],1)],1),i("el-col",{attrs:{md:8,xs:24}},[i("el-form-item",{attrs:{label:t.$t("m.Group_Auth"),required:"",prop:"auth"}},[i("el-select",{model:{value:t.group.auth,callback:function(e){t.$set(t.group,"auth",e)},expression:"group.auth"}},[i("el-tooltip",{attrs:{content:t.$t("m.Group_Public_Tips"),placement:"right"}},[i("el-option",{attrs:{label:t.$t("m.Group_Public"),value:1}})],1),i("el-tooltip",{attrs:{content:t.$t("m.Group_Protected_Tips"),placement:"right"}},[i("el-option",{attrs:{label:t.$t("m.Group_Protected"),value:2}})],1),i("el-tooltip",{attrs:{content:t.$t("m.Group_Private_Tips"),placement:"right"}},[i("el-option",{attrs:{label:t.$t("m.Group_Private"),value:3}})],1)],1)],1)],1),3==t.group.auth?i("el-col",{attrs:{md:8,xs:24}},[i("el-form-item",{attrs:{label:t.$t("m.Group_Code"),required:"",prop:"code"}},[i("el-input",{staticClass:"title-input",attrs:{placeholder:t.$t("m.Group_Code"),minlength:"6",maxlength:"6","show-word-limit":""},model:{value:t.group.code,callback:function(e){t.$set(t.group,"code",e)},expression:"group.code"}})],1)],1):t._e(),i("el-col",{attrs:{md:8,xs:24}},[i("el-form-item",{attrs:{label:t.$t("m.Visible"),required:"",prop:"visible"}},[i("el-switch",{attrs:{"active-text":t.$t("m.Group_Visible"),"inactive-text":t.$t("m.Group_Not_Visible")},model:{value:t.group.visible,callback:function(e){t.$set(t.group,"visible",e)},expression:"group.visible"}})],1)],1),i("el-col",{attrs:{span:24}},[i("el-form-item",{attrs:{label:t.$t("m.Group_Description"),required:"",prop:"description"}},[i("Editor",{attrs:{value:t.group.description},on:{"update:value":function(e){return t.$set(t.group,"description",e)}}})],1)],1)],1)],1),i("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{attrs:{type:"danger"},nativeOn:{click:function(e){t.showEditGroupDialog=!1}}},[t._v(t._s(t.$t("m.Cancel")))]),i("el-button",{attrs:{type:"primary"},nativeOn:{click:function(e){return t.submitGroup.apply(null,arguments)}}},[t._v(t._s(t.$t("m.OK")))])],1)],1)],1)},a=[],o=i("5530"),n=(i("d3b7"),i("3ca3"),i("ddb0"),i("9a36")),s=i("3228"),l=i("4a89"),u=i.n(l),c=i("2f62"),p=i("a956"),d=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"marquee-wrap",class:"marquee-wrap_"+t.id},[i("div",{staticClass:"scroll",class:"scroll_"+t.id},[i("p",{staticClass:"marquee",class:"marquee_"+t.id},[t._v(t._s(t.text))]),i("p",{staticClass:"copy",class:"copy_"+t.id})]),i("p",{staticClass:"getWidth",class:"getWidth_"+t.id},[t._v(t._s(t.text))])])},m=[],h=i("b85c"),g={name:"Marquee",props:["val","id"],data:function(){return{timer:null,text:""}},created:function(){},mounted:function(){var t,e=this,i=setTimeout((function(){e.move(),clearTimeout(i)}),100),r=Object(h["a"])(this.val);try{for(r.s();!(t=r.n()).done;){var a=t.value;this.text+=a}}catch(o){r.e(o)}finally{r.f()}},methods:{move:function(){var t=document.querySelector(".marquee-wrap_"+this.id).clientWidth,e=document.querySelector(".getWidth_"+this.id).scrollWidth;if(!(e<=t)){var i=document.querySelector(".scroll_"+this.id),r=document.querySelector(".copy_"+this.id);r.innerText=this.text;var a=0;this.timer=setInterval((function(){a-=1,-a>=e&&(a=16),i.style.transform="translateX("+a+"px)"}),20)}}},beforeDestroy:function(){clearInterval(this.timer)}},f=g,_=(i("1005"),i("2877")),y=Object(_["a"])(f,d,m,!1,null,"08e0b5c4",null),b=y.exports,v=function(){return i.e("chunk-48bf8d0f").then(i.bind(null,"5072"))},$={name:"GroupList",components:{Avatar:u.a,Pagination:v,Editor:p["default"],Marquee:b},data:function(){return{showEditGroupDialog:!1,query:{keyword:"",auth:0,onlyMine:!1,currentPage:1,limit:9},total:0,group:{avatar:"",name:"",shortName:"",brief:"",description:"",owner:"",auth:1,visible:!0},rules:{name:[{required:!0,message:this.$i18n.t("m.Group_Name_Check_Required"),trigger:"blur"},{min:5,max:25,message:this.$i18n.t("m.Group_Name_Check_Min_Max"),trigger:"blur"}],shortName:[{required:!0,message:this.$i18n.t("m.Group_Short_Name_Check_Required"),trigger:"blur"},{min:5,max:10,message:this.$i18n.t("m.Group_Short_Name_Check_Min_Max"),trigger:"blur"}],brief:[{required:!0,message:this.$i18n.t("m.Group_Brief_Check_Required"),trigger:"blur"},{min:5,max:50,message:this.$i18n.t("m.Group_Brief_Check_Min_Max"),trigger:"blur"}],code:[{required:!0,message:this.$i18n.t("m.Group_Code_Check_Required"),trigger:"blur"},{min:6,max:6,message:this.$i18n.t("m.Group_Code_Check_Min_Max"),trigger:"blur"}],auth:[{required:!0,message:this.$i18n.t("m.Group_Auth_Check_Required"),trigger:"blur"}],description:[{required:!0,message:this.$i18n.t("m.Group_Description_Check_Required"),trigger:"blur"},{min:5,max:1e3,message:this.$i18n.t("m.Group_Description_Check_Min_Max"),trigger:"blur"}]},backupGroup:null,groupList:[],loading:!1,defaultAvatar:i("24b4")}},mounted:function(){this.init()},created:function(){this.GROUP_TYPE_REVERSE=Object.assign({},n["j"])},methods:{init:function(){var t=this.$route.query;this.query.auth=t.auth,this.query.keyword=t.keyword||"",this.query.onlyMine=t.onlyMine+""=="true",this.query.currentPage=t.currentPage||1,this.query.limit=t.limit||9,this.getGroupList()},onPageSizeChange:function(t){this.query.currentPage=1,this.query.limit=t,this.handleRouter()},currentChange:function(t){this.query.currentPage=t,this.handleRouter()},filterByKeyword:function(){this.query.currentPage=1,this.handleRouter()},filterByAuth:function(t){this.query.currentPage=1,this.query.auth=t,this.handleRouter()},handleOnlyMine:function(t){this.query.currentPage=1,this.query.onlyMine=t,this.handleRouter()},handleAuth:function(t){this.query.currentPage=1,this.query.auth=t,this.handleRouter()},handleRouter:function(){this.$router.push({path:this.$route.path,query:this.query})},getGroupList:function(){var t=this;this.loading=!0,s["a"].getGroupList(this.query).then((function(e){t.groupList=e.data.data.records,t.total=e.data.data.total,t.loading=!1}),(function(e){t.loading=!1}))},toGroup:function(t){this.isAuthenticated?this.$router.push({name:"GroupDetails",params:{groupID:t}}):(this.$msg.warning(this.$i18n.t("m.Please_login_first")),this.$store.dispatch("changeModalStatus",{visible:!0}))},toUserHome:function(t){this.$router.push({name:"UserHome",query:{username:t}})},toCreateGroup:function(){this.isAuthenticated?(this.backupGroup?this.group=this.backupGroup:this.group={id:null,avatar:"",name:"",shortName:"",brief:"",description:"",owner:"",auth:null,code:"",status:null,visible:!0},this.showEditGroupDialog=!0):(this.$msg.warning(this.$i18n.t("m.Please_login_first")),this.$store.dispatch("changeModalStatus",{visible:!0}))},onOpenEditDialog:function(){setTimeout((function(){if(document.createEvent){var t=document.createEvent("HTMLEvents");t.initEvent("resize",!0,!0),window.dispatchEvent(t)}else document.createEventObject&&window.fireEvent("onresize")}),0)},submitGroup:function(){var t=this;this.$refs["group"].validate((function(e){if(e){var i=Object.assign({},t.group);s["a"].addGroup(i).then((function(e){t.$msg.success(t.$i18n.t("m.Create_Successfully")),t.showEditGroupDialog=!1,t.init()}))}}))}},computed:Object(o["a"])({},Object(c["c"])(["isAuthenticated"])),watch:{$route:function(t,e){t!==e&&this.init()},group:function(t,e){t!=e&&(this.backupGroup=this.group)}}},x=$,k=(i("d787"),Object(_["a"])(x,r,a,!1,null,"c822057a",null));e["default"]=k.exports},d787:function(t,e,i){"use strict";i("6f6a")}}]);