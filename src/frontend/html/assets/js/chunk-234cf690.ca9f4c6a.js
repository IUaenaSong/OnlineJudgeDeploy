(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-234cf690"],{1579:function(t,e,n){"use strict";n("6641")},"4c89":function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("el-row",[n("el-col",{staticStyle:{"margin-top":"10px","margin-bottom":"10px"},attrs:{span:24}},[n("el-card",{attrs:{shadow:""}},[n("div",{staticClass:"rank-title",attrs:{slot:"header"},slot:"header"},[n("span",{staticClass:"panel-title"},[t._v(t._s(t.$t("m.Record_List")))])]),n("vxe-table",{ref:"TraningtRank",attrs:{round:"",border:"","auto-resize":"",size:"medium",align:"center",data:t.dataRank,"cell-class-name":t.cellClassName,"seq-config":{startIndex:(this.page-1)*this.limit}},on:{"cell-click":t.getUserProblemSubmission}},[n("vxe-table-column",{attrs:{field:"rank",type:"seq",width:"50",fixed:"left"}}),t.isMobileView?n("vxe-table-column",{attrs:{field:"username","min-width":"280",title:t.$t("m.User"),"header-align":"center",align:"left"},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.row;return[n("avatar",{attrs:{username:a.username,inline:!0,size:37,color:"#FFF",src:a.avatar,title:a.username}}),n("span",{staticStyle:{float:"right","text-align":"right"}},[n("a",{on:{click:function(e){return t.getUserHomeByUsername(a.uid,a.username)}}},[n("span",{staticClass:"contest-username"},["female"==a.gender?n("span",{staticClass:"contest-rank-flag"},[t._v("Girl")]):t._e(),t._v(t._s(a.username))]),a.school?n("span",{staticClass:"contest-school"},[t._v(t._s(a.school))]):t._e()])])]}}])}):n("vxe-table-column",{attrs:{field:"username",fixed:"left","min-width":"280",title:t.$t("m.User"),"header-align":"center",align:"left"},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.row;return[n("avatar",{attrs:{username:a.username,inline:!0,size:37,color:"#FFF",src:a.avatar,title:a.username}}),n("span",{staticStyle:{float:"right","text-align":"right"}},[n("a",{on:{click:function(e){return t.getUserHomeByUsername(a.uid,a.username)}}},[n("span",{staticClass:"contest-username"},["female"==a.gender?n("span",{staticClass:"contest-rank-flag"},[t._v("Girl")]):t._e(),t._v(t._s(a.username))]),a.school?n("span",{staticClass:"contest-school"},[t._v(t._s(a.school))]):t._e()])])]}}],null,!1,440245394)}),t.isTrainingAdmin?n("vxe-table-column",{attrs:{field:"realname",width:"96",title:t.$t("m.RealName"),"show-overflow":""}}):t._e(),n("vxe-table-column",{attrs:{field:"rating",title:t.$t("m.Total_AC"),width:"120"},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.row;return[n("span",{staticStyle:{"font-size":"14px"}},[n("a",{staticStyle:{color:"rgb(87, 163, 243)"},on:{click:function(e){return t.getUserACSubmit(a.username)}}},[t._v(t._s(a.ac))]),n("br"),n("span",{staticClass:"judge-time"},[t._v("("+t._s(a.totalRunTime)+"ms)")])])]}}])}),t._l(t.trainingProblemList,(function(e,a){return n("vxe-table-column",{key:a,attrs:{width:"64",field:e.problemId},scopedSlots:t._u([{key:"header",fn:function(){return[n("span",[n("a",{staticClass:"emphasis",staticStyle:{color:"#495060"},on:{click:function(n){return t.getTrainingProblemById(e.problemId)}}},[t._v(t._s(e.problemId))])])]},proxy:!0},{key:"default",fn:function(a){var i=a.row;return[i.submissionInfo[e.problemId]?[n("el-tooltip",{attrs:{effect:"dark",placement:"top"}},[n("div",{attrs:{slot:"content"},slot:"content"},[t._v(" "+t._s(t.JUDGE_STATUS[i.submissionInfo[e.problemId].status].name)+" ")]),n("span",{staticClass:"judge-status submission-hover",style:"color:"+t.JUDGE_STATUS[i.submissionInfo[e.problemId].status].rgb},[t._v(" "+t._s(t.JUDGE_STATUS[i.submissionInfo[e.problemId].status].short)+" ")])]),n("br"),n("span",{staticClass:"judge-time"},[t._v(" ("+t._s(i.submissionInfo[e.problemId].runTime?i.submissionInfo[e.problemId].runTime:0)+"ms) ")])]:t._e()]}}],null,!0)})}))],2),n("Pagination",{attrs:{total:t.total,"page-size":t.limit,current:t.page,layout:"prev, pager, next, sizes"},on:{"update:pageSize":function(e){t.limit=e},"update:page-size":function(e){t.limit=e},"update:current":function(e){t.page=e},"on-change":t.getTrainingRankData,"on-page-size-change":function(e){return t.getTrainingRankData(1)}}})],1)],1)],1)},i=[],s=n("5530"),r=(n("d3b7"),n("3ca3"),n("ddb0"),n("159b"),n("4a89")),o=n.n(r),l=n("2f62"),u=n("9a36"),c=n("3228"),m=n("ffb0"),g=function(){return n.e("chunk-48bf8d0f").then(n.bind(null,"5072"))},d={name:"TrainingRank",components:{Pagination:g,Avatar:o.a},data:function(){return{total:0,page:1,limit:30,trainingID:"",dataRank:[],JUDGE_STATUS:{}}},mounted:function(){this.JUDGE_STATUS=Object.assign({},u["k"]),this.trainingProblemList.length||this.getTrainingProblemList(),this.trainingID=this.$route.params.trainingID,this.groupID=this.$route.params.groupID,this.getTrainingRankData()},methods:Object(s["a"])(Object(s["a"])({},Object(l["b"])(["getTrainingProblemList"])),{},{getTrainingRankData:function(){var t=this,e={tid:this.trainingID,limit:this.limit,currentPage:this.page};c["a"].getTrainingRank(e).then((function(e){t.total=e.data.data.total,t.applyToTable(e.data.data.records)}),(function(t){}))},getUserACSubmit:function(t){this.$router.push({name:"SubmissionList",query:{username:t,status:0}})},getUserHomeByUsername:function(t,e){this.$router.push({name:"UserHome",query:{username:e,uid:t}})},getTrainingProblemById:function(t){this.$router.push({name:"TrainingProblemDetails",params:{trainingID:this.trainingID,problemID:t}})},getUserProblemSubmission:function(t){var e=t.row,n=t.column;"rank"!==n.property&&"totalScore"!==n.property&&"username"!==n.property&&"realname"!==n.property&&"rating"!==n.property&&e.submissionInfo[n.property]&&this.$router.push({name:"SubmissionList",query:{username:e.username,problemID:n.property,gid:this.gid}})},cellClassName:function(t){var e=t.row,n=(t.rowIndex,t.column);t.columnIndex;if("username"===n.property&&e.userCellClassName)return e.userCellClassName},applyToTable:function(t){t.forEach((function(e,n){"female"==t[n].gender&&(t[n].userCellClassName="bg-female")})),this.dataRank=t},parseTotalTime:function(t){return m["a"].secondFormat(t)}}),computed:Object(s["a"])(Object(s["a"])(Object(s["a"])({},Object(l["d"])({gid:function(t){return t.training.training.gid},trainingProblemList:function(t){return t.training.trainingProblemList}})),Object(l["c"])(["isTrainingAdmin"])),{},{training:function(){return this.$store.state.training.training},isMobileView:function(){return window.screen.width<768}})},p=d,f=(n("1579"),n("2877")),b=Object(f["a"])(p,a,i,!1,null,"85a3b2ca",null);e["default"]=b.exports},6641:function(t,e,n){}}]);