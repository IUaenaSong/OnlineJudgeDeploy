(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-31484439"],{2419:function(e,s,r){"use strict";r("9de0")},8554:function(e,s,r){"use strict";r.r(s);var t=function(){var e=this,s=e.$createElement,r=e._self._c||s;return r("div",[r("div",{staticClass:"container"},[r("el-row",[r("el-col",{staticStyle:{"margin-top":"10px","margin-bottom":"10px"},attrs:{span:24}},[r("el-card",{attrs:{shadow:"always","body-style":"{backgroud-color:gray}"}},[r("h2",{staticStyle:{"text-align":"center"}},[e._v(" "+e._s(e.$t("m.Set_New_Password"))+" ")]),r("el-form",{ref:"formResetPassword",attrs:{model:e.formResetPassword,rules:e.rules}},[r("el-form-item",{attrs:{prop:"username"}},[r("el-input",{attrs:{"prefix-icon":"el-icon-user-solid",disabled:!0},model:{value:e.formResetPassword.username,callback:function(s){e.$set(e.formResetPassword,"username",s)},expression:"formResetPassword.username"}})],1),r("el-form-item",{attrs:{prop:"password"}},[r("el-input",{attrs:{"prefix-icon":"el-icon-lock",type:"password",placeholder:e.$t("m.Set_New_Password_Msg")},model:{value:e.formResetPassword.password,callback:function(s){e.$set(e.formResetPassword,"password",s)},expression:"formResetPassword.password"}})],1),r("el-form-item",{attrs:{prop:"passwordAgain"}},[r("el-input",{attrs:{"prefix-icon":"el-icon-lock",type:"password",placeholder:e.$t("m.Set_New_Password_Again_Msg")},model:{value:e.formResetPassword.passwordAgain,callback:function(s){e.$set(e.formResetPassword,"passwordAgain",s)},expression:"formResetPassword.passwordAgain"}})],1)],1),r("div",{staticClass:"footer"},[r("el-button",{attrs:{type:"primary",loading:e.btnLoading},on:{click:e.handleResetPwd}},[e._v(" "+e._s(e.$t("m.Set_New_Password"))+" ")])],1)],1)],1)],1)],1)])},a=[],o=r("5530"),n=(r("d9e2"),r("ac1f"),r("5319"),r("3228")),i=r("2f62"),d={data:function(){var e=this,s=function(s,r,t){n["a"].checkUsernameOrEmail(r,void 0).then((function(s){!1===s.data.data.username?t(new Error(e.$i18n.t("m.The_username_does_not_exists"))):t()}),(function(e){return t()}))},r=function(s,r,t){""!==e.formResetPassword.password&&e.$refs.formResetPassword.validateField("passwordAgain"),t()},t=function(s,r,t){r!==e.formResetPassword.password&&t(new Error(e.$i18n.t("m.Password_does_not_match"))),t()};return{btnLoading:!1,formResetPassword:{username:"",password:"",passwordAgain:"",code:""},rules:{username:[{required:!0,message:this.$i18n.t("m.Username_Check_Required"),trigger:"blur"},{validator:s,trigger:"blur"}],password:[{required:!0,message:this.$i18n.t("m.Password_Check_Required"),trigger:"blur"},{min:6,max:20,trigger:"blur",message:this.$i18n.t("m.Password_Check_Between")},{validator:r,trigger:"blur"}],passwordAgain:[{required:!0,message:this.$i18n.t("m.Password_Again_Check_Required"),trigger:"blur"},{validator:t,trigger:"change"}]}}},created:function(){var e=this.$route.query.username,s=this.$route.query.code;e&&(this.formResetPassword.username=e),s&&(this.formResetPassword.code=s)},methods:Object(o["a"])(Object(o["a"])({},Object(i["b"])(["changeModalStatus"])),{},{handleResetPwd:function(){var e=this;this.$refs["formResetPassword"].validate((function(s){if(s){e.btnLoading=!0;var r=Object.assign({},e.formResetPassword);delete r.passwordAgain,n["a"].resetPassword(r).then((function(s){e.btnLoading=!1,e.$msg.success(e.$i18n.t("m.Your_password_has_been_reset")),e.$router.replace({path:"/"}),e.changeModalStatus({mode:"Login",visible:!0})}),(function(s){e.btnLoading=!1}))}}))}})},c=d,l=(r("2419"),r("2877")),u=Object(l["a"])(c,t,a,!1,null,"2251013a",null);s["default"]=u.exports},"9de0":function(e,s,r){}}]);