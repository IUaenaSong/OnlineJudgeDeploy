(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-13f2b59d"],{"7e81":function(t,e,a){},"857a":function(t,e,a){var i=a("e330"),n=a("1d80"),o=a("577e"),r=/"/g,l=i("".replace);t.exports=function(t,e,a,i){var u=o(n(t)),s="<"+e;return""!==a&&(s+=" "+a+'="'+l(o(i),r,"&quot;")+'"'),s+">"+u+"</"+e+">"}},"92bc":function(t,e,a){"use strict";a("7e81")},9911:function(t,e,a){"use strict";var i=a("23e7"),n=a("857a"),o=a("af03");i({target:"String",proto:!0,forced:o("link")},{link:function(t){return n(this,"a","href",t)}})},a956:function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("mavon-editor",{ref:"md",style:0!=t.height?"min-height:"+t.height+"px":"",attrs:{ishljs:!0,html:t.openHtml,autofocus:!1,toolbars:t.toolbars,codeStyle:"arduino-light",toolbarsFlag:t.toolbarsFlag},on:{imgAdd:t.$imgAdd,imgDel:t.$imgDel},scopedSlots:t._u([t.isAdminRole?{key:"left-toolbar-after",fn:function(){return[a("button",{staticClass:"op-icon fa markdown-upload",attrs:{type:"button",title:t.$t("m.Upload_file"),"aria-hidden":"true"},on:{click:t.uploadFile}},[a("i",{staticClass:"el-icon-upload"})])]},proxy:!0}:null],null,!0),model:{value:t.currentValue,callback:function(e){t.currentValue=e},expression:"currentValue"}}),a("input",{ref:"uploadInput",staticStyle:{display:"none"},attrs:{type:"file"},on:{change:t.uploadFileChange}})],1)},n=[],o=a("5530"),r=(a("a9e3"),a("9911"),a("99af"),a("b0c0"),a("2f62")),l=a("b355"),u={name:"Editor",props:{value:{type:String,default:""},openHtml:{type:Boolean,default:!0},toolbarsFlag:{type:Boolean,default:!0},height:{type:Number,default:0}},data:function(){return{currentValue:this.value,img_file:{},toolbars:{bold:!0,italic:!0,header:!0,underline:!0,strikethrough:!0,mark:!0,superscript:!0,subscript:!0,quote:!0,ol:!0,ul:!0,link:!0,imagelink:!1,code:!0,table:!0,fullscreen:!0,readmodel:!0,htmlcode:!0,help:!0,undo:!0,redo:!0,trash:!0,save:!0,navigation:!0,alignleft:!0,aligncenter:!0,alignright:!0,subfield:!0,preview:!0}}},created:function(){(this.isAdminRole||this.isGroupAdmin||this.$route.params.examID)&&(this.toolbars.imagelink=!0)},methods:{$imgAdd:function(t,e){var a=this;if(this.isAdminRole||this.isGroupAdmin||this.$route.params.examID){var i=new FormData;i.append("image",e),this.$route.params.groupID&&i.append("gid",this.$route.params.groupID),this.$route.params.examID&&i.append("eid",this.$route.params.examID),this.$http({url:"/api/file/upload-md-img",method:"post",data:i,headers:{"Content-Type":"multipart/form-data"}}).then((function(e){a.$refs.md.$img2Url(t,e.data.data.link),a.img_file[e.data.data.link]=e.data.data.fileId}))}},$imgDel:function(t){this.$http({url:"/api/file/delete-md-img",method:"get",params:{fileId:this.img_file[t[0]]}})},uploadFile:function(){this.$refs.uploadInput.click()},uploadFileChange:function(t){var e=this,a=t.target.files[0],i=new FormData;i.append("file",a),this.$route.params.groupID&&i.append("gid",this.$route.params.groupID),this.$route.params.examID&&i.append("eid",this.$route.params.examID),this.$http({url:"/api/file/upload-md-file",method:"post",data:i,headers:{"Content-Type":"multipart/form-data"}}).then((function(t){var i=e.$refs.md;i.insertText(i.getTextareaDom(),{prefix:"[".concat(a.name,"](").concat(t.data.data.link,")"),subfix:"",str:""})}))}},computed:Object(o["a"])({},Object(r["c"])(["isAdminRole","isGroupAdmin"])),watch:{value:function(t){this.currentValue!==t&&(this.currentValue=t)},currentValue:function(t,e){t!==e&&(this.$emit("update:value",t),this.$nextTick((function(t){Object(l["a"])()})))},isAdminRole:function(t){this.toolbars.imagelink=!!t}}},s=u,d=(a("92bc"),a("2877")),p=Object(d["a"])(s,i,n,!1,null,null,null);e["default"]=p.exports},af03:function(t,e,a){var i=a("d039");t.exports=function(t){return i((function(){var e=""[t]('"');return e!==e.toLowerCase()||e.split('"').length>3}))}}}]);