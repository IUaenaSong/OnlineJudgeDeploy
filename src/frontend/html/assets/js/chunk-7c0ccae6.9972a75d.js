(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7c0ccae6","chunk-13f2b59d"],{"1f9d":function(t,e,i){"use strict";i("661c")},"36fb":function(t,e,i){"use strict";i.r(e);var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("el-card",[i("div",{staticClass:"filter-row"},[i("el-row",[i("el-col",{attrs:{span:3}},[i("span",{staticClass:"title"},[t._v(t._s(t.$t("m.Group_Question")))])]),t.isSuperAdmin||t.isGroupAdmin?i("el-col",{attrs:{span:18}},[t.editPage?t._e():i("el-button",{attrs:{type:t.createPage?"danger":"primary",size:"small",icon:t.createPage?"el-icon-back":"el-icon-plus"},on:{click:t.handleCreatePage}},[t._v(t._s(t.createPage?t.$t("m.Back"):t.$t("m.Create")))]),t.editPage&&t.adminPage?i("el-button",{attrs:{type:"danger",size:"small",icon:"el-icon-back"},on:{click:t.handleEditPage}},[t._v(t._s(t.$t("m.Back")))]):t._e(),t._v("` "),i("el-button",{attrs:{type:t.adminPage?"warning":"success",size:"small",icon:t.adminPage?"el-icon-back":"el-icon-s-opportunity"},on:{click:t.handleAdminPage}},[t._v(t._s(t.adminPage?t.$t("m.Back"):t.$t("m.Question_Admin")))])],1):t._e()],1)],1),t.createPage||t.editPage?t._e():i("section",[i("b",{staticClass:"question-filter"},[t._v(t._s(t.$t("m.Question_Type")))]),i("div",[i("el-tag",{staticClass:"filter-item",attrs:{size:"medium",type:"primary",effect:0==t.type?"dark":"plain"},on:{click:function(e){return t.filterByType(0)}}},[t._v(" "+t._s(t.$t("m.All"))+" ")]),t._l(t.QUESTION_TYPE_REVERSE,(function(e,n){return i("el-tag",{key:n,staticClass:"filter-item",attrs:{size:"medium",type:e.color,effect:t.type==n?"dark":"plain"},on:{click:function(e){return t.filterByType(n)}}},[t._v(" "+t._s(t.$t("m."+e.name+"_Question"))+" ")])}))],2)]),t.adminPage||t.createPage?t._e():i("div",[i("vxe-table",{attrs:{border:"inner",stripe:"","auto-resize":"","highlight-hover-row":"",data:t.questionList,loading:t.loading,align:"center"},on:{"cell-click":t.goGroupQuestion}},[i("vxe-table-column",{attrs:{field:"questionId",title:t.$t("m.Question_ID"),width:"150","show-overflow":""}}),i("vxe-table-column",{attrs:{field:"description",title:t.$t("m.Question_Description"),"min-width":"200","show-overflow":""}}),i("vxe-table-column",{attrs:{field:"type",title:t.$t("m.Question_Type"),"min-width":"150","show-overflow":""},scopedSlots:t._u([{key:"default",fn:function(e){var n=e.row;return[1!=n.type?i("el-tag",{staticClass:"filter-item",attrs:{size:"medium",type:t.QUESTION_TYPE_REVERSE[n.type].color,effect:"dark"}},[t._v(" "+t._s(t.$t("m."+t.QUESTION_TYPE_REVERSE[n.type].name+"_Question"))+" ")]):t._e(),1==n.type?i("el-tag",{attrs:{size:"medium",type:"primary",effect:"plain"}},[t._v(" "+t._s(t.$t("m."+(n.single?"Single_Choice":"Indefinite_Multiple_Choice")+"_Question"))+" ")]):t._e()]}}],null,!1,2104276982)})],1),i("Pagination",{attrs:{total:t.total,"page-size":t.limit,current:t.currentPage,layout:"prev, pager, next, sizes"},on:{"on-change":t.currentChange,"update:current":function(e){t.currentPage=e},"on-page-size-change":t.onPageSizeChange}})],1),t.adminPage&&!t.createPage?i("QuestionList",{ref:"questionList",attrs:{type:t.type},on:{handleEditPage:t.handleEditPage,currentChange:t.currentChange}}):t._e(),t.createPage&&!t.editPage?i("Question",{attrs:{mode:"add",title:t.title,apiMethod:t.apiMethod},on:{handleCreatePage:t.handleCreatePage,currentChange:t.currentChange}}):t._e()],1)},a=[],s=i("5530"),o=(i("d3b7"),i("3ca3"),i("ddb0"),i("b0c0"),i("2f62")),r=i("a9c4"),u=i("a18b"),l=i("9a36"),c=i("3228"),d=function(){return i.e("chunk-48bf8d0f").then(i.bind(null,"5072"))},m={name:"GroupQuestionList",components:{Pagination:d,Question:u["a"],QuestionList:r["a"]},data:function(){return{total:0,currentPage:1,limit:10,questionList:[],type:0,title:"",apiMethod:"",loading:!1,routeName:"",adminPage:!1,createPage:!1,editPage:!1}},mounted:function(){this.routeName=this.$route.name,"GroupQuestionList"===this.routeName?(this.title=this.$t("m.Create_Question"),this.apiMethod="addGroupQuestion"):"GroupExamQuestionList"===this.routeName&&(this.title=this.$t("m.Create_Exam_Question"),this.apiMethod="addGroupExamQuestion"),this.init()},created:function(){this.QUESTION_TYPE_REVERSE=Object.assign({},l["n"])},methods:{init:function(){this.getGroupQuestionList()},onPageSizeChange:function(t){this.limit=t,this.init()},currentChange:function(t){this.currentPage=t,this.init()},getGroupQuestionList:function(){var t=this;this.loading=!0,c["a"].getGroupQuestionList(this.currentPage,this.limit,this.type,this.$route.params.groupID).then((function(e){t.questionList=e.data.data.records,t.total=e.data.data.total,t.loading=!1}),(function(e){t.loading=!1}))},goGroupQuestion:function(t){this.$router.push({name:"GroupQuestionDetails",params:{questionId:t.row.questionId}})},handleCreatePage:function(){this.createPage=!this.createPage},handleEditPage:function(){this.editPage=!this.editPage,this.$refs.questionList.editPage=this.editPage},handleAdminPage:function(){this.adminPage=!this.adminPage,this.createPage=!1,this.editPage=!1},filterByType:function(t){this.type=parseInt(t),this.currentChange(1)}},computed:Object(s["a"])({},Object(o["c"])(["isAuthenticated","isSuperAdmin","isGroupAdmin"]))},h=m,p=(i("1f9d"),i("2877")),f=Object(p["a"])(h,n,a,!1,null,"e730ce04",null);e["default"]=f.exports},4662:function(t,e,i){},"661c":function(t,e,i){},"7e81":function(t,e,i){},"857a":function(t,e,i){var n=i("e330"),a=i("1d80"),s=i("577e"),o=/"/g,r=n("".replace);t.exports=function(t,e,i,n){var u=s(a(t)),l="<"+e;return""!==i&&(l+=" "+i+'="'+r(s(n),o,"&quot;")+'"'),l+">"+u+"</"+e+">"}},"92bc":function(t,e,i){"use strict";i("7e81")},9911:function(t,e,i){"use strict";var n=i("23e7"),a=i("857a"),s=i("af03");n({target:"String",proto:!0,forced:s("link")},{link:function(t){return a(this,"a","href",t)}})},a18b:function(t,e,i){"use strict";var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("el-row",[i("el-col",{attrs:{span:24}},[i("el-card",{attrs:{shadow:"never"}},[i("div",{attrs:{slot:"header"},slot:"header"},[i("span",{staticClass:"panel-title home-title"},[t._v(t._s(t.title))])]),i("el-form",{ref:"form",attrs:{model:t.question,rules:t.rules,"label-position":"top"}},[i("el-row",[i("el-col",{attrs:{span:24}},[i("el-form-item",{attrs:{prop:"questionId",label:t.$t("m.Question_Display_ID"),required:""}},[i("el-input",{attrs:{placeholder:t.$t("m.Question_Display_ID")},model:{value:t.question.questionId,callback:function(e){t.$set(t.question,"questionId",e)},expression:"question.questionId"}},[i("template",{slot:"prepend"},[t._v(" "+t._s(t.group.shortName.toUpperCase())+" ")])],2)],1)],1),i("el-col",{attrs:{span:24}},[t.examID?i("el-row",{attrs:{gutter:20}},[i("el-col",{attrs:{md:12,xs:24}},[i("el-form-item",{attrs:{label:t.$t("m.Exam_Display_ID"),required:""}},[i("el-input",{attrs:{placeholder:t.$t("m.Exam_Display_ID")},model:{value:t.examQuestion.displayId,callback:function(e){t.$set(t.examQuestion,"displayId",e)},expression:"examQuestion.displayId"}})],1)],1),i("el-col",{attrs:{md:12,xs:24}},[i("el-form-item",{attrs:{label:t.$t("m.Score"),required:""}},[i("el-input",{attrs:{placeholder:t.$t("m.Score")},model:{value:t.examQuestion.score,callback:function(e){t.$set(t.examQuestion,"score",e)},expression:"examQuestion.score"}})],1)],1)],1):t._e()],1),i("el-col",{attrs:{span:24}},[i("el-row",{attrs:{gutter:10}},[i("el-col",{attrs:{sm:12,xs:24}},[i("el-form-item",{attrs:{prop:"type",label:t.$t("m.Question_Type"),required:""}},[i("el-radio-group",{on:{change:t.switchType},model:{value:t.question.type,callback:function(e){t.$set(t.question,"type",e)},expression:"question.type"}},[i("el-radio",{attrs:{label:1}},[t._v(t._s(t.$t("m.Choice_Question")))]),i("el-radio",{attrs:{label:2}},[t._v(t._s(t.$t("m.Judge_Question")))]),i("el-radio",{attrs:{label:3}},[t._v(t._s(t.$t("m.Blank_Question")))]),i("el-radio",{attrs:{label:4}},[t._v(t._s(t.$t("m.Answer_Question")))])],1)],1)],1),1==t.question.type?i("el-col",{attrs:{sm:12,xs:24}},[i("el-form-item",{attrs:{prop:"single",label:t.$t("m.Question_Type"),required:""}},[i("el-switch",{attrs:{"active-text":t.$t("m.Single_Choice_Question"),"inactive-text":t.$t("m.Indefinite_Multiple_Choice_Question")},model:{value:t.question.single,callback:function(e){t.$set(t.question,"single",e)},expression:"question.single"}})],1)],1):t._e()],1)],1),i("el-col",{attrs:{span:24}},[i("el-row",{attrs:{gutter:10}},[i("el-col",{attrs:{sm:12,xs:24}},[i("el-form-item",{attrs:{label:t.$t("m.Auth"),required:""}},[i("el-select",{attrs:{size:"small"},model:{value:t.question.auth,callback:function(e){t.$set(t.question,"auth",e)},expression:"question.auth"}},[i("el-option",{attrs:{label:t.$t("m.Public_Question"),value:1}}),i("el-option",{attrs:{label:t.$t("m.Private_Question"),value:2}}),i("el-option",{attrs:{label:t.$t("m.Exam_Question"),value:3,disabled:!t.examID}})],1)],1)],1),i("el-col",{attrs:{sm:12,xs:24}},[i("el-form-item",{attrs:{label:t.$t("m.Answer_Share"),required:""}},[i("el-switch",{model:{value:t.question.share,callback:function(e){t.$set(t.question,"share",e)},expression:"question.share"}})],1)],1)],1)],1),i("el-col",{attrs:{span:24}},[i("el-form-item",{attrs:{prop:"description",label:t.$t("m.Question_Description"),required:""}},[i("Editor",{attrs:{value:t.question.description},on:{"update:value":function(e){return t.$set(t.question,"description",e)}}})],1)],1),i("el-col",{attrs:{span:24}},[i("el-form-item",{attrs:{prop:"answer",label:t.$t("m.Question_Answer"),required:""}},[i("Editor",{attrs:{value:t.question.answer},on:{"update:value":function(e){return t.$set(t.question,"answer",e)}}})],1)],1),1==t.question.type?i("el-col",{attrs:{span:24}},[i("el-form-item",{attrs:{label:t.$t("m.Question_Choices"),required:""}},[i("el-button",{attrs:{icon:"el-icon-plus",type:"success",size:"small"},on:{click:t.addChoice}},[t._v(t._s(t.$t("m.Add_Choice"))+" ")]),i("el-button",{attrs:{icon:"el-icon-minus",type:"danger",size:"small"},on:{click:t.deleteAllChoices}},[t._v(t._s(t.$t("m.Delete_All"))+" ")]),t._l(t.question.choices,(function(e,n){return i("div",{key:n,staticClass:"choices"},[i("el-row",{attrs:{gutter:10}},[t.question.single?i("el-col",{attrs:{sm:2,xs:24}},[i("el-radio-group",{model:{value:t.question.radio,callback:function(e){t.$set(t.question,"radio",e)},expression:"question.radio"}},[i("el-radio",{attrs:{label:n}},[t._v(" "+t._s(String.fromCharCode(n+65))+" ")])],1)],1):i("el-col",{attrs:{sm:2,xs:24}},[i("el-checkbox",{model:{value:e.status,callback:function(i){t.$set(e,"status",i)},expression:"choice.status"}},[t._v(" "+t._s(String.fromCharCode(n+65))+" ")])],1),null!=e.content&&void 0!=e.content?i("el-col",{attrs:{sm:19,xs:24}},[i("Editor",{attrs:{value:e.content,toolbarsFlag:!1,height:50},on:{"update:value":function(i){return t.$set(e,"content",i)}}})],1):t._e(),i("el-col",{attrs:{sm:3,xs:24}},[i("el-button",{attrs:{type:"danger",size:"small",icon:"el-icon-delete"},on:{click:function(e){return t.deleteChoice(n)}}},[t._v(" "+t._s(t.$t("m.Delete"))+" ")])],1)],1)],1)}))],2)],1):t._e(),1==t.question.type&&t.question.single?i("el-col",{staticClass:"right-answer",attrs:{span:24}},[t._v(" "+t._s(t.$t("m.Right_Answer")+": ")+" "),null!=t.question.radio?i("span",[t._v(" "+t._s(String.fromCharCode(t.question.radio+65))+" ")]):t._e()]):t._e(),1!=t.question.type||t.question.single?t._e():i("el-col",{staticClass:"right-answer",attrs:{span:24}},[t._v(" "+t._s(t.$t("m.Right_Answer")+": ")+" "),t._l(t.question.choices,(function(e,n){return i("span",{key:n},[t._v(" "+t._s(e.status?String.fromCharCode(n+65)+",":"")+" ")])}))],2),2==t.question.type?i("el-col",{attrs:{span:24}},[i("el-form-item",{attrs:{prop:"judge",label:t.$t("m.Question_Choices"),required:""}},[i("el-switch",{attrs:{"active-text":t.$t("m.True"),"inactive-text":t.$t("m.False")},model:{value:t.question.judge,callback:function(e){t.$set(t.question,"judge",e)},expression:"question.judge"}})],1)],1):t._e(),i("el-col",{attrs:{span:24}},[i("el-button",{attrs:{type:"primary",size:"small"},nativeOn:{click:function(e){return t.submit.apply(null,arguments)}}},[t._v(t._s(t.$t("m.Save")))])],1)],1)],1)],1)],1)],1)},a=[],s=i("5530"),o=i("b85c"),r=(i("a9e3"),i("fb6a"),i("a434"),i("90b9")),u=i("3228"),l=i("2f62"),c=i("a956"),d={name:"GroupQuestion",components:{Editor:c["default"]},props:{mode:{type:String,default:"add"},title:{type:String,default:"Create Question"},examID:{type:Number,default:null},qid:{type:Number,default:null},apiMethod:{type:String,default:"addGroupQuestion"}},data:function(){return{rules:{description:{required:!0,message:"Description is required",trigger:"blur"}},question:{questionId:"",type:1,auth:1,single:!0,judge:null,description:"",answer:"",radio:null,share:!1,choices:[]},reQuestion:{},examQuestion:{displayId:null,score:null,eid:null,qid:null}}},mounted:function(){this.problem=this.reProblem={questionId:"",type:1,auth:1,single:!0,judge:null,description:"",answer:"",radio:null,share:!1,choices:[]},this.examID&&(this.question.auth=this.reQuestion.auth=3),this.init()},watch:{$route:function(){this.$refs.form.resetFields(),this.question=this.reQuestion,this.init()}},methods:{init:function(){var t=this;"edit"===this.mode?u["a"].getGroupQuestion(this.qid).then((function(e){var i=e.data.data;i.choices=r["a"].stringToChoices(i.choices),i.questionId=i.questionId.slice(t.group.shortName.length),t.question=i,t.examID&&u["a"].getGroupExamQuestion(t.qid,t.examID).then((function(e){t.examQuestion=e.data.data}))})):this.addChoice()},switchType:function(t){this.question.type=t},addChoice:function(){this.question.choices.push({content:"",status:!1})},deleteChoice:function(t){this.question.choices.splice(t,1),this.question.radio==t&&(this.question.radio=null)},deleteAllChoices:function(){var t=this;this.$confirm(this.$i18n.t("m.Delete_Choice_Tips"),this.$i18n.t("m.Warning"),{type:"warning"}).then((function(){t.question.choices=[],t.question.radio=null}),(function(){}))},submit:function(){var t=this;if(this.question.questionId){if("add"===this.mode&&(this.question.gid=this.$route.params.groupID,this.question.author=this.userInfo.username),1==this.question.type){if(0==this.question.choices.length)return void this.$msg.error(this.$i18n.t("m.Question_No_Choice"));var e,i=0,n=Object(o["a"])(this.question.choices);try{for(n.s();!(e=n.n()).done;){var a=e.value;a.status&&(i+=1)}}catch(l){n.e(l)}finally{n.f()}if(this.question.single&&(null==this.question.radio||this.question.radio<0||this.question.radio>=this.question.choices.length)||!this.question.single&&0==i)return void this.$msg.error(this.$i18n.t("m.Question_No_Right_Answer"))}var s=this.question.choices;this.question.choices=r["a"].choicesToString(this.question.choices),this.question.score=0,u["a"][this.apiMethod](this.question).then((function(e){t.examID?(e.data.data&&(t.examQuestion["qid"]=e.data.data.qid,t.examQuestion["eid"]=t.examID),u["a"].updateGroupExamQuestion(t.examQuestion).then((function(e){"edit"===t.mode?(t.$msg.success(t.$t("m.Update_Successfully")),t.$emit("handleEditPage")):(t.$msg.success(t.$t("m.Create_Successfully")),t.examID?t.$emit("handleCreateQuestionPage"):t.$emit("handleCreatePage")),t.$emit("currentChange",1)}))):("edit"===t.mode?(t.$msg.success(t.$t("m.Update_Successfully")),t.$emit("handleEditPage")):(t.$msg.success(t.$t("m.Create_Successfully")),t.examID?t.$emit("handleCreateQuestionPage"):t.$emit("handleCreatePage")),t.$emit("currentChange",1))})).catch((function(){})),this.question.choices=s}else this.$msg.error(this.$i18n.t("m.Question_Display_ID")+" "+this.$i18n.t("m.is_required"))}},computed:Object(s["a"])({},Object(l["c"])(["userInfo","group"]))},m=d,h=(i("c985"),i("2877")),p=Object(h["a"])(m,n,a,!1,null,"081779e5",null);e["a"]=p.exports},a434:function(t,e,i){"use strict";var n=i("23e7"),a=i("da84"),s=i("23cb"),o=i("5926"),r=i("07fa"),u=i("7b0b"),l=i("65f0"),c=i("8418"),d=i("1dde"),m=d("splice"),h=a.TypeError,p=Math.max,f=Math.min,g=9007199254740991,_="Maximum allowed length exceeded";n({target:"Array",proto:!0,forced:!m},{splice:function(t,e){var i,n,a,d,m,$,v=u(this),b=r(v),y=s(t,b),x=arguments.length;if(0===x?i=n=0:1===x?(i=0,n=b-y):(i=x-2,n=f(p(o(e),0),b-y)),b+i-n>g)throw h(_);for(a=l(v,n),d=0;d<n;d++)m=y+d,m in v&&c(a,d,v[m]);if(a.length=n,i<n){for(d=y;d<b-n;d++)m=d+n,$=d+i,m in v?v[$]=v[m]:delete v[$];for(d=b;d>b-n+i;d--)delete v[d-1]}else if(i>n)for(d=b-n;d>y;d--)m=d+n-1,$=d+i-1,m in v?v[$]=v[m]:delete v[$];for(d=0;d<i;d++)v[d+y]=arguments[d+2];return v.length=b-n+i,a}})},a956:function(t,e,i){"use strict";i.r(e);var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("mavon-editor",{ref:"md",style:0!=t.height?"min-height:"+t.height+"px":"",attrs:{ishljs:!0,html:t.openHtml,autofocus:!1,toolbars:t.toolbars,codeStyle:"arduino-light",toolbarsFlag:t.toolbarsFlag},on:{imgAdd:t.$imgAdd,imgDel:t.$imgDel},scopedSlots:t._u([t.isAdminRole?{key:"left-toolbar-after",fn:function(){return[i("button",{staticClass:"op-icon fa markdown-upload",attrs:{type:"button",title:t.$t("m.Upload_file"),"aria-hidden":"true"},on:{click:t.uploadFile}},[i("i",{staticClass:"el-icon-upload"})])]},proxy:!0}:null],null,!0),model:{value:t.currentValue,callback:function(e){t.currentValue=e},expression:"currentValue"}}),i("input",{ref:"uploadInput",staticStyle:{display:"none"},attrs:{type:"file"},on:{change:t.uploadFileChange}})],1)},a=[],s=i("5530"),o=(i("a9e3"),i("9911"),i("99af"),i("b0c0"),i("2f62")),r=i("b355"),u={name:"Editor",props:{value:{type:String,default:""},openHtml:{type:Boolean,default:!0},toolbarsFlag:{type:Boolean,default:!0},height:{type:Number,default:0}},data:function(){return{currentValue:this.value,img_file:{},toolbars:{bold:!0,italic:!0,header:!0,underline:!0,strikethrough:!0,mark:!0,superscript:!0,subscript:!0,quote:!0,ol:!0,ul:!0,link:!0,imagelink:!1,code:!0,table:!0,fullscreen:!0,readmodel:!0,htmlcode:!0,help:!0,undo:!0,redo:!0,trash:!0,save:!0,navigation:!0,alignleft:!0,aligncenter:!0,alignright:!0,subfield:!0,preview:!0}}},created:function(){(this.isAdminRole||this.isGroupAdmin||this.$route.params.examID)&&(this.toolbars.imagelink=!0)},methods:{$imgAdd:function(t,e){var i=this;if(this.isAdminRole||this.isGroupAdmin||this.$route.params.examID){var n=new FormData;n.append("image",e),this.$route.params.groupID&&n.append("gid",this.$route.params.groupID),this.$route.params.examID&&n.append("eid",this.$route.params.examID),this.$http({url:"/api/file/upload-md-img",method:"post",data:n,headers:{"Content-Type":"multipart/form-data"}}).then((function(e){i.$refs.md.$img2Url(t,e.data.data.link),i.img_file[e.data.data.link]=e.data.data.fileId}))}},$imgDel:function(t){this.$http({url:"/api/file/delete-md-img",method:"get",params:{fileId:this.img_file[t[0]]}})},uploadFile:function(){this.$refs.uploadInput.click()},uploadFileChange:function(t){var e=this,i=t.target.files[0],n=new FormData;n.append("file",i),this.$route.params.groupID&&n.append("gid",this.$route.params.groupID),this.$route.params.examID&&n.append("eid",this.$route.params.examID),this.$http({url:"/api/file/upload-md-file",method:"post",data:n,headers:{"Content-Type":"multipart/form-data"}}).then((function(t){var n=e.$refs.md;n.insertText(n.getTextareaDom(),{prefix:"[".concat(i.name,"](").concat(t.data.data.link,")"),subfix:"",str:""})}))}},computed:Object(s["a"])({},Object(o["c"])(["isAdminRole","isGroupAdmin"])),watch:{value:function(t){this.currentValue!==t&&(this.currentValue=t)},currentValue:function(t,e){t!==e&&(this.$emit("update:value",t),this.$nextTick((function(t){Object(r["a"])()})))},isAdminRole:function(t){this.toolbars.imagelink=!!t}}},l=u,c=(i("92bc"),i("2877")),d=Object(c["a"])(l,n,a,!1,null,null,null);e["default"]=d.exports},a9c4:function(t,e,i){"use strict";var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[t.editPage?t._e():i("vxe-table",{attrs:{stripe:"","auto-resize":"",data:t.questionList,loading:t.loading,align:"center"}},[i("vxe-table-column",{attrs:{"min-width":"64",field:"id",title:"ID"}}),t.examID?i("vxe-table-column",{attrs:{"min-width":"150",title:t.$t("m.Display_ID"),align:"left"},scopedSlots:t._u([{key:"default",fn:function(e){var n=e.row;return[i("p",[t._v(t._s(t.$t("m.Original_Display_ID"))+"："+t._s(n.questionId))]),t.examQuestionMap[n.id]?i("p",[t._v(" "+t._s(t.$t("m.Exam_Display_ID"))+"："+t._s(t.examQuestionMap[n.id]["displayId"])+" ")]):t._e(),t.examQuestionMap[n.id]?i("p",[t._v(" "+t._s(t.$t("m.Score"))+"： "),i("el-input",{staticStyle:{width:"60%"},attrs:{size:"small"},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.changeExamQuestionScore(t.examQuestionMap[n.id])}},model:{value:t.examQuestionMap[n.id].score,callback:function(e){t.$set(t.examQuestionMap[n.id],"score",e)},expression:"examQuestionMap[row.id].score"}})],1):t._e()]}}],null,!1,307601113)}):i("vxe-table-column",{attrs:{"min-width":"100",field:"questionId",title:t.$t("m.Display_ID")}}),t.examID?t._e():i("vxe-table-column",{attrs:{field:"description","min-width":"150",title:t.$t("m.Question_Description"),"show-overflow":""}}),i("vxe-table-column",{attrs:{field:"author","min-width":"130",title:t.$t("m.Author"),"show-overflow":""}}),i("vxe-table-column",{attrs:{"min-width":"120",title:t.$t("m.Created_Time")},scopedSlots:t._u([{key:"default",fn:function(e){var i=e.row;return[t._v(" "+t._s(t._f("localtime")(i.gmtCreate))+" ")]}}],null,!1,4036319876)}),i("vxe-table-column",{attrs:{"min-width":"96",field:"modifiedUser",title:t.$t("m.Modified_User"),"show-overflow":""}}),i("vxe-table-column",{attrs:{"min-width":"120",title:t.$t("m.Auth")},scopedSlots:t._u([{key:"default",fn:function(e){var n=e.row;return[i("el-select",{attrs:{size:"small",disabled:n.gid!=t.gid||!t.isGroupRoot&&t.userInfo.username!=n.author},on:{change:function(e){return t.changeQuestionAuth(n.id,n.auth)}},model:{value:n.auth,callback:function(e){t.$set(n,"auth",e)},expression:"row.auth"}},[i("el-option",{attrs:{label:t.$t("m.Public_Question"),value:1}}),i("el-option",{attrs:{label:t.$t("m.Private_Question"),value:2}}),i("el-option",{attrs:{label:t.$t("m.Exam_Question"),value:3,disabled:!t.examID}})],1)]}}],null,!1,3388632285)}),i("vxe-table-column",{attrs:{title:t.$t("m.Option"),"min-width":"200"},scopedSlots:t._u([{key:"default",fn:function(e){var n=e.row;return[n.gid!=t.gid||!t.isGroupRoot&&t.userInfo.username!=n.author?t._e():i("el-tooltip",{attrs:{effect:"dark",content:t.$t("m.Edit"),placement:"top"}},[i("el-button",{attrs:{icon:"el-icon-edit-outline",size:"mini",type:"primary"},nativeOn:{click:function(e){return t.goEditQuestion(n.id)}}})],1),t.examID?i("el-tooltip",{attrs:{effect:"dark",content:t.$t("m.Remove"),placement:"top"}},[i("el-button",{attrs:{icon:"el-icon-close",size:"mini",type:"warning"},nativeOn:{click:function(e){return t.removeQuestion(n.id)}}})],1):t._e(),t.examID?i("p"):t._e(),n.gid!=t.gid||!t.isGroupRoot&&t.userInfo.username!=n.author?t._e():i("el-tooltip",{attrs:{effect:"dark",content:t.$t("m.Delete"),placement:"top"}},[i("el-button",{attrs:{icon:"el-icon-delete-solid",size:"mini",type:"danger"},nativeOn:{click:function(e){return t.deleteQuestion(n.id)}}})],1)]}}],null,!1,1643218480)})],1),t.editPage?t._e():i("Pagination",{attrs:{total:t.total,"page-size":t.limit,current:t.currentPage,layout:"prev, pager, next, sizes"},on:{"on-change":t.currentChange,"update:current":function(e){t.currentPage=e},"on-page-size-change":t.onPageSizeChange}}),t.editPage?i("Question",{attrs:{mode:"edit",title:t.$t("m.Edit_Question"),apiMethod:"updateGroupQuestion",qid:t.qid,examID:t.examID},on:{handleEditPage:t.handleEditPage,currentChange:t.currentChange}}):t._e()],1)},a=[],s=i("5530"),o=(i("d3b7"),i("3ca3"),i("ddb0"),i("a9e3"),i("2f62")),r=i("3228"),u=i("a18b"),l=function(){return i.e("chunk-48bf8d0f").then(i.bind(null,"5072"))},c={name:"GroupQuestionList",components:{Pagination:l,Question:u["a"]},props:{examID:{type:Number,default:null},type:{type:Number,default:0}},data:function(){return{total:0,currentPage:1,limit:10,questionList:[],examQuestionMap:{},loading:!1,qid:null,editPage:!1,predefineColors:null,gid:null}},mounted:function(){this.gid=this.$route.params.groupID,this.init()},watch:{type:function(t){this.currentChange(1)}},methods:{init:function(){this.getAdminQuestionList()},onPageSizeChange:function(t){this.limit=t,this.init()},currentChange:function(t){this.currentPage=t,this.init()},getAdminQuestionList:function(){var t=this;if(this.loading=!0,this.examID){var e={eid:this.examID,questionType:this.type,queryExisted:!0};r["a"].getGroupExamQuestionList(this.currentPage,this.limit,e).then((function(e){t.total=e.data.data.questionList.total,t.questionList=e.data.data.questionList.records,t.examQuestionMap=e.data.data.examQuestionMap,t.loading=!1}),(function(e){t.loading=!1}))}else r["a"].getGroupAdminQuestionList(this.currentPage,this.limit,this.type,this.$route.params.groupID).then((function(e){t.questionList=e.data.data.records,t.total=e.data.data.total,t.loading=!1}),(function(e){t.loading=!1}))},handleEditPage:function(){this.editPage=!1,this.$emit("currentChange",1),this.examID?this.$emit("handleEditQuestionPage"):this.$emit("handleEditPage")},goEditQuestion:function(t){this.qid=t,this.editPage=!this.editPage,this.examID?this.$emit("handleEditQuestionPage"):this.$emit("handleEditPage")},changeQuestionAuth:function(t,e){var i=this;r["a"].changeGroupQuestionAuth(t,e).then((function(t){i.$msg.success(i.$i18n.t("m.Update_Successfully")),i.$emit("currentChange",1)}))},changeExamQuestionScore:function(t){var e=this;r["a"].updateGroupExamQuestion(t).then((function(t){e.$msg.success(e.$i18n.t("m.Update_Successfully"))}))},removeQuestion:function(t){var e=this;this.$confirm(this.$i18n.t("m.Remove_Exam_Question_Tips"),this.$i18n.t("m.Warning"),{type:"warning"}).then((function(){r["a"].deleteGroupExamQuestion(t,e.examID).then((function(t){e.$msg.success(e.$t("m.Remove_Successfully")),e.$emit("currentChangeQuestion")})).catch((function(){}))}),(function(){}))},deleteQuestion:function(t){var e=this;this.$confirm(this.$i18n.t("m.Delete_Question_Tips"),this.$i18n.t("m.Warning"),{type:"warning"}).then((function(){r["a"].deleteGroupQuestion(t,e.$route.params.groupID).then((function(t){e.$msg.success(e.$i18n.t("m.Delete_successfully")),e.$emit("currentChange",1),e.currentChange(1)})).catch((function(){}))}),(function(){}))}},computed:Object(s["a"])({},Object(o["c"])(["userInfo","isGroupRoot"]))},d=c,m=i("2877"),h=Object(m["a"])(d,n,a,!1,null,null,null);e["a"]=h.exports},af03:function(t,e,i){var n=i("d039");t.exports=function(t){return n((function(){var e=""[t]('"');return e!==e.toLowerCase()||e.split('"').length>3}))}},c985:function(t,e,i){"use strict";i("4662")}}]);