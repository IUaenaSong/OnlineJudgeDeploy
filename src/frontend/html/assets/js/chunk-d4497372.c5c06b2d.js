(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-d4497372"],{7674:function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"contest-body"},[s("el-row",[s("el-col",{staticStyle:{"margin-top":"10px","margin-bottom":"10px"},attrs:{xs:24,md:24,lg:24}},[s("el-card",{attrs:{shadow:""}},[s("div",{staticClass:"contest-title"},[s("div",{attrs:{slot:"header"},slot:"header"},[s("span",{staticClass:"panel-title"},[t._v(t._s(t.contest.title))])])]),s("el-row",{staticStyle:{"margin-top":"10px"}},[s("el-col",{staticClass:"text-align:left",attrs:{span:12}},[null!=t.contest.auth&&void 0!=t.contest.auth?s("el-tooltip",{attrs:{content:t.$t("m."+t.CONTEST_TYPE_REVERSE[t.contest.auth]["tips"]),placement:"top"}},[s("el-tag",{attrs:{type:t.CONTEST_TYPE_REVERSE[t.contest.auth]["color"],effect:"plain"},on:{"update:type":function(e){return t.$set(t.CONTEST_TYPE_REVERSE[t.contest.auth],"color",e)}}},[t._v(" "+t._s(t.$t("m."+t.CONTEST_TYPE_REVERSE[t.contest.auth]["name"]))+" ")])],1):t._e()],1),s("el-col",{staticStyle:{"text-align":"right"},attrs:{span:12}},[t.contest.count?s("el-button",{attrs:{size:"small",plain:""}},[s("i",{staticClass:"el-icon-user-solid",staticStyle:{color:"rgb(48, 145, 242)"}}),t._v("x"+t._s(t.contest.count)+" ")]):t._e(),0==t.contest.type?[s("el-button",{attrs:{size:"small",type:"primary"}},[s("i",{staticClass:"fa fa-trophy"}),t._v(" "+t._s(t._f("parseContestType")(t.contest.type))+" ")])]:[s("el-tooltip",{attrs:{content:t.$t("m.Contest_Rank")+"："+("Recent"==t.contest.oiRankScoreType?t.$t("m.Based_on_The_Recent_Score_Submitted_Of_Each_Problem"):t.$t("m.Based_on_The_Highest_Score_Submitted_For_Each_Problem")),placement:"top"}},[s("el-button",{attrs:{size:"small",type:"warning"}},[s("i",{staticClass:"fa fa-trophy"}),t._v(" "+t._s(t._f("parseContestType")(t.contest.type))+" ")])],1)]],2)],1),s("div",{staticClass:"contest-time"},[s("el-row",[s("el-col",{staticClass:"left",attrs:{xs:24,md:12}},[s("p",[s("i",{staticClass:"fa fa-hourglass-start",attrs:{"aria-hidden":"true"}}),t._v(" "+t._s(t.$t("m.StartAt"))+"："+t._s(t._f("localtime")(t.contest.startTime))+" ")])]),s("el-col",{staticClass:"right",attrs:{xs:24,md:12}},[s("p",[s("i",{staticClass:"fa fa-hourglass-end",attrs:{"aria-hidden":"true"}}),t._v(" "+t._s(t.$t("m.EndAt"))+"："+t._s(t._f("localtime")(t.contest.endTime))+" ")])])],1)],1),s("div",{staticClass:"slider"},[s("el-slider",{attrs:{"format-tooltip":t.formatTooltip,step:t.timeStep},model:{value:t.progressValue,callback:function(e){t.progressValue=e},expression:"progressValue"}})],1),s("el-row",[s("el-col",{staticStyle:{"text-align":"center"},attrs:{span:24}},[s("el-tag",{style:t.countdownColor,attrs:{effect:"dark",size:"medium"}},[s("i",{staticClass:"fa fa-circle",attrs:{"aria-hidden":"true"}}),t._v(" "+t._s(t.countdown)+" ")])],1)],1)],1)],1)],1),s("div",[s("el-tabs",{on:{"tab-click":t.tabClick},model:{value:t.route_name,callback:function(e){t.route_name=e},expression:"route_name"}},[s("el-tab-pane",{attrs:{name:"ContestDetails",lazy:""}},[s("span",{attrs:{slot:"label"},slot:"label"},[s("i",{staticClass:"el-icon-s-home"}),t._v(" "+t._s(t.$t("m.Overview")))]),s("el-row",[t.passwordFormVisible?s("el-col",{staticStyle:{"margin-top":"10px","margin-bottom":"10px"},attrs:{span:24}},[s("el-card",{staticClass:"password-form-card",staticStyle:{"text-align":"center","margin-bottom":"15px"}},[s("div",{attrs:{slot:"header"},slot:"header"},[s("span",{staticClass:"panel-title",staticStyle:{color:"#e6a23c"}},[s("i",{staticClass:"el-icon-warning"},[t._v(" "+t._s(t.$t("m.Password_Required")))])])]),s("p",{staticClass:"password-form-tips"},[t._v(" "+t._s(t.$t("m.To_Enter_Need_Password"))+" ")]),s("el-form",[s("el-input",{staticStyle:{width:"70%"},attrs:{type:"password",placeholder:t.$t("m.Enter_the_contest_password")},nativeOn:{keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.checkPassword.apply(null,arguments)}},model:{value:t.contestPassword,callback:function(e){t.contestPassword=e},expression:"contestPassword"}}),s("el-button",{staticStyle:{float:"right"},attrs:{type:"primary"},on:{click:t.checkPassword}},[t._v(t._s(t.$t("m.Enter")))])],1)],1)],1):t._e(),s("el-col",{staticStyle:{"margin-top":"10px","margin-bottom":"10px"},attrs:{span:24}},[s("el-card",{staticClass:"box-card"},[s("div",{directives:[{name:"highlight",rawName:"v-highlight"}],staticClass:"markdown-body",domProps:{innerHTML:t._s(t.descriptionHtml)}})])],1)],1)],1),s("el-tab-pane",{attrs:{name:"ContestProblemList",lazy:"",disabled:t.contestMenuDisabled}},[s("span",{attrs:{slot:"label"},slot:"label"},[s("i",{staticClass:"fa fa-list",attrs:{"aria-hidden":"true"}}),t._v(" "+t._s(t.$t("m.Problem")))]),s("transition",{attrs:{name:"el-fade-in-linear"}},["ContestProblemList"===t.route_name?s("router-view"):t._e()],1)],1),t.websiteConfig.openContestJudge||t.isSuperAdmin?s("el-tab-pane",{attrs:{name:"ContestSubmissionList",lazy:"",disabled:t.contestMenuDisabled}},[s("span",{attrs:{slot:"label"},slot:"label"},[s("i",{staticClass:"el-icon-menu"}),t._v(" "+t._s(t.$t("m.Status")))]),s("transition",{attrs:{name:"el-fade-in-linear"}},["ContestSubmissionList"===t.route_name?s("router-view"):t._e()],1)],1):t._e(),s("el-tab-pane",{attrs:{name:"ContestRank",lazy:"",disabled:t.contestMenuDisabled}},[s("span",{attrs:{slot:"label"},slot:"label"},[s("i",{staticClass:"fa fa-bar-chart",attrs:{"aria-hidden":"true"}}),t._v(" "+t._s(t.$t("m.NavBar_Rank")))]),s("transition",{attrs:{name:"el-fade-in-linear"}},["ContestRank"===t.route_name?s("router-view"):t._e()],1)],1),s("el-tab-pane",{attrs:{name:"ContestAnnouncementList",lazy:"",disabled:t.contestMenuDisabled}},[s("span",{attrs:{slot:"label"},slot:"label"},[s("i",{staticClass:"fa fa-bullhorn",attrs:{"aria-hidden":"true"}}),t._v(" "+t._s(t.$t("m.Announcement")))]),s("el-row",[s("el-col",{staticStyle:{"margin-top":"10px","margin-bottom":"10px"},attrs:{span:24}},[s("transition",{attrs:{name:"el-fade-in-linear"}},["ContestAnnouncementList"===t.route_name?s("router-view"):t._e()],1)],1)],1)],1),t.websiteConfig.openContestComment||t.isSuperAdmin?s("el-tab-pane",{attrs:{name:"ContestComment",lazy:"",disabled:t.contestMenuDisabled}},[s("span",{attrs:{slot:"label"},slot:"label"},[s("i",{staticClass:"fa fa-commenting",attrs:{"aria-hidden":"true"}}),t._v(" "+t._s(t.$t("m.Comment")))]),s("el-row",[s("el-col",{staticStyle:{"margin-top":"10px","margin-bottom":"10px"},attrs:{span:24}},[s("transition",{attrs:{name:"el-fade-in-linear"}},["ContestComment"===t.route_name?s("router-view"):t._e()],1)],1)],1)],1):t._e(),t.contest.openPrint?s("el-tab-pane",{attrs:{name:"ContestPrint",lazy:"",disabled:t.contestMenuDisabled}},[s("span",{attrs:{slot:"label"},slot:"label"},[s("i",{staticClass:"el-icon-printer"}),t._v(" "+t._s(t.$t("m.Print")))]),s("transition",{attrs:{name:"el-fade-in-linear"}},["ContestPrint"===t.route_name?s("router-view"):t._e()],1)],1):t._e(),t.showAdminHelper?s("el-tab-pane",{attrs:{name:"ContestACInfo",lazy:"",disabled:t.contestMenuDisabled}},[s("span",{attrs:{slot:"label"},slot:"label"},[s("i",{staticClass:"el-icon-s-help",attrs:{"aria-hidden":"true"}}),t._v(" "+t._s(t.$t("m.Admin_Helper")))]),s("transition",{attrs:{name:"el-fade-in-linear"}},["ContestACInfo"===t.route_name?s("router-view"):t._e()],1)],1):t._e(),t.isSuperAdmin&&t.contest.openPrint?s("el-tab-pane",{attrs:{name:"ContestAdminPrint",lazy:"",disabled:t.contestMenuDisabled}},[s("span",{attrs:{slot:"label"},slot:"label"},[s("i",{staticClass:"el-icon-printer"}),t._v(" "+t._s(t.$t("m.Admin_Print")))]),s("transition",{attrs:{name:"el-fade-in-linear"}},["ContestAdminPrint"===t.route_name?s("router-view"):t._e()],1)],1):t._e(),t.isSuperAdmin?s("el-tab-pane",{attrs:{name:"ContestRejudgeAdmin",lazy:"",disabled:t.contestMenuDisabled}},[s("span",{attrs:{slot:"label"},slot:"label"},[s("i",{staticClass:"el-icon-refresh",attrs:{"aria-hidden":"true"}}),t._v(" "+t._s(t.$t("m.Rejudge")))]),s("el-row",[s("el-col",{staticStyle:{"margin-top":"10px","margin-bottom":"10px"},attrs:{span:24}},[s("transition",{attrs:{name:"el-fade-in-linear"}},["ContestRejudgeAdmin"===t.route_name?s("router-view"):t._e()],1)],1)],1)],1):t._e()],1)],1)],1)},n=[],o=s("5530"),i=(s("b0c0"),s("a4d3"),s("e01a"),s("ffb0")),r=s("c1df"),l=s.n(r),c=s("3228"),m=s("2f62"),u=s("b355"),d=s("9a36"),p=s("8935"),_={name:"",data:function(){return{route_name:"contestDetails",timer:null,CONTEST_STATUS:{},CONTEST_STATUS_REVERSE:{},CONTEST_TYPE_REVERSE:{},RULE_TYPE:{},btnLoading:!1,contestPassword:""}},created:function(){var t=this;this.contestID=this.$route.params.contestID,this.route_name=this.$route.name,"ContestProblemDetails"==this.route_name&&(this.route_name="ContestProblemList"),"ContestSubmissionDetails"==this.route_name&&(this.route_name="ContestSubmissionList"),this.CONTEST_TYPE_REVERSE=Object.assign({},d["d"]),this.CONTEST_STATUS=Object.assign({},d["a"]),this.CONTEST_STATUS_REVERSE=Object.assign({},d["b"]),this.RULE_TYPE=Object.assign({},d["p"]),this.$store.dispatch("getContest").then((function(e){t.changeDomTitle({title:e.data.data.title});var s=e.data.data,a=l()(s.endTime);a.isAfter(l()(s.now))&&(t.timer=setInterval((function(){t.$store.commit("nowAdd1s")}),1e3),t.announceTimer=setInterval((function(){var e=Object(d["t"])(t.userInfo.uid,t.contestID),s=p["a"].get(e)||[],a={cid:t.contestID,readAnnouncementList:s};c["a"].getContestUserNotReadAnnouncement(a).then((function(a){for(var n=a.data.data,o=0;o<n.length;o++)s.push(n[o].id),t.$notify({title:n[o].title,message:'<p style="text-align:center;"><i class="el-icon-time"> '+i["a"].utcToLocal(n[o].gmtCreate)+'</i></p><p style="text-align:center;color:#409eff">'+t.$i18n.t("m.Please_check_the_contest_announcement_for_details")+"</p>",type:"warning",dangerouslyUseHTMLString:!0,duration:0});p["a"].set(e,s)}))}),6e4)),t.$nextTick((function(t){Object(u["a"])()}))}))},methods:Object(o["a"])(Object(o["a"])({},Object(m["b"])(["changeDomTitle"])),{},{formatTooltip:function(t){return-1==this.contest.status?"00:00:00":0==this.contest.status?i["a"].secondFormat(this.BeginToNowDuration):i["a"].secondFormat(this.contest.duration)},checkPassword:function(){var t=this;""!==this.contestPassword?(this.btnLoading=!0,c["a"].registerContest(this.contestID+"",this.contestPassword).then((function(e){t.$msg.success(t.$i18n.t("m.Register_contest_successfully")),t.$store.commit("contestIntoAccess",{intoAccess:!0}),t.btnLoading=!1}),(function(e){t.btnLoading=!1}))):this.$msg.warning(this.$i18n.t("m.Enter_the_contest_password"))},tabClick:function(t){var e=t.name;e!==this.$route.name&&this.$router.push({name:e})}}),computed:Object(o["a"])(Object(o["a"])(Object(o["a"])({},Object(m["d"])({contest:function(t){return t.contest.contest},now:function(t){return t.contest.now}})),Object(m["c"])(["contestMenuDisabled","contestRuleType","contestStatus","countdown","BeginToNowDuration","isContestAdmin","isSuperAdmin","ContestRealTimePermission","passwordFormVisible","userInfo","websiteConfig"])),{},{progressValue:{get:function(){return this.$store.getters.progressValue},set:function(){}},timeStep:function(){return 100/this.contest.duration},countdownColor:function(){if(this.contestStatus)return"color:"+d["b"][this.contestStatus].color},showAdminHelper:function(){return this.isContestAdmin&&this.contestRuleType===d["p"].ACM},descriptionHtml:function(){if(this.contest.description)return this.$markDown.render(this.contest.description)},contestEnded:function(){return this.contestStatus===d["a"].ENDED}}),watch:{$route:function(t){this.route_name=t.name,"ContestProblemDetails"==t.name&&(this.route_name="ContestProblemList"),"ContestSubmissionDetails"==this.route_name&&(this.route_name="ContestSubmissionList"),this.contestID=t.params.contestID,this.changeDomTitle({title:this.contest.title})}},beforeDestroy:function(){clearInterval(this.timer),clearInterval(this.announceTimer),this.$store.commit("clearContest")}},b=_,h=(s("f4bf"),s("2877")),f=Object(h["a"])(b,a,n,!1,null,"20205afc",null);e["default"]=f.exports},b086:function(t,e,s){},f4bf:function(t,e,s){"use strict";s("b086")}}]);