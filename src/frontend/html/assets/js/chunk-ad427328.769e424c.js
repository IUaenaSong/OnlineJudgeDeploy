(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-ad427328"],{"241c1":function(e,t,a){"use strict";a.r(t);var l=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-row",[a("el-col",{staticStyle:{"margin-top":"10px","margin-bottom":"10px"},attrs:{span:24}},[a("el-card",[a("div",{attrs:{slot:"header"},slot:"header"},[a("span",{staticClass:"panel-title home-title"},[e._v(e._s(e.$t("m.Website_Config")))])]),a("el-form",{ref:"form",attrs:{"label-position":"top",model:e.websiteConfig}},[a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{md:8,xs:24}},[a("el-form-item",{attrs:{label:e.$t("m.Base_Url"),required:""}},[a("el-input",{attrs:{placeholder:e.$t("m.Base_Url")},model:{value:e.websiteConfig.baseUrl,callback:function(t){e.$set(e.websiteConfig,"baseUrl",t)},expression:"websiteConfig.baseUrl"}})],1)],1),a("el-col",{attrs:{md:8,xs:24}},[a("el-form-item",{attrs:{label:e.$t("m.Web_Name"),required:""}},[a("el-input",{attrs:{placeholder:e.$t("m.Web_Name")},model:{value:e.websiteConfig.name,callback:function(t){e.$set(e.websiteConfig,"name",t)},expression:"websiteConfig.name"}})],1)],1),a("el-col",{attrs:{md:8,xs:24}},[a("el-form-item",{attrs:{label:e.$t("m.Short_Name"),required:""}},[a("el-input",{attrs:{placeholder:e.$t("m.Short_Name")},model:{value:e.websiteConfig.shortName,callback:function(t){e.$set(e.websiteConfig,"shortName",t)},expression:"websiteConfig.shortName"}})],1)],1),a("el-col",{attrs:{md:12,xs:24}},[a("el-form-item",{attrs:{label:e.$t("m.Record_Name"),required:""}},[a("el-input",{attrs:{placeholder:e.$t("m.Record_Name")},model:{value:e.websiteConfig.recordName,callback:function(t){e.$set(e.websiteConfig,"recordName",t)},expression:"websiteConfig.recordName"}})],1)],1),a("el-col",{attrs:{md:12,xs:24}},[a("el-form-item",{attrs:{label:e.$t("m.Record_Url"),required:""}},[a("el-input",{attrs:{placeholder:e.$t("m.Record_Url")},model:{value:e.websiteConfig.recordUrl,callback:function(t){e.$set(e.websiteConfig,"recordUrl",t)},expression:"websiteConfig.recordUrl"}})],1)],1),a("el-col",{attrs:{md:12,xs:24}},[a("el-form-item",{attrs:{label:e.$t("m.Project_Name"),required:""}},[a("el-input",{attrs:{placeholder:e.$t("m.Project_Name")},model:{value:e.websiteConfig.projectName,callback:function(t){e.$set(e.websiteConfig,"projectName",t)},expression:"websiteConfig.projectName"}})],1)],1),a("el-col",{attrs:{md:12,xs:24}},[a("el-form-item",{attrs:{label:e.$t("m.Project_Url"),required:""}},[a("el-input",{attrs:{placeholder:e.$t("m.Project_Url")},model:{value:e.websiteConfig.projectUrl,callback:function(t){e.$set(e.websiteConfig,"projectUrl",t)},expression:"websiteConfig.projectUrl"}})],1)],1),a("el-col",{attrs:{md:24,xs:24}},[a("el-form-item",{attrs:{label:e.$t("m.Web_Desc"),required:""}},[a("el-input",{attrs:{type:"textarea",placeholder:e.$t("m.Web_Desc"),maxlength:"150","show-word-limit":""},model:{value:e.websiteConfig.description,callback:function(t){e.$set(e.websiteConfig,"description",t)},expression:"websiteConfig.description"}})],1)],1),a("el-col",{attrs:{md:24,xs:24}},[a("el-form-item",{attrs:{label:e.$t("m.Allow_Register"),"label-width":"120px"}},[a("el-switch",{attrs:{"active-color":"#13ce66","inactive-color":"#ff4949"},model:{value:e.websiteConfig.register,callback:function(t){e.$set(e.websiteConfig,"register",t)},expression:"websiteConfig.register"}})],1)],1)],1)],1),a("el-button",{attrs:{type:"primary",size:"small"},nativeOn:{click:function(t){return e.saveWebsiteConfig.apply(null,arguments)}}},[e._v(e._s(e.$t("m.Save")))])],1)],1),a("el-col",{staticStyle:{"margin-top":"10px","margin-bottom":"10px"},attrs:{span:24}},[a("el-card",[a("div",{attrs:{slot:"header"},slot:"header"},[a("span",{staticClass:"panel-title home-title"},[e._v(e._s(e.$t("m.Home_Rotation_Chart")))])]),a("ul",{staticClass:"el-upload-list el-upload-list--picture-card"},e._l(e.carouselImgList,(function(t,l){return a("li",{key:l,staticClass:"el-upload-list__item is-ready",attrs:{tabindex:"0"}},[a("div",[a("img",{staticClass:"el-upload-list__item-thumbnail",staticStyle:{height:"146px",width:"146x"},attrs:{src:t.url,alt:"load faild"}}),a("span",{staticClass:"el-upload-list__item-actions"},[a("span",{staticClass:"el-upload-list__item-preview",on:{click:function(a){return e.handlePictureCardPreview(t)}}},[a("i",{staticClass:"el-icon-zoom-in"})]),e.disabled?e._e():a("span",{staticClass:"el-upload-list__item-delete",on:{click:function(a){return e.handleDownload(t)}}},[a("i",{staticClass:"el-icon-download"})]),e.disabled?e._e():a("span",{staticClass:"el-upload-list__item-delete",on:{click:function(a){return e.handleRemove(t,l)}}},[a("i",{staticClass:"el-icon-delete"})])])])])})),0),a("el-upload",{staticStyle:{display:"inline"},attrs:{action:"/api/file/upload-carouse-img","list-type":"picture-card",accept:"image/gif,image/jpeg,image/jpg,image/png,image/svg,image/jfif,image/webp","on-preview":e.handlePictureCardPreview,"on-remove":e.handleRemove}},[a("i",{staticClass:"el-icon-plus"})]),a("el-dialog",{attrs:{visible:e.dialogVisible},on:{"update:visible":function(t){e.dialogVisible=t}}},[a("img",{attrs:{width:"100%",src:e.dialogImageUrl,alt:""}})]),a("el-dialog",{attrs:{visible:e.dialogVisible},on:{"update:visible":function(t){e.dialogVisible=t}}},[a("img",{attrs:{width:"100%",src:e.dialogImageUrl,alt:""}})])],1)],1),a("el-col",{staticStyle:{"margin-top":"10px","margin-bottom":"10px"},attrs:{span:24}},[a("el-card",[a("div",{attrs:{slot:"header"},slot:"header"},[a("span",{staticClass:"panel-title home-title"},[e._v(e._s(e.$t("m.SMTP_Config")))])]),a("el-form",{attrs:{"label-position":"top",model:e.smtp}},[a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{md:12,xs:24}},[a("el-form-item",{attrs:{label:e.$t("m.Host"),required:"","label-width":"80px"}},[a("el-input",{attrs:{placeholder:e.$t("m.Host")},model:{value:e.smtp.emailHost,callback:function(t){e.$set(e.smtp,"emailHost",t)},expression:"smtp.emailHost"}})],1)],1),a("el-col",{attrs:{md:12,xs:24}},[a("el-form-item",{attrs:{label:e.$t("m.Port"),required:"","label-width":"80px"}},[a("el-input",{attrs:{type:"number",placeholder:e.$t("m.Port")},model:{value:e.smtp.emailPort,callback:function(t){e.$set(e.smtp,"emailPort",t)},expression:"smtp.emailPort"}})],1)],1),a("el-col",{attrs:{md:12,xs:24}},[a("el-form-item",{attrs:{label:e.$t("m.Email"),required:"","label-width":"80px"}},[a("el-input",{attrs:{placeholder:e.$t("m.Email")},model:{value:e.smtp.emailUsername,callback:function(t){e.$set(e.smtp,"emailUsername",t)},expression:"smtp.emailUsername"}})],1)],1),a("el-col",{attrs:{md:12,xs:24}},[a("el-form-item",{attrs:{label:e.$t("m.Password"),"label-width":"80px",required:""}},[a("el-input",{attrs:{type:"password",placeholder:e.$t("m.Password")},model:{value:e.smtp.emailPassword,callback:function(t){e.$set(e.smtp,"emailPassword",t)},expression:"smtp.emailPassword"}})],1)],1),a("el-col",{attrs:{md:12,xs:24}},[a("el-form-item",{attrs:{label:e.$t("m.Email_BG"),"label-width":"80px",required:""}},[a("el-input",{attrs:{placeholder:e.$t("m.Email_BG_Desc")},model:{value:e.smtp.emailBGImg,callback:function(t){e.$set(e.smtp,"emailBGImg",t)},expression:"smtp.emailBGImg"}})],1)],1),a("el-col",{attrs:{md:12,xs:24}},[a("el-form-item",{attrs:{label:"SSL"}},[a("el-switch",{model:{value:e.smtp.emailSsl,callback:function(t){e.$set(e.smtp,"emailSsl",t)},expression:"smtp.emailSsl"}})],1)],1)],1)],1),a("el-button",{attrs:{type:"primary",size:"small"},nativeOn:{click:function(t){return e.saveSMTPConfig.apply(null,arguments)}}},[e._v(e._s(e.$t("m.Save")))]),e.savedSMTP?a("el-button",{attrs:{type:"warning",loading:e.loadingBtnTestSMTP,size:"small"},nativeOn:{click:function(t){return e.testSMTPConfig.apply(null,arguments)}}},[e._v(e._s(e.$t("m.Send_Test_Email")))]):e._e()],1)],1),a("el-col",{staticStyle:{"margin-top":"10px","margin-bottom":"10px"},attrs:{span:24}},[a("el-card",[a("div",{attrs:{slot:"header"},slot:"header"},[a("span",{staticClass:"panel-title home-title"},[e._v(e._s(e.$t("m.Mobile_Config")))])]),a("el-form",{attrs:{"label-position":"top",model:e.mobile}},[a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{md:12,xs:24}},[a("el-form-item",{attrs:{label:e.$t("m.Domain"),required:"","label-width":"80px"}},[a("el-input",{attrs:{placeholder:e.$t("m.Domain")},model:{value:e.mobile.mobileDomain,callback:function(t){e.$set(e.mobile,"mobileDomain",t)},expression:"mobile.mobileDomain"}})],1)],1),a("el-col",{attrs:{md:12,xs:24}},[a("el-form-item",{attrs:{label:e.$t("m.Region_Id"),required:"","label-width":"80px"}},[a("el-input",{attrs:{placeholder:e.$t("m.Region_Id")},model:{value:e.mobile.mobileRegionId,callback:function(t){e.$set(e.mobile,"mobileRegionId",t)},expression:"mobile.mobileRegionId"}})],1)],1),a("el-col",{attrs:{md:12,xs:24}},[a("el-form-item",{attrs:{label:e.$t("m.Access_Key_Id"),required:"","label-width":"80px"}},[a("el-input",{attrs:{placeholder:e.$t("m.Access_Key_Id")},model:{value:e.mobile.mobileAccessKeyId,callback:function(t){e.$set(e.mobile,"mobileAccessKeyId",t)},expression:"mobile.mobileAccessKeyId"}})],1)],1),a("el-col",{attrs:{md:12,xs:24}},[a("el-form-item",{attrs:{label:e.$t("m.Secret"),required:"","label-width":"80px"}},[a("el-input",{attrs:{type:"password",placeholder:e.$t("m.Secret")},model:{value:e.mobile.mobileSecret,callback:function(t){e.$set(e.mobile,"mobileSecret",t)},expression:"mobile.mobileSecret"}})],1)],1),a("el-col",{attrs:{md:12,xs:24}},[a("el-form-item",{attrs:{label:e.$t("m.Sign_Name"),required:"","label-width":"80px"}},[a("el-input",{attrs:{placeholder:e.$t("m.Sign_Name")},model:{value:e.mobile.mobileSignName,callback:function(t){e.$set(e.mobile,"mobileSignName",t)},expression:"mobile.mobileSignName"}})],1)],1),a("el-col",{attrs:{md:12,xs:24}},[a("el-form-item",{attrs:{label:e.$t("m.Template_Code"),required:"","label-width":"80px"}},[a("el-input",{attrs:{placeholder:e.$t("m.Template_Code")},model:{value:e.mobile.mobileTemplateCode,callback:function(t){e.$set(e.mobile,"mobileTemplateCode",t)},expression:"mobile.mobileTemplateCode"}})],1)],1)],1)],1),a("el-button",{attrs:{type:"primary",size:"small"},nativeOn:{click:function(t){return e.saveMobileConfig.apply(null,arguments)}}},[e._v(e._s(e.$t("m.Save")))]),e.savedMobile?a("el-button",{attrs:{type:"warning",loading:e.loadingBtnTestMobile,size:"small"},nativeOn:{click:function(t){return e.testMobileConfig.apply(null,arguments)}}},[e._v(e._s(e.$t("m.Send_Test_Message")))]):e._e()],1)],1),a("el-col",{staticStyle:{"margin-top":"10px","margin-bottom":"10px"},attrs:{span:24}},[a("el-card",[a("div",{attrs:{slot:"header"},slot:"header"},[a("span",{staticClass:"panel-title home-title"},[e._v(e._s(e.$t("m.DataSource_Config")))])]),a("el-form",{attrs:{"label-position":"top",model:e.databaseConfig}},[a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{md:12,xs:24}},[a("el-form-item",{attrs:{label:"MySQL "+e.$t("m.Host"),required:"","label-width":"80px"}},[a("el-input",{attrs:{placeholder:"MySQL "+e.$t("m.Host")},model:{value:e.databaseConfig.dbHost,callback:function(t){e.$set(e.databaseConfig,"dbHost",t)},expression:"databaseConfig.dbHost"}})],1)],1),a("el-col",{attrs:{md:12,xs:24}},[a("el-form-item",{attrs:{label:"MySQL "+e.$t("m.Port"),required:"","label-width":"80px"}},[a("el-input",{attrs:{type:"number",placeholder:"MySQL "+e.$t("m.Port")},model:{value:e.databaseConfig.dbPort,callback:function(t){e.$set(e.databaseConfig,"dbPort",t)},expression:"databaseConfig.dbPort"}})],1)],1),a("el-col",{attrs:{md:12,xs:24}},[a("el-form-item",{attrs:{label:"MySQL "+e.$t("m.Username"),required:"","label-width":"80px"}},[a("el-input",{attrs:{placeholder:"MySQL "+e.$t("m.Username")},model:{value:e.databaseConfig.dbUsername,callback:function(t){e.$set(e.databaseConfig,"dbUsername",t)},expression:"databaseConfig.dbUsername"}})],1)],1),a("el-col",{attrs:{md:12,xs:24}},[a("el-form-item",{attrs:{label:"MySQL "+e.$t("m.Password"),"label-width":"80px",required:""}},[a("el-input",{attrs:{type:"password",placeholder:"MySQL "+e.$t("m.Password")},model:{value:e.databaseConfig.dbPassword,callback:function(t){e.$set(e.databaseConfig,"dbPassword",t)},expression:"databaseConfig.dbPassword"}})],1)],1),a("el-col",{attrs:{md:8,xs:24}},[a("el-form-item",{attrs:{label:"Redis "+e.$t("m.Host"),"label-width":"80px",required:""}},[a("el-input",{attrs:{placeholder:"Redis "+e.$t("m.Host")},model:{value:e.databaseConfig.redisHost,callback:function(t){e.$set(e.databaseConfig,"redisHost",t)},expression:"databaseConfig.redisHost"}})],1)],1),a("el-col",{attrs:{md:8,xs:24}},[a("el-form-item",{attrs:{label:"Redis "+e.$t("m.Port"),"label-width":"80px",required:""}},[a("el-input",{attrs:{type:"number",placeholder:"Redis "+e.$t("m.Port")},model:{value:e.databaseConfig.redisPort,callback:function(t){e.$set(e.databaseConfig,"redisPort",t)},expression:"databaseConfig.redisPort"}})],1)],1),a("el-col",{attrs:{md:8,xs:24}},[a("el-form-item",{attrs:{label:"Redis "+e.$t("m.Password"),"label-width":"80px",required:""}},[a("el-input",{attrs:{type:"password",placeholder:"Redis "+e.$t("m.Password")},model:{value:e.databaseConfig.redisPassword,callback:function(t){e.$set(e.databaseConfig,"redisPassword",t)},expression:"databaseConfig.redisPassword"}})],1)],1)],1)],1),a("el-button",{attrs:{type:"primary",size:"small"},nativeOn:{click:function(t){return e.saveDataBaseConfig.apply(null,arguments)}}},[e._v(e._s(e.$t("m.Save")))])],1)],1)],1)},i=[],s=(a("a434"),a("ac1f"),a("5319"),a("3228")),o=a("90b9"),n={name:"SystemConfig",data:function(){return{initSMTP:!1,initMobile:!1,savedSMTP:!1,savedMobile:!1,loadingBtnTestSMTP:!1,loadingBtnTestMobile:!1,smtp:{emailHost:"smtp.example.com",emailPassword:"",emailPort:587,emailBGImg:"",emailUsername:"email@example.com",emailSsl:!0},mobile:{mobileDomain:"dysmsapi.aliyuncs.com",mobileRegionId:"cn-hangzhou",mobileAccessKeyId:"",mobileSecret:"",mobileSignName:"Online Judge",mobileTemplateCode:""},websiteConfig:{},databaseConfig:{},dialogImageUrl:"",dialogVisible:!1,disabled:!1,carouselImgList:[]}},mounted:function(){var e=this;s["a"].admin_getSMTPConfig().then((function(t){t.data.data?e.smtp=t.data.data:(e.initSMTP=!0,e.$msg.warning("No STMP Config"))})),s["a"].admin_getMobileConfig().then((function(t){t.data.data?e.mobile=t.data.data:(e.initMobile=!0,e.$msg.warning("No Mobile Config"))})),s["a"].getHomeCarousel().then((function(t){e.carouselImgList=t.data.data})),s["a"].admin_getWebsiteConfig().then((function(t){e.websiteConfig=t.data.data})).catch((function(){})),s["a"].admin_getDataBaseConfig().then((function(t){e.databaseConfig=t.data.data})).catch((function(){}))},methods:{handleRemove:function(e){var t=this,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,l=e.id;null!=e.response&&(l=e.response.data.id),s["a"].admin_deleteHomeCarousel(l).then((function(e){t.$msg.success(t.$i18n.t("m.Delete_successfully")),void 0!=a&&t.carouselImgList.splice(a,1)}))},handlePictureCardPreview:function(e){this.dialogImageUrl=e.url,this.dialogVisible=!0},handleDownload:function(e){o["a"].downloadFile(e.url)},saveSMTPConfig:function(){var e=this;s["a"].admin_editSMTPConfig(this.smtp).then((function(t){e.$msg.success(e.$i18n.t("m.Update_Successfully")),e.savedSMTP=!0}),(function(){e.savedSMTP=!1}))},testSMTPConfig:function(){var e=this;this.$prompt(this.$i18n.t("m.Please_input_your_email"),"",{inputPattern:/[\w!#$%&'*+/=?^_`{|}~-]+(?:\.[\w!#$%&'*+/=?^_`{|}~-]+)*@(?:[\w](?:[\w-]*[\w])?\.)+[\w](?:[\w-]*[\w])?/,inputErrorMessage:this.$i18n.t("m.Email_Check_Format")}).then((function(t){var a=t.value;e.loadingBtnTestSMTP=!0,s["a"].admin_testSMTPConfig(a).then((function(t){e.$msg.success(e.$i18n.t("m.Post_successfully")),e.loadingBtnTestSMTP=!1}),(function(){e.loadingBtnTestSMTP=!1}))})).catch((function(){}))},saveMobileConfig:function(){var e=this;s["a"].admin_editMobileConfig(this.mobile).then((function(t){e.$msg.success(e.$i18n.t("m.Update_Successfully")),e.savedMobile=!0}),(function(){e.savedMobile=!1}))},testMobileConfig:function(){var e=this;this.$prompt(this.$i18n.t("m.Please_input_your_mobile"),"",{inputPattern:/^[1][3,4,5,6,7,8,9][0-9]{9}$/,inputErrorMessage:this.$i18n.t("m.Mobile_Check_Format")}).then((function(t){var a=t.value;e.loadingBtnTestMobile=!0,s["a"].admin_testMobileConfig(a).then((function(t){e.$msg.success(e.$i18n.t("m.Post_successfully")),e.loadingBtnTestMobile=!1}),(function(){e.loadingBtnTestMobile=!1}))})).catch((function(){}))},saveWebsiteConfig:function(){var e=this;for(var t in this.websiteConfig)"register"!=t&&(this.websiteConfig[t].replace(/(^\s*)|(\s*$)/g,"")||(this.websiteConfig[t]="None"));s["a"].admin_editWebsiteConfig(this.websiteConfig).then((function(t){e.$msg.success(e.$i18n.t("m.Update_Successfully"))})).catch((function(){}))},saveDataBaseConfig:function(){var e=this;s["a"].admin_editDataBaseConfig(this.databaseConfig).then((function(t){e.$msg.success(e.$i18n.t("m.Update_Successfully"))})).catch((function(){}))}}},r=n,m=a("2877"),d=Object(m["a"])(r,l,i,!1,null,null,null);t["default"]=d.exports},a434:function(e,t,a){"use strict";var l=a("23e7"),i=a("da84"),s=a("23cb"),o=a("5926"),n=a("07fa"),r=a("7b0b"),m=a("65f0"),d=a("8418"),c=a("1dde"),p=c("splice"),b=i.TypeError,u=Math.max,f=Math.min,g=9007199254740991,h="Maximum allowed length exceeded";l({target:"Array",proto:!0,forced:!p},{splice:function(e,t){var a,l,i,c,p,$,C=r(this),w=n(C),_=s(e,w),v=arguments.length;if(0===v?a=l=0:1===v?(a=0,l=w-_):(a=v-2,l=f(u(o(t),0),w-_)),w+a-l>g)throw b(h);for(i=m(C,l),c=0;c<l;c++)p=_+c,p in C&&d(i,c,C[p]);if(i.length=l,a<l){for(c=_;c<w-l;c++)p=c+l,$=c+a,p in C?C[$]=C[p]:delete C[$];for(c=w;c>w-l+a;c--)delete C[c-1]}else if(a>l)for(c=w-l;c>_;c--)p=c+l-1,$=c+a-1,p in C?C[$]=C[p]:delete C[$];for(c=0;c<a;c++)C[c+_]=arguments[c+2];return C.length=w-l+a,i}})}}]);