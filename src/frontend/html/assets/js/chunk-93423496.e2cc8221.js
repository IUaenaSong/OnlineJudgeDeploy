(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-93423496","chunk-13f2b59d"],{"664d":function(t,i,s){"use strict";s("80d3")},"69c1":function(t,i,s){},"753a":function(t,i,s){"use strict";s.r(i);var e=function(){var t=this,i=t.$createElement,s=t._self._c||i;return s("div",{staticClass:"container"},[s("el-row",{attrs:{gutter:20}},[s("el-col",{directives:[{name:"loading",rawName:"v-loading",value:t.loading.discussion,expression:"loading.discussion"}],staticStyle:{"margin-top":"10px","margin-bottom":"10px"},attrs:{md:18,xs:24}},[s("div",{staticClass:"discussion-header"},[s("span",{staticStyle:{padding:"16px",float:"left"}},[s("el-breadcrumb",{attrs:{"separator-class":"el-icon-arrow-right"}},[t.currentCategory?[s("el-breadcrumb-item",{attrs:{to:{name:t.routeName,query:null}}},[t._v(" "+t._s(t.query.onlyMine?t.$t("m.Mine"):"")+t._s(t.$t("m.All")))]),s("el-breadcrumb-item",[t._v(t._s(t.currentCategory)+" ( "+t._s(t.total)+" )")])]:[s("el-breadcrumb-item",{attrs:{to:{name:t.routeName}}},[t._v(t._s(t.query.onlyMine?t.$t("m.Mine"):"")+t._s(t.$t("m.All"))+" ( "+t._s(t.total)+" )")])]],2)],1),s("span",{staticClass:"search"},[s("vxe-input",{attrs:{placeholder:t.$t("m.Enter_keyword"),type:"search"},on:{"search-click":t.handleQueryChange},nativeOn:{keyup:function(i){return!i.type.indexOf("key")&&t._k(i.keyCode,"enter",13,i.key,"Enter")?null:t.handleQueryChange.apply(null,arguments)}},model:{value:t.query.keyword,callback:function(i){t.$set(t.query,"keyword",i)},expression:"query.keyword"}})],1)]),t.discussionList.length>0?t._l(t.discussionList,(function(i,e){return s("div",{key:e,staticClass:"title-article"},[s("el-card",{staticClass:"list-card",attrs:{shadow:"hover"}},[i.topPriority?s("span",{staticClass:"svg-top"},[s("svg",{staticClass:"icon",attrs:{t:"1620283436433",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"10095",width:"48",height:"48"}},[s("path",{attrs:{d:"M989.9222626666667 444.3410103333334L580.1490096666668 34.909091333333336H119.41107066666666l870.511192 870.596525V444.3410103333334z",fill:"#F44336","p-id":"10096"}}),s("path",{attrs:{d:"M621.3675956666667 219.39846433333332l-43.832889-43.770828-126.663111 126.841535-32.826182-32.780929 126.663112-126.841535-43.734627-43.673859 26.739071-26.775273 120.396283 120.224324-26.741657 26.776565zM582.6055756666667 284.67587833333334c24.030384-24.065293 50.614303-36.636444 79.751758-37.71604 29.134869-1.07701 55.240404 9.903838 78.31402 32.945131 21.950061 21.91903 32.323232 46.86998 31.120808 74.851556s-13.257697 53.441939-36.167111 76.383677c-23.901091 23.934707-50.254869 36.406303-79.057455 37.41608-28.806465 1.012364-54.481455-9.739636-77.024969-32.252121-22.016-21.98497-32.689131-47.067798-32.014223-75.244606 0.672323-28.179394 12.365576-53.638465 35.077172-76.383677z m36.196849 32.57794c-14.921697 14.943677-23.517091 30.756202-25.783596 47.438869-2.269091 16.68396 2.880646 31.297939 15.441454 43.841939 12.825859 12.807758 27.34804 18.234182 43.566546 16.271515 16.217212-1.960081 31.985778-10.608485 47.303111-25.947798 15.976727-15.998707 25.133253-32.109899 27.46699-48.332283 2.333737-16.221091-2.813414-30.637253-15.441455-43.247192-12.827152-12.809051-27.67903-18.133333-44.558222-15.972848-16.879192 2.157899-32.877899 10.808889-47.994828 25.947798zM780.1276766666667 524.3048083333333l-53.476848 53.553131-32.726627-32.681374 153.400889-153.616808 52.858829 52.783839c38.213818 38.159515 41.146182 73.44097 8.79709 105.83402-15.71297 15.737535-34.076444 22.586182-55.086545 20.552404-21.012687-2.032485-39.97996-11.897535-56.905697-29.591273l-16.861091-16.833939z m74.572283-74.67701l-49.516606 49.586424 14.182141 14.161454c19.240081 19.211636 37.209212 20.455434 53.913859 3.728809 16.305131-16.329697 14.941091-34.002747-4.101172-53.016566L854.6999596666667 449.6277983333334z",fill:"#FFFFFF","p-id":"10097"}})])]):t._e(),s("h1",{staticClass:"article-hlink"},[s("a",{on:{click:function(s){return t.toDiscussionDetail(i.id)}}},[t._v(t._s(i.title))]),i.pid?s("el-button",{staticStyle:{"margin-left":"5px"},attrs:{type:"primary",size:"mini"},on:{click:function(s){return t.pushRouter(null,{problemID:i.pid},"ProblemDetails")}}},[t._v(t._s(t.$t("m.Go_to_problem")))]):t._e()],1),s("a",{staticClass:"article-hlink2",on:{click:function(s){return t.toDiscussionDetail(i.id)}}},[s("p",[t._v(t._s(i.description))])]),s("div",{staticClass:"title-msg"},[s("span",[s("a",{attrs:{title:i.author},on:{click:function(s){return t.getInfoByUsername(i.uid,i.author)}}},[s("avatar",{staticClass:"user-avatar",attrs:{username:i.author,inline:!0,size:24,color:"#FFF",src:i.avatar}}),s("span",{staticClass:"pl"},[t._v(t._s(i.author))])],1),"root"==i.role?s("span",{staticClass:"role-root role",attrs:{title:"Super Administrator"}},[t._v("SPA")]):t._e(),"admin"==i.role?s("span",{staticClass:"role-admin role",attrs:{title:"Administrator"}},[t._v("ADM")]):t._e()]),s("span",{staticClass:"pr pl"},[s("label",{staticClass:"fw"},[s("i",{staticClass:"el-icon-chat-round"})]),s("span",[s("span",{staticClass:"hidden-xs-only"},[t._v(" "+t._s(t.$t("m.Comment"))+":")]),t._v(" "+t._s(i.commentNum))])]),s("span",{staticClass:"pr"},[s("label",{staticClass:"fw"},[s("i",{staticClass:"fa fa-thumbs-o-up"})]),s("span",[s("span",{staticClass:"hidden-xs-only"},[t._v(" "+t._s(t.$t("m.Likes"))+":")]),t._v(" "+t._s(i.likeNum))])]),s("span",{staticClass:"pr"},[s("label",{staticClass:"fw"},[s("i",{staticClass:"fa fa-eye"})]),s("span",[s("span",{staticClass:"hidden-xs-only"},[t._v(" "+t._s(t.$t("m.Views"))+":")]),t._v(" "+t._s(i.viewNum))])]),s("span",{staticClass:"pr"},[s("label",{staticClass:"fw"},[s("i",{staticClass:"el-icon-folder-opened"})]),s("a",{on:{click:function(s){return t.pushRouter({cid:i.categoryId,onlyMine:t.query.onlyMine},{problemID:t.query.pid},t.routeName)}}},[t._v(" "+t._s(t.cidMapName[i.categoryId]))])]),s("span",{staticClass:"pr pl hidden-xs-only"},[s("label",{staticClass:"fw"},[s("i",{staticClass:"fa fa-clock-o"})]),s("span",[t._v(" "+t._s(t.$t("m.Release_Time"))+"ï¼š"),s("el-tooltip",{attrs:{content:t._f("localtime")(i.gmtCreate),placement:"top"}},[s("span",[t._v(t._s(t._f("fromNow")(i.gmtCreate)))])])],1)]),s("el-dropdown",{directives:[{name:"show",rawName:"v-show",value:t.isAuthenticated&&(i.uid===t.userInfo.uid||t.isAdminRole),expression:"\n                  isAuthenticated &&\n                  (discussion.uid === userInfo.uid || isAdminRole)\n                "}],staticClass:"hidden-xs-only",staticStyle:{float:"right"},on:{command:t.handleCommand}},[s("span",{staticClass:"el-dropdown-link"},[s("i",{staticClass:"el-icon-more"})]),s("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[s("el-dropdown-item",{directives:[{name:"show",rawName:"v-show",value:i.uid===t.userInfo.uid,expression:"discussion.uid === userInfo.uid"}],attrs:{icon:"el-icon-edit-outline",command:"edit:"+e}},[t._v(t._s(t.$t("m.Edit")))]),s("el-dropdown-item",{directives:[{name:"show",rawName:"v-show",value:i.uid===t.userInfo.uid||t.isAdminRole,expression:"discussion.uid === userInfo.uid || isAdminRole"}],attrs:{icon:"el-icon-delete",command:"delete:"+e}},[t._v(t._s(t.$t("m.Delete")))])],1)],1),s("div",{staticClass:"hidden-sm-and-up"},[s("el-dropdown",{directives:[{name:"show",rawName:"v-show",value:t.isAuthenticated&&(i.uid===t.userInfo.uid||t.isAdminRole),expression:"\n                    isAuthenticated &&\n                    (discussion.uid === userInfo.uid || isAdminRole)\n                  "}],staticStyle:{float:"right","margin-top":"10px"},on:{command:t.handleCommand}},[s("span",{staticClass:"el-dropdown-link"},[s("i",{staticClass:"el-icon-more"})]),s("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[s("el-dropdown-item",{directives:[{name:"show",rawName:"v-show",value:i.uid===t.userInfo.uid,expression:"discussion.uid === userInfo.uid"}],attrs:{icon:"el-icon-edit-outline",command:"edit:"+e}},[t._v(t._s(t.$t("m.Edit")))]),s("el-dropdown-item",{directives:[{name:"show",rawName:"v-show",value:i.uid===t.userInfo.uid||t.isAdminRole,expression:"discussion.uid === userInfo.uid || isAdminRole"}],attrs:{icon:"el-icon-delete",command:"delete:"+e}},[t._v(t._s(t.$t("m.Delete")))])],1)],1),s("span",{staticClass:"pr",staticStyle:{float:"right","margin-top":"10px"}},[s("label",{staticClass:"fw"},[s("i",{staticClass:"fa fa-clock-o"})]),s("span",[t._v(" "+t._s(t._f("localtime")(i.gmtCreate)))])])],1)],1)])],1)})):[s("el-empty",{attrs:{description:t.$t("m.No_Data")}})],s("Pagination",{attrs:{total:t.total,"page-size":t.query.limit,current:t.query.currentPage},on:{"on-change":t.changeRoute,"update:current":function(i){return t.$set(t.query,"currentPage",i)}}})],2),s("el-col",{staticStyle:{"margin-top":"10px","margin-bottom":"10px"},attrs:{md:6,xs:24}},[s("el-button",{staticClass:"btn",staticStyle:{width:"100%"},attrs:{type:"primary"},on:{click:t.toEditDiscussion}},[s("i",{staticClass:"el-icon-edit"},[t._v(" "+t._s(""==this.query.pid?t.$t("m.Post_discussion"):t.$t("m.Post_problem_discussion")))])]),t.isAuthenticated?s("el-button",{staticClass:"btn",staticStyle:{width:"100%","margin-left":"0","margin-top":"10px"},attrs:{type:"danger"},on:{click:function(i){return t.toOnlyMyDiscussion(!t.query.onlyMine)}}},[s("i",{staticClass:"el-icon-search"},[t._v(" "+t._s(t.query.onlyMine?t.$t("m.All"):t.$t("m.Mine")))])]):t._e(),this.query.pid?[s("el-button",{staticClass:"btn",staticStyle:{width:"100%","margin-left":"0","margin-top":"10px"},attrs:{type:"success"},on:{click:t.toAllDiscussion}},[s("i",{staticClass:"el-icon-s-home"},[t._v(" "+t._s(t.$t("m.General_discussion")))])]),s("el-button",{staticClass:"btn",staticStyle:{width:"100%","margin-left":"0","margin-top":"10px"},attrs:{type:"warning"},on:{click:function(i){return t.pushRouter({onlyMine:t.query.onlyMine},{problemID:t.query.pid},"ProblemDetails")}}},[s("i",{staticClass:"el-icon-back"},[t._v(" "+t._s(t.$t("m.Return"))+" ("+t._s(t.query.pid)+")")])])]:t._e(),s("div",{staticClass:"category-body"},[s("h3",{staticClass:"title-sidebar"},[s("a",{on:{click:function(i){return t.pushRouter({onlyMine:t.query.onlyMine},{problemID:t.query.pid},t.routeName)}}},[s("i",{staticClass:"el-icon-folder-opened"}),t._v(" "+t._s(t.$t("m.Category")))])]),s("el-row",{directives:[{name:"loading",rawName:"v-loading",value:t.loading.category,expression:"loading.category"}]},t._l(t.categoryList,(function(i,e){return s("el-col",{key:e,staticClass:"category-item",attrs:{span:24,title:i.name}},[s("a",{staticStyle:{display:"block"},on:{click:function(s){return t.pushRouter({cid:i.id,onlyMine:t.query.onlyMine},{problemID:t.query.pid},t.routeName)}}},[s("i",{staticClass:"fa fa-flag"},[t._v(" "+t._s(i.name))]),s("span",{staticClass:"el-icon-arrow-right",staticStyle:{float:"right","font-weight":"600 !important"}})])])})),1)],1)],2)],1),s("el-dialog",{attrs:{title:t.discussionDialogTitle,visible:t.showEditDiscussionDialog,fullscreen:!0},on:{"update:visible":function(i){t.showEditDiscussionDialog=i},open:t.onOpenEditDialog}},[s("el-form",{attrs:{"label-position":"top",model:t.discussion}},[s("el-form-item",{attrs:{label:t.$t("m.Discussion_title"),required:""}},[s("el-input",{staticClass:"title-input",attrs:{placeholder:t.$t("m.Discussion_title")},model:{value:t.discussion.title,callback:function(i){t.$set(t.discussion,"title",i)},expression:"discussion.title"}})],1),s("el-form-item",{attrs:{label:t.$t("m.Discussion_Desc"),required:""}},[s("el-input",{staticClass:"title-input",attrs:{placeholder:t.$t("m.Discussion_Desc")},model:{value:t.discussion.description,callback:function(i){t.$set(t.discussion,"description",i)},expression:"discussion.description"}})],1),s("el-form-item",{attrs:{label:t.$t("m.Discussion_Category"),required:""}},[s("el-select",{attrs:{placeholder:"---"},model:{value:t.discussion.categoryId,callback:function(i){t.$set(t.discussion,"categoryId",i)},expression:"discussion.categoryId"}},t._l(t.categoryList,(function(t){return s("el-option",{key:t.id,attrs:{label:t.name,value:t.id}})})),1)],1),t.isAdminRole?s("el-form-item",{attrs:{label:t.$t("m.Discussion_top"),required:""}},[s("el-switch",{model:{value:t.discussion.topPriority,callback:function(i){t.$set(t.discussion,"topPriority",i)},expression:"discussion.topPriority"}})],1):t._e(),s("el-form-item",{attrs:{label:t.$t("m.Discussion_content"),required:""}},[s("Editor",{attrs:{value:t.discussion.content},on:{"update:value":function(i){return t.$set(t.discussion,"content",i)}}})],1)],1),s("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[s("el-button",{attrs:{type:"danger"},nativeOn:{click:function(i){t.showEditDiscussionDialog=!1}}},[t._v(t._s(t.$t("m.Cancel")))]),s("el-button",{attrs:{type:"primary"},nativeOn:{click:function(i){return t.submitDiscussion.apply(null,arguments)}}},[t._v(t._s(t.$t("m.OK")))])],1)],1)],1)},n=[],a=s("5530"),o=(s("d3b7"),s("3ca3"),s("ddb0"),s("b0c0"),s("ac1f"),s("1276"),s("4a89")),r=s.n(o),l=s("3228"),u=s("2f62"),c=(s("e05f"),s("a956")),d=function(){return s.e("chunk-48bf8d0f").then(s.bind(null,"5072"))},p={name:"DiscussionList",components:{Avatar:r.a,Editor:c["default"],Pagination:d},data:function(){return{total:0,showEditDiscussionDialog:!1,discussion:{id:null,pid:null,title:"",content:"",description:"",categoryId:"",topPriority:!1,uid:"",author:"",avatar:""},backupDiscussion:{},discussionDialogTitle:"",discussionList:[],categoryList:[],cidMapName:{},currentCategory:"",query:{keyword:"",cid:"",currentPage:1,limit:10,pid:"",onlyMine:!1},routeName:"",loading:{discussion:!1,category:!1}}},created:function(){this.routeName=this.$route.name;var t=this.$route.query;this.query.currentPage=parseInt(t.currentPage)||1,this.query.currentPage<1&&(this.query.currentPage=1)},mounted:function(){var t=this;this.discussionDialogTitle=this.$i18n.t("m.Edit_Discussion"),this.loading.category=!0,l["a"].getCategoryList().then((function(i){t.categoryList=i.data.data;for(var s=0;s<t.categoryList.length;s++)t.cidMapName[t.categoryList[s].id]=t.categoryList[s].name;t.loading.category=!1,t.init()}),(function(i){t.loading.category=!1}))},methods:Object(a["a"])(Object(a["a"])({},Object(u["b"])(["changeDomTitle"])),{},{init:function(){this.routeName=this.$route.name;var t=this.$route.query;this.query.keyword=t.keyword||"",this.query.cid=t.cid||"",this.query.pid=this.$route.params.problemID||"",this.query.onlyMine=t.onlyMine+""=="true",this.query.cid?this.currentCategory=this.cidMapName[this.query.cid]:this.currentCategory="",this.query.pid?(this.discussion.pid=this.query.pid,this.changeDomTitle({title:this.query.pid+" Discussion"})):this.discussion.pid=null,this.getDiscussionList()},getDiscussionList:function(){var t=this,i=Object.assign({},this.query);this.loading.discussion=!0,l["a"].getDiscussionList(this.query.limit,i).then((function(i){t.total=i.data.data.total,t.discussionList=i.data.data.records,t.loading.discussion=!1}),(function(i){t.loading.discussion=!1}))},changeRoute:function(t){this.query.currentPage=t,this.pushRouter(this.query,{problemID:this.query.pid},this.routeName)},getInfoByUsername:function(t,i){this.$router.push({path:"/user-home",query:{uid:t,username:i}})},toEditDiscussion:function(){this.isAuthenticated?(this.discussionDialogTitle=this.$i18n.t("m.Create_Discussion"),this.backupDiscussion?(this.discussion=this.backupDiscussion,this.discussion.pid=this.query.pid||null):this.discussion={id:null,pid:this.query.pid||null,title:"",content:"",description:"",categoryId:"",topPriority:!1,uid:"",author:"",avatar:""},this.showEditDiscussionDialog=!0):(this.$msg.warning(this.$i18n.t("m.Please_login_first")),this.$store.dispatch("changeModalStatus",{visible:!0}))},handleQueryChange:function(){this.pushRouter(this.query,{problemID:this.query.pid},this.routeName)},toDiscussionDetail:function(t){this.$router.push({name:"DiscussionDetails",params:{discussionID:t}})},toAllDiscussion:function(){this.$router.push({path:"/discussion"})},toOnlyMyDiscussion:function(t){this.$router.push({path:this.$route.path,query:{onlyMine:t}})},pushRouter:function(t,i,s){this.$router.push({name:s,query:t,params:i})},onOpenEditDialog:function(){setTimeout((function(){if(document.createEvent){var t=document.createEvent("HTMLEvents");t.initEvent("resize",!0,!0),window.dispatchEvent(t)}else document.createEventObject&&window.fireEvent("onresize")}),0)},submitDiscussion:function(){var t=this,i=Object.assign({},this.discussion);this.discussionDialogTitle==this.$i18n.t("m.Create_Discussion")?(i.pid&&(i.title="["+i.pid+"] "+i.title),l["a"].addDiscussion(i).then((function(i){t.$msg.success(t.$i18n.t("m.Post_successfully")),t.showEditDiscussionDialog=!1,t.init()}))):l["a"].updateDiscussion(i).then((function(i){t.$msg.success(t.$i18n.t("m.Update_Successfully")),t.showEditDiscussionDialog=!1,t.init()}))},handleCommand:function(t){var i=this,s=t.split(":");switch(s[0]){case"edit":this.discussionDialogTitle=this.$i18n.t("m.Edit_Discussion"),this.discussion=Object.assign({},this.discussionList[parseInt(s[1])]),this.showEditDiscussionDialog=!0;break;case"delete":this.$confirm(this.$i18n.t("m.Delete_Discussion_Tips"),"Tips",{confirmButtonText:this.$i18n.t("m.OK"),cancelButtonText:this.$i18n.t("m.Cancel"),type:"warning"}).then((function(){l["a"].deleteDiscussion(i.discussionList[parseInt(s[1])].id).then((function(t){i.$msg.success(i.$i18n.t("m.Delete_successfully")),i.init()}))}));break}}}),watch:{$route:function(t,i){t!=i&&this.init()},discussion:function(t,i){this.discussionDialogTitle==this.$i18n.t("m.Create_Discussion")&&t!=i&&(this.backupDiscussion=this.discussion)}},computed:Object(a["a"])({},Object(u["c"])(["isAuthenticated","userInfo","isAdminRole"]))},m=p,h=(s("664d"),s("d20c"),s("2877")),f=Object(h["a"])(m,e,n,!1,null,"b8db066e",null);i["default"]=f.exports},"7e81":function(t,i,s){},"80d3":function(t,i,s){},"857a":function(t,i,s){var e=s("e330"),n=s("1d80"),a=s("577e"),o=/"/g,r=e("".replace);t.exports=function(t,i,s,e){var l=a(n(t)),u="<"+i;return""!==s&&(u+=" "+s+'="'+r(a(e),o,"&quot;")+'"'),u+">"+l+"</"+i+">"}},"92bc":function(t,i,s){"use strict";s("7e81")},9911:function(t,i,s){"use strict";var e=s("23e7"),n=s("857a"),a=s("af03");e({target:"String",proto:!0,forced:a("link")},{link:function(t){return n(this,"a","href",t)}})},a956:function(t,i,s){"use strict";s.r(i);var e=function(){var t=this,i=t.$createElement,s=t._self._c||i;return s("div",[s("mavon-editor",{ref:"md",style:0!=t.height?"min-height:"+t.height+"px":"",attrs:{ishljs:!0,html:t.openHtml,autofocus:!1,toolbars:t.toolbars,codeStyle:"arduino-light",toolbarsFlag:t.toolbarsFlag},on:{imgAdd:t.$imgAdd,imgDel:t.$imgDel},scopedSlots:t._u([t.isAdminRole?{key:"left-toolbar-after",fn:function(){return[s("button",{staticClass:"op-icon fa markdown-upload",attrs:{type:"button",title:t.$t("m.Upload_file"),"aria-hidden":"true"},on:{click:t.uploadFile}},[s("i",{staticClass:"el-icon-upload"})])]},proxy:!0}:null],null,!0),model:{value:t.currentValue,callback:function(i){t.currentValue=i},expression:"currentValue"}}),s("input",{ref:"uploadInput",staticStyle:{display:"none"},attrs:{type:"file"},on:{change:t.uploadFileChange}})],1)},n=[],a=s("5530"),o=(s("a9e3"),s("9911"),s("99af"),s("b0c0"),s("2f62")),r=s("b355"),l={name:"Editor",props:{value:{type:String,default:""},openHtml:{type:Boolean,default:!0},toolbarsFlag:{type:Boolean,default:!0},height:{type:Number,default:0}},data:function(){return{currentValue:this.value,img_file:{},toolbars:{bold:!0,italic:!0,header:!0,underline:!0,strikethrough:!0,mark:!0,superscript:!0,subscript:!0,quote:!0,ol:!0,ul:!0,link:!0,imagelink:!1,code:!0,table:!0,fullscreen:!0,readmodel:!0,htmlcode:!0,help:!0,undo:!0,redo:!0,trash:!0,save:!0,navigation:!0,alignleft:!0,aligncenter:!0,alignright:!0,subfield:!0,preview:!0}}},created:function(){(this.isAdminRole||this.isGroupAdmin||this.$route.params.examID)&&(this.toolbars.imagelink=!0)},methods:{$imgAdd:function(t,i){var s=this;if(this.isAdminRole||this.isGroupAdmin||this.$route.params.examID){var e=new FormData;e.append("image",i),this.$route.params.groupID&&e.append("gid",this.$route.params.groupID),this.$route.params.examID&&e.append("eid",this.$route.params.examID),this.$http({url:"/api/file/upload-md-img",method:"post",data:e,headers:{"Content-Type":"multipart/form-data"}}).then((function(i){s.$refs.md.$img2Url(t,i.data.data.link),s.img_file[i.data.data.link]=i.data.data.fileId}))}},$imgDel:function(t){this.$http({url:"/api/file/delete-md-img",method:"get",params:{fileId:this.img_file[t[0]]}})},uploadFile:function(){this.$refs.uploadInput.click()},uploadFileChange:function(t){var i=this,s=t.target.files[0],e=new FormData;e.append("file",s),this.$route.params.groupID&&e.append("gid",this.$route.params.groupID),this.$route.params.examID&&e.append("eid",this.$route.params.examID),this.$http({url:"/api/file/upload-md-file",method:"post",data:e,headers:{"Content-Type":"multipart/form-data"}}).then((function(t){var e=i.$refs.md;e.insertText(e.getTextareaDom(),{prefix:"[".concat(s.name,"](").concat(t.data.data.link,")"),subfix:"",str:""})}))}},computed:Object(a["a"])({},Object(o["c"])(["isAdminRole","isGroupAdmin"])),watch:{value:function(t){this.currentValue!==t&&(this.currentValue=t)},currentValue:function(t,i){t!==i&&(this.$emit("update:value",t),this.$nextTick((function(t){Object(r["a"])()})))},isAdminRole:function(t){this.toolbars.imagelink=!!t}}},u=l,c=(s("92bc"),s("2877")),d=Object(c["a"])(u,e,n,!1,null,null,null);i["default"]=d.exports},af03:function(t,i,s){var e=s("d039");t.exports=function(t){return e((function(){var i=""[t]('"');return i!==i.toLowerCase()||i.split('"').length>3}))}},d20c:function(t,i,s){"use strict";s("69c1")},e05f:function(t,i,s){}}]);