(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-227b363c"],{"0080":function(t,e,s){"use strict";s.r(e);var n=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"msg-wrap"},[s("h3",{staticClass:"msg-list-header"},[s("span",{staticClass:"ft"},[t._v(t._s(t.$t("m."+t.route_name)))]),s("span",{staticClass:"fr"},[t._v(t._s(t.$t("m.Msg_Total")+" "+t.total+" "+t.$t("m.Msg_Messages"))+" "),s("span",{staticClass:"clear-all",on:{click:function(e){return t.deleteMsg()}}},[t._v(t._s(t.$t("m.Clean_All")))])])]),t.dataList.length>0?t._l(t.dataList,(function(e,n){return s("el-card",{key:n,staticClass:"box-card"},[s("div",{staticClass:"msg-list-item"},[e.state?t._e():s("span",{staticClass:"svg-lt"},[s("svg",{staticClass:"icon",attrs:{t:"1633158277197",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"4745",width:"32",height:"32"}},[s("path",{attrs:{d:"M512 322c-104.92 0-190 85.08-190 190s85.08 190 190 190 190-85.06 190-190-85.08-190-190-190z","p-id":"4746",fill:"#d81e06"}})])]),s("span",{staticStyle:{cursor:"pointer"},on:{click:function(s){return t.getInfoByUsername(e.senderId,e.senderUsername)}}},[s("avatar",{attrs:{username:e.senderUsername,inline:!0,size:40,color:"#FFF",src:e.senderAvatar,title:e.senderUsername}})],1),s("div",{staticClass:"title"},[s("div",[s("span",{staticClass:"user-name",staticStyle:{"margin-right":"3px"},attrs:{title:e.senderUsername},on:{click:function(s){return t.getInfoByUsername(e.senderId,e.senderUsername)}}},[t._v(t._s(e.senderUsername))]),s("span",{staticClass:"msg-action"},[t._v(" "+t._s(t.$t("m.Action_"+e.action))+" ")])]),s("div",{staticStyle:{cursor:"pointer"},on:{click:function(s){return t.goMsgSourceUrl(e.url)}}},[null!=e.sourceContent?s("div",{directives:[{name:"katex",rawName:"v-katex"},{name:"highlight",rawName:"v-highlight"}],staticClass:"content",domProps:{innerHTML:t._s(e.sourceContent)}}):t._e(),null!=e.quoteContent?s("div",{directives:[{name:"katex",rawName:"v-katex"},{name:"highlight",rawName:"v-highlight"}],staticClass:"orginal-reply",domProps:{innerHTML:t._s(e.quoteContent)}}):t._e()]),s("div",{staticClass:"extra-info"},[s("span",[s("i",{staticClass:"el-icon-time"},[s("el-tooltip",{attrs:{content:t._f("localtime")(e.gmtCreate),placement:"top"}},[s("span",[t._v(" "+t._s(t._f("fromNow")(e.gmtCreate)))])])],1)]),s("span",{staticClass:"delete",on:{click:function(s){return t.deleteMsg(e.id)}}},[s("i",{staticClass:"el-icon-delete"},[t._v(" "+t._s(t.$t("m.Delete")))])])])])]),s("div",{staticClass:"link-discussion"},[s("span",[t._v(t._s("Discussion"==e.sourceType?t.$t("m.From_Discussion_Post"):t.$t("m.From_the_Contest"))+" "),s("span",{staticClass:"title",on:{click:function(s){return t.goMsgSourceUrl(e.url)}}},[t._v("“"+t._s(e.sourceTitle)+"”")])])])])})):[s("el-empty",{attrs:{description:t.$t("m.No_Data")}})],s("Pagination",{attrs:{total:t.total,"page-size":t.query.limit,current:t.query.currentPage},on:{"on-change":t.changeRoute,"update:current":function(e){return t.$set(t.query,"currentPage",e)}}})],2)},a=[],i=(s("d3b7"),s("3ca3"),s("ddb0"),s("b0c0"),s("4a89")),r=s.n(i),o=s("3228"),c=function(){return s.e("chunk-48bf8d0f").then(s.bind(null,"5072"))},u={components:{Avatar:r.a,Pagination:c},data:function(){return{dataList:[],query:{currentPage:1,limit:6},loading:!1,total:0,route_name:"DiscussMsg"}},created:function(){this.route_name=this.$route.name},mounted:function(){var t=this.$route.query;this.query.currentPage=parseInt(t.currentPage)||1,this.query.currentPage<1&&(this.query.currentPage=1),this.getMsgList()},methods:{getMsgList:function(){var t=this,e=Object.assign({},this.query);this.loading=!0,o["a"].getMsgList(this.route_name,e).then((function(e){t.total=e.data.data.total,t.dataList=e.data.data.records,t.loading=!1,t.substractUnreadMsgNum()}),(function(e){t.loading=!1}))},changeRoute:function(t){this.query.currentPage=t,this.getMsgList()},goMsgSourceUrl:function(t){this.$router.push({path:t})},getInfoByUsername:function(t,e){this.$router.push({path:"/user-home",query:{uid:t,username:e}})},deleteMsg:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0;this.$confirm(this.$i18n.t("m.Delete_Msg_Tips"),"Tips",{confirmButtonText:this.$i18n.t("m.OK"),cancelButtonText:this.$i18n.t("m.Cancel"),type:"warning"}).then((function(){o["a"].cleanMsg(t.route_name,e).then((function(e){t.$msg.success(t.$i18n.t("m.Delete_successfully")),t.getMsgList()}))}))},substractUnreadMsgNum:function(){var t;switch(this.route_name){case"DiscussMsg":t="comment";break;case"ReplyMsg":t="reply";break;case"LikeMsg":t="like";break}var e={name:t,num:this.limit};this.$store.dispatch("substractUnreadMessageCount",e)},mdToHtml:function(t){return this.$markDown.render(t)}}},l=u,g=(s("53a9"),s("2877")),d=Object(g["a"])(l,n,a,!1,null,"7f07f494",null);e["default"]=d.exports},"3f1e":function(t,e,s){},"53a9":function(t,e,s){"use strict";s("3f1e")}}]);