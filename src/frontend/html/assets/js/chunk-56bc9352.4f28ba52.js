(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-56bc9352"],{"343f":function(t,e,l){"use strict";l("f2fd")},"5f73":function(t,e,l){"use strict";l.r(e);var i=function(){var t=this,e=t.$createElement,l=t._self._c||e;return l("el-row",[l("el-collapse",{attrs:{accordion:""},model:{value:t.activeName,callback:function(e){t.activeName=e},expression:"activeName"}},[l("el-col",{staticStyle:{"margin-top":"10px","margin-bottom":"10px"},attrs:{span:24}},[l("el-card",[l("el-collapse-item",{attrs:{name:"Auth"}},[l("div",{attrs:{slot:"title"},slot:"title"},[l("span",{staticClass:"panel-title home-title"},[t._v(t._s(t.$t("m.General_Auth")))])]),l("div",{staticClass:"filter-row"},[l("span",[l("el-button",{attrs:{type:"primary",size:"small",icon:"el-icon-plus"},on:{click:function(e){return t.openAuthDialog(null)}}},[t._v(t._s(t.$t("m.Create")))])],1),l("span",[l("vxe-input",{attrs:{placeholder:t.$t("m.Enter_keyword"),type:"search",size:"medium"},on:{"search-click":t.filterByKeyword},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.filterByKeyword.apply(null,arguments)}},model:{value:t.keyword,callback:function(e){t.keyword=e},expression:"keyword"}})],1)]),l("div",{staticClass:"list"},[l("vxe-table",{ref:"table",attrs:{loading:t.loading,data:t.authList,"auto-resize":"",stripe:""}},[l("vxe-table-column",{attrs:{"min-width":"50",field:"id",title:"ID"}}),l("vxe-table-column",{attrs:{"min-width":"150",field:"name","show-overflow":"",title:t.$t("m.Auth_Name")}}),l("vxe-table-column",{attrs:{"min-width":"150",field:"permission","show-overflow":"",title:t.$t("m.Auth_Permission")}}),l("vxe-table-column",{attrs:{"min-width":"150",field:"gmtCreate",title:t.$t("m.Created_Time")},scopedSlots:t._u([{key:"default",fn:function(e){var l=e.row;return[t._v(" "+t._s(t._f("localtime")(l.gmtCreate))+" ")]}}])}),l("vxe-table-column",{attrs:{"min-width":"150",field:"gmtModified",title:t.$t("m.Modified_Time")},scopedSlots:t._u([{key:"default",fn:function(e){var l=e.row;return[t._v(" "+t._s(t._f("localtime")(l.gmtModified))+" ")]}}])}),l("vxe-table-column",{attrs:{"min-width":"100",field:"status",title:t.$t("m.Status")},scopedSlots:t._u([{key:"default",fn:function(e){var i=e.row;return[l("el-switch",{attrs:{"active-text":"","inactive-text":"","active-value":0,"inactive-value":1},on:{change:function(e){return t.handleStatusSwitch(i)}},model:{value:i.status,callback:function(e){t.$set(i,"status",e)},expression:"row.status"}})]}}])}),l("vxe-table-column",{attrs:{title:t.$t("m.Option"),"min-width":"150"},scopedSlots:t._u([{key:"default",fn:function(e){return[l("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:t.$t("m.Edit_Auth"),placement:"top"}},[l("el-button",{attrs:{icon:"el-icon-edit-outline",size:"mini",type:"primary"},nativeOn:{click:function(l){return t.openAuthDialog(e.row)}}})],1),l("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:t.$t("m.Delete_Auth"),placement:"top"}},[l("el-button",{attrs:{icon:"el-icon-delete-solid",size:"mini",type:"danger"},nativeOn:{click:function(l){return t.deleteAuth(e.row.id)}}})],1)]}}])})],1),l("div",{staticClass:"panel-options"},[t.total?l("el-pagination",{staticClass:"page",attrs:{layout:"prev, pager, next, sizes","page-size":t.pageSize,total:t.total,"page-sizes":[10,30,50,100]},on:{"current-change":t.currentChange,"size-change":t.onPageSizeChange}}):t._e()],1)],1)])],1)],1),l("el-col",{staticStyle:{"margin-top":"10px","margin-bottom":"10px"},attrs:{span:24}},[l("el-card",[l("el-collapse-item",{attrs:{name:"RoleAuth"}},[l("div",{attrs:{slot:"title"},slot:"title"},[l("span",{staticClass:"panel-title home-title"},[t._v(t._s(t.$t("m.Role_Auth")))])]),l("div",{staticClass:"filter-row"},[l("span",[l("el-button",{attrs:{type:"primary",size:"small",icon:"el-icon-plus"},on:{click:function(e){return t.openRoleAuthDialog(null)}}},[t._v(t._s(t.$t("m.Create")))])],1),l("span",[l("vxe-input",{attrs:{placeholder:t.$t("m.Enter_keyword"),type:"search",size:"medium"},on:{"search-click":t.filterRoleAuthByKeyword},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.filterRoleAuthByKeyword.apply(null,arguments)}},model:{value:t.roleAuthKeyword,callback:function(e){t.roleAuthKeyword=e},expression:"roleAuthKeyword"}})],1),l("span",[l("el-select",{staticStyle:{width:"180px"},attrs:{size:"small"},on:{change:t.AuthRoleChangeFilter},model:{value:t.roleId,callback:function(e){t.roleId=e},expression:"roleId"}},[l("el-option",{key:0,attrs:{label:"请选择",value:0,disabled:""}}),l("el-option",{key:1e3,attrs:{label:"超级管理员",value:1e3}}),l("el-option",{key:1001,attrs:{label:"普通管理员",value:1001}}),l("el-option",{key:1008,attrs:{label:"题目管理员",value:1008}}),l("el-option",{key:1002,attrs:{label:"用户(默认)",value:1002}}),l("el-option",{key:1003,attrs:{label:"用户(禁止提交)",value:1003}}),l("el-option",{key:1004,attrs:{label:"用户(禁止发讨论)",value:1004}}),l("el-option",{key:1005,attrs:{label:"用户(禁言)",value:1005}}),l("el-option",{key:1006,attrs:{label:"用户(禁止提交&禁止发讨论)",value:1006}}),l("el-option",{key:1007,attrs:{label:"用户(禁止提交&禁言)",value:1007}})],1)],1)]),l("div",{staticClass:"list"},[l("vxe-table",{ref:"table",attrs:{loading:t.roleAuthLoading,data:t.roleAuthList,"auto-resize":"",stripe:""}},[l("vxe-table-column",{attrs:{"min-width":"50",field:"id",title:"ID"}}),l("vxe-table-column",{attrs:{"min-width":"150",field:"name","show-overflow":"",title:t.$t("m.Auth_Name")}}),l("vxe-table-column",{attrs:{"min-width":"150",field:"permission","show-overflow":"",title:t.$t("m.Auth_Permission")}}),l("vxe-table-column",{attrs:{"min-width":"150",field:"gmtCreate",title:t.$t("m.Created_Time")},scopedSlots:t._u([{key:"default",fn:function(e){var l=e.row;return[t._v(" "+t._s(t._f("localtime")(l.gmtCreate))+" ")]}}])}),l("vxe-table-column",{attrs:{"min-width":"150",field:"gmtModified",title:t.$t("m.Modified_Time")},scopedSlots:t._u([{key:"default",fn:function(e){var l=e.row;return[t._v(" "+t._s(t._f("localtime")(l.gmtModified))+" ")]}}])}),l("vxe-table-column",{attrs:{title:t.$t("m.Option"),"min-width":"150"},scopedSlots:t._u([{key:"default",fn:function(e){return[l("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:t.$t("m.Delete_Auth"),placement:"top"}},[l("el-button",{attrs:{icon:"el-icon-delete-solid",size:"mini",type:"danger"},nativeOn:{click:function(l){return t.deleteRoleAuth(e.row.id)}}})],1)]}}])})],1),l("div",{staticClass:"panel-options"},[t.total?l("el-pagination",{staticClass:"page",attrs:{layout:"prev, pager, next, sizes","page-size":t.roleAuthPageSize,total:t.roleAuthTotal,"page-sizes":[10,30,50,100]},on:{"current-change":t.roleAuthCurrentChange,"size-change":t.onRoleAuthPageSizeChange}}):t._e()],1)],1)])],1)],1)],1),l("el-dialog",{attrs:{title:t.authDialogTitle,visible:t.showAuthDialog,width:"400px","close-on-click-modal":!1},on:{"update:visible":function(e){t.showAuthDialog=e}}},[l("el-form",{attrs:{"label-width":"100px","label-position":"left",model:t.auth}},[l("el-row",[l("el-col",{attrs:{span:24}},[l("el-form-item",{attrs:{label:t.$t("m.Auth_Name"),required:""}},[l("el-input",{attrs:{placeholder:t.$t("m.Auth_Name")},model:{value:t.auth.name,callback:function(e){t.$set(t.auth,"name",e)},expression:"auth.name"}})],1)],1),l("el-col",{attrs:{span:24}},[l("el-form-item",{attrs:{label:t.$t("m.Auth_Permission"),required:""}},[l("el-input",{attrs:{placeholder:t.$t("m.Auth_Permission")},model:{value:t.auth.permission,callback:function(e){t.$set(t.auth,"permission",e)},expression:"auth.permission"}})],1)],1),l("el-col",{attrs:{span:24}},[l("el-form-item",{attrs:{label:t.$t("m.Status")}},[l("el-switch",{attrs:{"active-value":0,"inactive-value":1,"active-text":"","inactive-text":""},model:{value:t.auth.status,callback:function(e){t.$set(t.auth,"status",e)},expression:"auth.status"}})],1)],1)],1)],1),l("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[l("el-button",{attrs:{type:"danger"},nativeOn:{click:function(e){t.showAuthDialog=!1}}},[t._v(t._s(t.$t("m.Cancel")))]),l("el-button",{attrs:{type:"primary"},nativeOn:{click:function(e){return t.submitAuth.apply(null,arguments)}}},[t._v(t._s(t.$t("m.OK")))])],1)],1),l("el-dialog",{attrs:{title:t.$t("m.Create_Role_Auth"),visible:t.showRoleAuthDialog,width:"400px","close-on-click-modal":!1},on:{"update:visible":function(e){t.showRoleAuthDialog=e}}},[l("el-form",{attrs:{"label-width":"100px","label-position":"left",model:t.roleAuth}},[l("el-row",[l("el-col",{attrs:{span:24}},[l("el-form-item",{attrs:{label:t.$t("m.Role"),required:""}},[l("el-select",{model:{value:t.roleAuth.roleId,callback:function(e){t.$set(t.roleAuth,"roleId",e)},expression:"roleAuth.roleId"}},[l("el-option",{key:0,attrs:{label:"请选择",value:0,disabled:""}}),l("el-option",{key:1e3,attrs:{label:"超级管理员",value:1e3}}),l("el-option",{key:1001,attrs:{label:"普通管理员",value:1001}}),l("el-option",{key:1008,attrs:{label:"题目管理员",value:1008}}),l("el-option",{key:1002,attrs:{label:"用户(默认)",value:1002}}),l("el-option",{key:1003,attrs:{label:"用户(禁止提交)",value:1003}}),l("el-option",{key:1004,attrs:{label:"用户(禁止发讨论)",value:1004}}),l("el-option",{key:1005,attrs:{label:"用户(禁言)",value:1005}}),l("el-option",{key:1006,attrs:{label:"用户(禁止提交&禁止发讨论)",value:1006}}),l("el-option",{key:1007,attrs:{label:"用户(禁止提交&禁言)",value:1007}})],1)],1)],1),l("el-col",{attrs:{span:24}},[l("el-form-item",{attrs:{label:t.$t("m.Auth_Id"),required:""}},[l("el-input",{attrs:{placeholder:t.$t("m.Auth_Id"),type:"number"},model:{value:t.roleAuth.authId,callback:function(e){t.$set(t.roleAuth,"authId",e)},expression:"roleAuth.authId"}})],1)],1)],1)],1),l("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[l("el-button",{attrs:{type:"danger"},nativeOn:{click:function(e){t.showRoleAuthDialog=!1}}},[t._v(t._s(t.$t("m.Cancel")))]),l("el-button",{attrs:{type:"primary"},nativeOn:{click:function(e){return t.submitRoleAuth.apply(null,arguments)}}},[t._v(t._s(t.$t("m.OK")))])],1)],1)],1)},a=[],o=(l("b0c0"),l("3228")),n={name:"Auth",data:function(){return{activeName:"Auth",pageSize:10,roleAuthPageSize:10,total:0,roleAuthTotal:0,mode:"create",roleAuthMode:"create",showAuthDialog:!1,showRoleAuthDialog:!1,authList:[],roleAuthList:[],roleId:0,auth:{id:null,name:"",permission:"",status:0},roleAuth:{roleId:null,authId:null},authDialogTitle:"Edit Auth",keyword:"",roleAuthKeyword:"",loading:!1,roleAuthLoading:!1,currentPage:1,roleAuthcurrentPage:1}},mounted:function(){this.init()},methods:{init:function(){this.getAuthList(1),this.getRoleAuthList(1)},currentChange:function(t){this.currentPage=t,this.getAuthList(t)},roleAuthCurrentChange:function(t){this.roleAuthCurrentPage=t,this.getRoleAuthList(t)},onPageSizeChange:function(t){this.pageSize=t,this.getAuthList(this.currentPage)},onRoleAuthPageSizeChange:function(t){this.roleAuthPageSize=t,this.getRoleAuthList(this.currentPage)},filterByKeyword:function(){this.currentChange(1)},filterRoleAuthByKeyword:function(){this.roleAuthCurrentChange(1)},AuthRoleChangeFilter:function(){this.getRoleAuthList(1)},getAuthList:function(t){var e=this;this.loading=!0,o["a"].admin_getAuthList(t,this.pageSize,this.keyword).then((function(t){e.loading=!1,e.total=t.data.data.total,e.authList=t.data.data.records}),(function(t){e.loading=!1}))},submitAuth:function(){var t,e=this,l=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0,i="";l.id||(l=this.auth),i="edit"===this.mode?"admin_updateAuth":"admin_createAuth",t=l,o["a"][i](t).then((function(t){e.showAuthDialog=!1,e.$msg.success(e.$i18n.t("m.Successfully")),e.getAuthList(1)})).catch((function(){e.showAuthDialog=!1}))},deleteAuth:function(t){var e=this;this.$confirm(this.$i18n.t("m.Delete_Auth_Tips"),this.$i18n.t("m.Warning"),{confirmButtonText:this.$i18n.t("m.OK"),cancelButtonText:this.$i18n.t("m.Cancel"),type:"warning"}).then((function(){e.loading=!0,o["a"].admin_deleteAuth(t).then((function(t){e.loading=!0,e.$msg.success(e.$i18n.t("m.Delete_successfully")),e.getAuthList(1)}))})).catch((function(){e.loading=!1}))},openAuthDialog:function(t){this.showAuthDialog=!0,null!==t?(this.authDialogTitle=this.$i18n.t("m.Edit_Auth"),this.auth=Object.assign({},t),this.mode="edit"):(this.authDialogTitle=this.$i18n.t("m.Create_Auth"),this.auth.id=null,this.auth.name="",this.auth.permission="",this.auth.status=0,this.mode="create")},handleStatusSwitch:function(t){this.mode="edit",this.submitAuth({id:t.id,name:t.name,permission:t.permission,status:t.status})},getRoleAuthList:function(t){var e=this;this.roleAuthloading=!0,o["a"].admin_getRoleAuthList(t,this.roleAuthPageSize,this.roleAuthKeyword,this.roleId).then((function(t){e.roleAuthloading=!1,e.roleAuthTotal=t.data.data.total,e.roleAuthList=t.data.data.records}),(function(t){e.roleAuthloading=!1}))},submitRoleAuth:function(){var t,e=this,l=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0;l.id||(l=this.roleAuth),t=l,o["a"].admin_createRoleAuth(t).then((function(t){e.showRoleAuthDialog=!1,e.$msg.success(e.$i18n.t("m.Successfully")),e.getRoleAuthList(1)})).catch((function(){e.showRoleAuthDialog=!1}))},deleteRoleAuth:function(t){var e=this;this.$confirm(this.$i18n.t("m.Delete_Auth_Tips"),this.$i18n.t("m.Warning"),{confirmButtonText:this.$i18n.t("m.OK"),cancelButtonText:this.$i18n.t("m.Cancel"),type:"warning"}).then((function(){e.roleAuthLoading=!0,o["a"].admin_deleteRoleAuth(t,e.roleId).then((function(t){e.roleAuthLoading=!1,e.$msg.success(e.$i18n.t("m.Delete_successfully")),e.getRoleAuthList(1)}))})).catch((function(){e.roleAuthLoading=!1}))},openRoleAuthDialog:function(t){this.showRoleAuthDialog=!0,this.roleAuth.roleId=0,this.roleAuth.authId=null}},computed:{},watch:{}},s=n,u=(l("343f"),l("2877")),r=Object(u["a"])(s,i,a,!1,null,"8db4c4b8",null);e["default"]=r.exports},f2fd:function(t,e,l){}}]);