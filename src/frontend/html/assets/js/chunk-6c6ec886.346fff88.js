(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6c6ec886"],{"309d":function(t,e,i){"use strict";i("f09d")},"70cd":function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("el-row",{attrs:{gutter:20}},[i("el-col",{staticStyle:{"margin-top":"10px","margin-bottom":"10px"},attrs:{sm:24,md:18,lg:18}},[i("el-card",{attrs:{shadow:""}},[i("div",{attrs:{slot:"header"},slot:"header"},[i("el-row",{staticStyle:{"margin-bottom":"0.5em"},attrs:{gutter:20}},[i("el-col",{attrs:{xs:24,sm:6}},[i("span",{staticClass:"problem-list-title"},[t._v(t._s(t.$t("m.Problem_List")))])]),i("el-col",{attrs:{xs:24,sm:6}},[i("vxe-input",{staticClass:"filter-mt",attrs:{placeholder:t.$t("m.Enter_keyword"),type:"search",size:"medium"},on:{"search-click":t.filterByKeyword},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.filterByKeyword.apply(null,arguments)}},model:{value:t.query.keyword,callback:function(e){t.$set(t.query,"keyword",e)},expression:"query.keyword"}})],1),i("el-col",{staticClass:"filter-mt",staticStyle:{"text-align":"center","padding-top":"6px"},attrs:{xs:12,sm:6}},[i("vxe-checkbox",{on:{change:function(e){return t.changeTagVisible(t.tagVisible)}},model:{value:t.tagVisible,callback:function(e){t.tagVisible=e},expression:"tagVisible"}},[t._v(t._s(t.$t("m.Tags")))])],1),i("el-col",{staticClass:"filter-mt",staticStyle:{"text-align":"center"},attrs:{xs:12,sm:6}},[i("el-button",{attrs:{type:"primary",size:"small",icon:"el-icon-refresh",round:""},on:{click:t.onReset}},[t._v(t._s(t.$t("m.Reset")))])],1)],1),i("section",[i("b",{staticClass:"problem-filter"},[t._v(t._s(t.$t("m.Problem_Bank")))]),i("div",[i("el-tag",{staticClass:"filter-item",attrs:{size:"medium",effect:"All"===t.query.oj?"dark":"plain"},on:{click:function(e){return t.filterByOJ("All")}}},[t._v(t._s(t.$t("m.All")))]),i("el-tag",{staticClass:"filter-item",attrs:{size:"medium",effect:"Mine"===t.query.oj||""===t.query.oj?"dark":"plain"},on:{click:function(e){return t.filterByOJ("Mine")}}},[t._v(t._s(t.$t("m.My_OJ")))]),t._l(t.REMOTE_OJ,(function(e,a){return i("el-tag",{key:a,staticClass:"filter-item",attrs:{size:"medium",effect:t.query.oj==e.key?"dark":"plain"},on:{click:function(i){return t.filterByOJ(e.key)}}},[t._v(t._s(e.name))])}))],2)]),i("section",[i("b",{staticClass:"problem-filter"},[t._v(t._s(t.$t("m.Level")))]),i("div",[i("el-tag",{staticClass:"filter-item",attrs:{size:"medium",effect:"All"===t.query.difficulty||""===t.query.difficulty?"dark":"plain"},on:{click:function(e){return t.filterByDifficulty("All")}}},[t._v(t._s(t.$t("m.All")))]),t._l(t.PROBLEM_LEVEL,(function(e,a,s){return i("el-tag",{key:s,staticClass:"filter-item",style:t.getLevelBlockColor(a),attrs:{size:"medium",effect:t.query.difficulty==a?"dark":"plain"},on:{click:function(e){return t.filterByDifficulty(a)}}},[t._v(t._s(t.getLevelName(a)))])}))],2)]),t.filterTagList.length>0&&t.buildFilterTagList?[i("el-row",[i("b",{staticClass:"problem-filter"},[t._v(t._s(t.$t("m.Tags")))]),t._l(t.filterTagList,(function(e,a){return i("el-tag",{key:a,staticClass:"filter-item",attrs:{closable:"",color:e.color?e.color:"#409eff",effect:"dark","disable-transitions":!1,size:"medium"},on:{close:function(i){return t.removeTag(e)}}},[t._v(" "+t._s(e.name)+" ")])}))],2)]:t._e()],2),i("vxe-table",{ref:"problemList",attrs:{border:"inner",stripe:"","auto-resize":"",loading:t.loadings.table,data:t.problemList,"tooltip-config":{enterable:!0}},on:{"cell-mouseenter":t.cellHover}},[t.isAuthenticated?i("vxe-table-column",{attrs:{title:"",width:"30"},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.row;return[t.isGetStatusOk?[i("el-tooltip",{attrs:{content:t.JUDGE_STATUS[a.myStatus]["name"],placement:"top"}},[0==a.myStatus?[i("i",{staticClass:"el-icon-check",style:t.getIconColor(a.myStatus)})]:-10!=a.myStatus?[i("i",{staticClass:"el-icon-minus",style:t.getIconColor(a.myStatus)})]:t._e()],2)]:t._e()]}}],null,!1,893541202)}):t._e(),i("vxe-table-column",{attrs:{field:"problemId",title:t.$t("m.Problem_ID"),width:"150","show-overflow":""}}),i("vxe-table-column",{attrs:{field:"title",title:t.$t("m.Problem"),"min-width":"150","show-overflow":""},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.row;return[i("a",{staticClass:"title-a",on:{click:function(e){return t.getProblemUri(a.problemId)}}},[t._v(t._s(a.title))])]}}])}),i("vxe-table-column",{attrs:{field:"difficulty",title:t.$t("m.Level"),"min-width":"100"},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.row;return[i("span",{staticClass:"el-tag el-tag--small",style:t.getLevelColor(a.difficulty)},[t._v(t._s(t.getLevelName(a.difficulty)))])]}}])}),i("vxe-table-column",{attrs:{field:"tag",title:t.$t("m.Tags"),"min-width":"230",visible:!1},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.row;return t._l(a.tags,(function(e){return i("span",{key:e.id,staticClass:"el-tag el-tag--small",style:"cursor: pointer;margin-right:7px;color:#FFF;background-color:"+(e.color?e.color:"#409eff"),on:{click:function(i){return t.addTag(e)}}},[t._v(t._s(e.name))])}))}}])}),i("vxe-table-column",{attrs:{field:"total",title:t.$t("m.Total"),"min-width":"80"}}),i("vxe-table-column",{attrs:{field:"ac",title:t.$t("m.AC_Rate"),"min-width":"120",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.row;return[i("span",[i("el-tooltip",{staticStyle:{"margin-top":"0"},attrs:{effect:"dark",content:a.ac+"/"+a.total,placement:"top"}},[i("el-progress",{attrs:{"text-inside":!0,"stroke-width":20,color:t.customColors,percentage:t.getPassingRate(a.ac,a.total)}})],1)],1)]}}])})],1)],1),i("Pagination",{attrs:{total:t.total,"page-size":t.limit,current:t.query.currentPage,layout:"prev, pager, next, sizes"},on:{"on-change":t.pushRouter,"update:current":function(e){return t.$set(t.query,"currentPage",e)},"on-page-size-change":t.onPageSizeChange}})],1),i("el-col",{staticStyle:{"margin-top":"10px","margin-bottom":"10px"},attrs:{sm:24,md:6,lg:6}},[i("el-card",{staticStyle:{"text-align":"center"}},[i("span",{staticClass:"panel-title"},[t._v(t._s(t.currentProblemTitle))]),t._l(t.problemRecord,(function(e,a){return i("el-row",{key:a,attrs:{gutter:3}},[i("el-col",{staticStyle:{"margin-top":"10px"},attrs:{xs:5,sm:4,md:6,lg:4}},[i("el-tag",{attrs:{effect:"dark",size:"small",color:t.JUDGE_STATUS[e.status].rgb}},[t._v(t._s(t.JUDGE_STATUS[e.status].short))])],1),i("el-col",{staticStyle:{"margin-top":"-3px"},attrs:{xs:19,sm:20,md:18,lg:20}},[i("el-progress",{attrs:{"text-inside":!0,"stroke-width":20,percentage:e.count,color:t.JUDGE_STATUS[e.status].rgb}})],1)],1)}))],2),i("el-card",{staticStyle:{"margin-top":"20px"},attrs:{padding:10}},[i("div",{staticStyle:{"text-align":"center"},attrs:{slot:"header"},slot:"header"},[i("span",{staticClass:"taglist-title"},[t._v(t._s(t.OJName+" "+t.$t("m.Tags")))]),i("div",{staticStyle:{margin:"10px 0"}},[i("el-input",{attrs:{size:"medium","prefix-icon":"el-icon-search",placeholder:t.$t("m.Search_Filter_Tag"),clearable:""},on:{input:t.filterSearchTag},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.filterSearchTag.apply(null,arguments)}},model:{value:t.searchTag,callback:function(e){t.searchTag=e},expression:"searchTag"}})],1)]),t.searchTagList.length>0?[t._l(t.searchTagList,(function(e){return i("el-button",{key:e.id,staticClass:"tag-btn",style:"color:#FFF;background-color:"+(e.color?e.color:"#409eff"),attrs:{type:"ghost",size:"mini"},on:{click:function(i){return t.addTag(e)}}},[t._v(t._s(e.name)+" ")])})),i("el-button",{attrs:{long:"",id:"pick-one"},on:{click:t.pickone}},[i("i",{staticClass:"fa fa-random"}),t._v(" "+t._s(t.$t("m.Pick_a_random_question"))+" ")])]:[i("el-empty",{attrs:{description:t.$t("m.No_Data")}})]],2)],1)],1)},s=[],r=i("5530"),l=(i("d3b7"),i("3ca3"),i("ddb0"),i("b0c0"),i("e9c43"),i("d81d"),i("b680"),i("4de4"),i("a434"),i("2f62")),n=i("3228"),o=i("9a36"),c=i("90b9"),u=(i("e05f"),function(){return i.e("chunk-48bf8d0f").then(i.bind(null,"5072"))}),g={name:"ProblemList",components:{Pagination:u},data:function(){return{PROBLEM_LEVEL:{},JUDGE_STATUS:{},JUDGE_STATUS_RESERVE:{},REMOTE_OJ:{},tagList:[],tagVisible:!1,currentProblemTitle:"",problemRecord:[],problemList:[],limit:30,total:100,isGetStatusOk:!1,loadings:{table:!0,tag:!0},filterConfig:{remote:!0},filterTagList:[],buildFilterTagList:!1,routeName:"",query:{keyword:"",difficulty:"All",oj:"",tagId:"",currentPage:1},customColors:[{color:"#909399",percentage:20},{color:"#f56c6c",percentage:40},{color:"#e6a23c",percentage:60},{color:"#1989fa",percentage:80},{color:"#67c23a",percentage:100}],searchTag:"",searchTagList:[]}},created:function(){this.init()},mounted:function(){var t=this;this.PROBLEM_LEVEL=Object.assign({},o["m"]),this.JUDGE_STATUS_RESERVE=Object.assign({},o["l"]),this.JUDGE_STATUS=Object.assign({},o["k"]),this.REMOTE_OJ=Object.assign({},o["o"]),this.currentProblemTitle=this.$i18n.t("m.Touch_Get_Status"),this.problemRecord=[{status:0,count:100},{status:-1,count:100},{status:1,count:100},{status:2,count:100},{status:3,count:100},{status:-3,count:100},{status:-2,count:100},{status:4,count:100}],this.getTagList(this.query.oj),this.loadings.table=!0,setTimeout((function(){t.$refs.problemList.getColumnByField("tag").visible=!1,t.$refs.problemList.refreshColumn(),t.loadings.table=!1}),200),this.getData()},methods:{init:function(){this.routeName=this.$route.name;var t=this.$route.query;this.query.difficulty=t.difficulty||"",this.query.oj=t.oj||"Mine",this.query.keyword=t.keyword||"";try{this.query.tagId=JSON.parse(t.tagId)}catch(e){this.query.tagId=[]}this.query.currentPage=parseInt(t.currentPage)||1,this.query.currentPage<1&&(this.query.currentPage=1)},getData:function(){this.getProblemList()},pushRouter:function(){this.query.tagId=JSON.stringify(this.filterTagList.map((function(t){return t.id}))),this.$router.push({path:"/problem",query:this.query})},onPageSizeChange:function(t){this.limit=t,this.getProblemList()},getPercentage:function(t,e){return 0==t?0:Math.round(t/e*1e4)/100},getPassingRate:function(t,e){return e?(t/e*100).toFixed(2):0},cellHover:function(t){var e,i=t.data[t.rowIndex];e=0==i.type?[{status:0,count:this.getPercentage(i.ac,i.total)},{status:-1,count:this.getPercentage(i.wa,i.total)},{status:1,count:this.getPercentage(i.tle,i.total)},{status:2,count:this.getPercentage(i.mle,i.total)},{status:3,count:this.getPercentage(i.re,i.total)},{status:-3,count:this.getPercentage(i.pe,i.total)},{status:-2,count:this.getPercentage(i.ce,i.total)},{status:4,count:this.getPercentage(i.se,i.total)}]:[{status:0,count:this.getPercentage(i.ac,i.total)},{status:8,count:this.getPercentage(i.pa,i.total)},{status:-1,count:this.getPercentage(i.wa,i.total)},{status:1,count:this.getPercentage(i.tle,i.total)},{status:2,count:this.getPercentage(i.mle,i.total)},{status:3,count:this.getPercentage(i.re,i.total)},{status:-3,count:this.getPercentage(i.pe,i.total)},{status:-2,count:this.getPercentage(i.ce,i.total)},{status:4,count:this.getPercentage(i.se,i.total)}],this.problemRecord=e,this.currentProblemTitle=i.title},getProblemList:function(){var t=this,e=Object.assign({},this.query);"All"==e.difficulty&&(e.difficulty=""),"All"==e.oj?e.oj="":e.oj||(e.oj="Mine"),e.tagId=e.tagId+"",this.loadings.table=!0,n["a"].getProblemList(this.limit,e).then((function(e){if(t.total=e.data.data.total,t.problemList=e.data.data.records,t.isAuthenticated){for(var i=[],a=0;a<t.problemList.length;a++)i.push(t.problemList[a].pid);if(i.length>0){t.isGetStatusOk=!1;var s=!1,r=!1;n["a"].getUserProblemStatus(i,s,r).then((function(e){for(var i=e.data.data,a=0;a<t.problemList.length;a++)t.problemList[a]["myStatus"]=i[t.problemList[a].pid].status;t.isGetStatusOk=!0}))}}t.loadings.table=!1}),(function(e){t.loadings.table=!1}))},getTagList:function(t){var e=this;"Mine"==t&&(t="ME"),this.loadings.tag=!0,n["a"].getProblemTagList(t).then((function(t){e.tagList=t.data.data,e.searchTagList=t.data.data;for(var i=e.query.tagId.length,a=e.tagList.length,s=0;s<i;s++)for(var r=0;r<a;r++)if(e.query.tagId[s]==e.tagList[r].id){e.filterTagList.push(e.tagList[r]);break}e.buildFilterTagList=!0,e.loadings.tag=!1}),(function(t){e.loadings.tag=!1}))},filterSearchTag:function(){var t=this;this.searchTag?this.searchTagList=this.tagList.filter((function(e){return e.name.toLowerCase().indexOf(t.searchTag.toLowerCase())>=0})):this.searchTagList=this.tagList},changeTagVisible:function(t){this.$refs.problemList.getColumnByField("tag").visible=t,this.$refs.problemList.refreshColumn()},onReset:function(){this.filterTagList=[],"{}"!=JSON.stringify(this.$route.query)&&this.$router.push({name:"ProblemList"})},removeTag:function(t){this.filterTagList.splice(this.filterTagList.indexOf(t),1),this.filterByTag()},addTag:function(t){for(var e=this.filterTagList.length,i=0;i<e;i++)if(this.filterTagList[i].id==t.id)return;this.filterTagList.push(t),this.filterByTag()},filterByTag:function(){this.query.currentPage=1,this.pushRouter()},filterByDifficulty:function(t){this.query.difficulty=t,this.query.currentPage=1,this.pushRouter()},filterByOJ:function(t){this.query.oj=t,"All"!=t&&(this.filterTagList=[]),this.query.currentPage=1,this.getTagList(this.query.oj),this.pushRouter()},filterByKeyword:function(){this.query.currentPage=1,this.pushRouter()},pickone:function(){var t=this;n["a"].pickone().then((function(e){t.$msg.success(t.$i18n.t("m.Good_luck_to_you")),t.$router.push({name:"ProblemDetails",params:{problemID:e.data.data.problemId}})}))},getProblemUri:function(t){this.$router.push({name:"ProblemDetails",params:{problemID:t}})},getLevelColor:function(t){return c["a"].getLevelColor(t)},getLevelName:function(t){return c["a"].getLevelName(t)},getIconColor:function(t){return"font-weight: 600;font-size: 16px;color:"+this.JUDGE_STATUS[t].rgb},getLevelBlockColor:function(t){if(t==this.query.difficulty)return this.getLevelColor(t)}},computed:Object(r["a"])(Object(r["a"])({},Object(l["c"])(["isAuthenticated"])),{},{OJName:function(){return"Mine"!=this.query.oj&&this.$route.query.oj?"All"==this.query.oj?this.$i18n.t("m.All"):this.query.oj:this.$i18n.t("m.My_OJ")}}),watch:{$route:function(t,e){t!==e&&(this.init(),this.getData())},isAuthenticated:function(t){!0===t&&(this.init(),this.getData())}}},f=g,d=(i("309d"),i("2877")),m=Object(d["a"])(f,a,s,!1,null,"369b14c7",null);e["default"]=m.exports},a434:function(t,e,i){"use strict";var a=i("23e7"),s=i("da84"),r=i("23cb"),l=i("5926"),n=i("07fa"),o=i("7b0b"),c=i("65f0"),u=i("8418"),g=i("1dde"),f=g("splice"),d=s.TypeError,m=Math.max,h=Math.min,p=9007199254740991,y="Maximum allowed length exceeded";a({target:"Array",proto:!0,forced:!f},{splice:function(t,e){var i,a,s,g,f,b,_=o(this),v=n(_),T=r(t,v),k=arguments.length;if(0===k?i=a=0:1===k?(i=0,a=v-T):(i=k-2,a=h(m(l(e),0),v-T)),v+i-a>p)throw d(y);for(s=c(_,a),g=0;g<a;g++)f=T+g,f in _&&u(s,g,_[f]);if(s.length=a,i<a){for(g=T;g<v-a;g++)f=g+a,b=g+i,f in _?_[b]=_[f]:delete _[b];for(g=v;g>v-a+i;g--)delete _[g-1]}else if(i>a)for(g=v-a;g>T;g--)f=g+a-1,b=g+i-1,f in _?_[b]=_[f]:delete _[b];for(g=0;g<i;g++)_[g+T]=arguments[g+2];return _.length=v-a+i,s}})},e05f:function(t,e,i){},f09d:function(t,e,i){}}]);