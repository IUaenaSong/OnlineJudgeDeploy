(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-415d7d40"],{"18b1":function(t,n,e){"use strict";e.r(n);var i=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("el-card",{attrs:{shadow:"",padding:10}},[e("div",{attrs:{slot:"header"},slot:"header"},[t.isContest?e("span",{staticClass:"panel-title"},[t._v(t._s(t.title))]):e("span",{staticClass:"home-title panel-title"},[t._v(t._s(t.title))]),e("span",{staticStyle:{float:"right"}},[t.listVisible?e("el-button",{attrs:{type:"primary",size:"small",icon:"el-icon-refresh",loading:t.btnLoading},on:{click:t.init}},[t._v(t._s(t.$t("m.Refresh")))]):e("el-button",{attrs:{type:"primary",icon:"el-icon-back",size:"small"},on:{click:t.goBack}},[t._v(t._s(t.$t("m.Back")))])],1)]),e("transition-group",{attrs:{name:"el-zoom-in-bottom"}},[t.announcements.length?t._e():e("div",{key:"no-announcement",staticClass:"no-announcement"},[e("el-empty",{attrs:{description:t.$t("m.No_Announcements")}})],1),t.listVisible?[e("ul",{key:"list",staticClass:"announcements-container"},t._l(t.announcements,(function(n){return e("li",{key:n.title},[e("div",{staticClass:"flex-container"},[e("div",{staticClass:"title"},[e("a",{staticClass:"entry",on:{click:function(e){return t.goAnnouncement(n)}}},[t._v(" "+t._s(n.title))])]),e("div",{staticClass:"info"},[e("span",{staticClass:"date"},[e("i",{staticClass:"el-icon-edit"}),t._v(" "+t._s(t._f("localtime")(n.gmtCreate))+" ")]),e("span",{staticClass:"creator"},[e("i",{staticClass:"el-icon-user"}),t._v(" "+t._s(n.username)+" ")])])])])})),0),t.isContest?t._e():e("Pagination",{key:"page",attrs:{total:t.total,"page-size":t.limit},on:{"on-change":t.getAnnouncementList}})]:[e("div",{directives:[{name:"katex",rawName:"v-katex"},{name:"highlight",rawName:"v-highlight"}],key:"content",staticClass:"content-container markdown-body",domProps:{innerHTML:t._s(t.announcement.content)}})]],2)],1)},s=[],a=(e("d3b7"),e("3ca3"),e("ddb0"),e("a9e3"),e("3228")),o=e("b355"),c=function(){return e.e("chunk-48bf8d0f").then(e.bind(null,"5072"))},l={name:"Announcement",components:{Pagination:c},props:{limit:{type:Number,default:5}},data:function(){return{total:0,btnLoading:!1,announcements:[],announcement:"",listVisible:!0}},mounted:function(){this.init()},methods:{init:function(){this.isContest?this.getContestAnnouncementList():this.getAnnouncementList()},getAnnouncementList:function(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;this.btnLoading=!0,a["a"].getAnnouncementList(n,this.limit).then((function(n){t.btnLoading=!1,t.announcements=n.data.data.records,t.total=n.data.data.total}),(function(){t.btnLoading=!1}))},getContestAnnouncementList:function(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;this.btnLoading=!0,a["a"].getContestAnnouncementList(n,this.limit,this.$route.params.contestID).then((function(n){t.btnLoading=!1,t.announcements=n.data.data.records,t.total=n.data.data.total}),(function(){t.btnLoading=!1}))},goAnnouncement:function(t){this.announcement=t,this.announcement.content=this.$markDown.render(t.content),this.listVisible=!1,this.$nextTick((function(t){Object(o["a"])()}))},goBack:function(){this.listVisible=!0,this.announcement=""}},computed:{title:function(){return this.listVisible?this.isContest?this.$i18n.t("m.Contest_Announcement"):this.$i18n.t("m.Announcement"):this.announcement.title},isContest:function(){return!!this.$route.params.contestID}}},u=l,r=(e("4ae3"),e("2877")),m=Object(r["a"])(u,i,s,!1,null,"2eb68d10",null);n["default"]=m.exports},"4ae3":function(t,n,e){"use strict";e("f9a6")},f9a6:function(t,n,e){}}]);